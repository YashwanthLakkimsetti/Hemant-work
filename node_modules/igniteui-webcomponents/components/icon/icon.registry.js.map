{"version":3,"file":"icon.registry.js","sourceRoot":"","sources":["../../../src/components/icon/icon.registry.ts"],"names":[],"mappings":"AAIA,MAAM,OAAO,aAAa;IAcxB;QAHQ,kBAAa,GAAG,IAAI,GAAG,EAA0B,CAAC;QAClD,cAAS,GAAG,IAAI,GAAG,EAA8C,CAAC;QAGxE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;IACpD,CAAC;IAbM,MAAM,CAAC,QAAQ;QACpB,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;YAC5B,aAAa,CAAC,SAAS,GAAG,IAAI,aAAa,EAAE,CAAC;SAC/C;QAED,OAAO,aAAa,CAAC,SAAS,CAAC;IACjC,CAAC;IASM,SAAS,CAAC,QAAoD;QACnE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC/B,CAAC;IAEM,WAAW,CAAC,QAAoD;QACrE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;IAEM,YAAY,CAAC,IAAY,EAAE,QAAgB,EAAE,UAAU,GAAG,SAAS;QACxE,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,GAAG,CAAC,SAAS,GAAG,QAAQ,CAAC;QACzB,MAAM,GAAG,GAAG,GAAG,CAAC,aAAa,CAAC,KAAK,CAAe,CAAC;QAEnD,IAAI,GAAG,EAAE;YACP,GAAG,CAAC,YAAY,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YAC5B,GAAG,CAAC,YAAY,CAAC,qBAAqB,EAAE,eAAe,CAAC,CAAC;YACzD,MAAM,OAAO,GAAG,GAAG,CAAC,SAAS,CAAC;YAE9B,MAAM,kBAAkB,GAAG,IAAI,CAAC,yBAAyB,CAAC,UAAU,CAAC,CAAC;YACtE,kBAAkB,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;YACnC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC;SACpD;aAAM;YACL,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;SAC3C;IACH,CAAC;IAEM,OAAO,CAAC,IAAY,EAAE,UAAU,GAAG,SAAS;QACjD,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;YACtC,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAE,CAAC,IAAI,CAAC,CAAC;SAClD;QAED,OAAO,SAAS,CAAC;IACnB,CAAC;IAEO,yBAAyB,CAAC,IAAY;QAC5C,IAAI,UAA0B,CAAC;QAE/B,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YAChC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAE,CAAC;SAC5C;aAAM;YACL,UAAU,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;SAC1C;QAED,OAAO,UAAU,CAAC;IACpB,CAAC;CACF;AAED,MAAM,CAAC,MAAM,YAAY,GAAG,KAAK,EAC/B,IAAY,EACZ,GAAW,EACX,UAAU,GAAG,SAAS,EACtB,EAAE;IACF,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC;IAElC,IAAI,QAAQ,CAAC,EAAE,EAAE;QACf,MAAM,KAAK,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;QACpC,aAAa,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC;KAChE;SAAM;QACL,MAAM,IAAI,KAAK,CAAC,gCAAgC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;KACrE;AACH,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,oBAAoB,GAAG,CAClC,IAAY,EACZ,QAAgB,EAChB,UAAU,GAAG,SAAS,EACtB,EAAE;IACF,aAAa,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;AACpE,CAAC,CAAC;AAEF,MAAM,aAAa,GAAmB;IACpC,eAAe,EAAE,gLAAgL;IACjM,aAAa,EAAE,+KAA+K;IAC9L,iBAAiB,EAAE,mKAAmK;IACtL,mBAAmB,EAAE,8KAA8K;IACnM,oBAAoB,EAAE,6KAA6K;IACnM,WAAW,EAAE,2TAA2T;IACxU,WAAW,EAAE,6LAA6L;CAC3M,CAAC","sourcesContent":["interface IconCollection {\n  [name: string]: string;\n}\n\nexport class IconsRegistry {\n  private static _instance: IconsRegistry;\n\n  public static instance() {\n    if (!IconsRegistry._instance) {\n      IconsRegistry._instance = new IconsRegistry();\n    }\n\n    return IconsRegistry._instance;\n  }\n\n  private iconsRegistry = new Map<string, IconCollection>();\n  private callbacks = new Set<(name: string, collection: string) => void>();\n\n  constructor() {\n    this.iconsRegistry.set('internal', internalIcons);\n  }\n\n  public subscribe(callback: (name: string, collection: string) => void) {\n    this.callbacks.add(callback);\n  }\n\n  public unsubscribe(callback: (name: string, collection: string) => void) {\n    this.callbacks.delete(callback);\n  }\n\n  public registerIcon(name: string, iconText: string, collection = 'default') {\n    const div = document.createElement('div');\n    div.innerHTML = iconText;\n    const svg = div.querySelector('svg') as SVGElement;\n\n    if (svg) {\n      svg.setAttribute('fit', '');\n      svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');\n      const svgText = svg.outerHTML;\n\n      const collectionRegistry = this.getOrCreateIconCollection(collection);\n      collectionRegistry[name] = svgText;\n      this.callbacks.forEach((c) => c(name, collection));\n    } else {\n      throw new Error('SVG element not found.');\n    }\n  }\n\n  public getIcon(name: string, collection = 'default') {\n    if (this.iconsRegistry.has(collection)) {\n      return this.iconsRegistry.get(collection)![name];\n    }\n\n    return undefined;\n  }\n\n  private getOrCreateIconCollection(name: string) {\n    let collection: IconCollection;\n\n    if (this.iconsRegistry.has(name)) {\n      collection = this.iconsRegistry.get(name)!;\n    } else {\n      collection = {};\n      this.iconsRegistry.set(name, collection);\n    }\n\n    return collection;\n  }\n}\n\nexport const registerIcon = async (\n  name: string,\n  url: string,\n  collection = 'default'\n) => {\n  const response = await fetch(url);\n\n  if (response.ok) {\n    const value = await response.text();\n    IconsRegistry.instance().registerIcon(name, value, collection);\n  } else {\n    throw new Error(`Icon request failed. Status: ${response.status}.`);\n  }\n};\n\nexport const registerIconFromText = (\n  name: string,\n  iconText: string,\n  collection = 'default'\n) => {\n  IconsRegistry.instance().registerIcon(name, iconText, collection);\n};\n\nconst internalIcons: IconCollection = {\n  navigate_before: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M15.61 7.41L14.2 6l-6 6 6 6 1.41-1.41L11.03 12l4.58-4.59z\"/></svg>`,\n  navigate_next: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M10.02 6L8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z\"/></svg>`,\n  keyboard_arrow_up: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z\"/></svg>`,\n  keyboard_arrow_down: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"/></svg>`,\n  keyboard_arrow_right: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"/></svg>`,\n  chip_cancel: `<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"/></svg>`,\n  chip_select: `<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/></svg>`,\n};\n"]}