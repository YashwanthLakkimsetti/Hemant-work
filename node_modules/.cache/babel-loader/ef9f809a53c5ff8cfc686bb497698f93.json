{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, markType, INotifyPropertyChanged_$type, PropertyChangedEventArgs, Array_$type, enumGetBox, EnumUtil, typeGetValue, Number_$type, String_$type, fromEnum, typeCast, Date_$type, markDep, runOn, TypeRegistrar } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { DataAbbreviationMode_$type } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { FontInfo } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { Size } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty, stringEmpty } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { LegendItemBadgeShape_$type } from \"igniteui-react-core\";\nimport { Control } from \"igniteui-react-core\";\nimport { IDataLegend_$type } from \"igniteui-react-core\";\nimport { IOnDemandRender_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { DataLegendValueMode_$type } from \"igniteui-react-core\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { DataLegendHeaderDateMode_$type } from \"igniteui-react-core\";\nimport { DataLegendHeaderTimeMode_$type } from \"igniteui-react-core\";\nimport { DataLegendSummaryType_$type } from \"igniteui-react-core\";\nimport { DataLegendUnitsMode_$type } from \"igniteui-react-core\";\nimport { DataLegendLabelMode_$type } from \"igniteui-react-core\";\nimport { BindingFormatter } from \"igniteui-react-core\";\nimport { DataLegendVisualData } from \"./DataLegendVisualData\";\nimport { Extensions } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { DataLegendVisualDataRow } from \"./DataLegendVisualDataRow\";\nimport { DataLegendVisualDataColumn } from \"./DataLegendVisualDataColumn\";\nimport { IDataLegendSeries_$type } from \"igniteui-react-core\";\nimport { RectData } from \"igniteui-react-core\";\nimport { AppearanceHelper } from \"igniteui-react-core\";\nimport { FrameworkElement } from \"igniteui-react-core\";\nimport { DataLegendSummaryEventArgs } from \"./DataLegendSummaryEventArgs\";\nimport { DataLegendSummaryCalculationTotal } from \"./DataLegendSummaryCalculationTotal\";\nimport { DataLegendSummaryCalculationAverage } from \"./DataLegendSummaryCalculationAverage\";\nimport { DataLegendSummaryCalculationMin } from \"./DataLegendSummaryCalculationMin\";\nimport { DataLegendSummaryCalculationMax } from \"./DataLegendSummaryCalculationMax\";\nimport { DataLegendSummaryCalculationEmpty } from \"./DataLegendSummaryCalculationEmpty\";\nimport { DataLegendStylingRowEventArgs } from \"./DataLegendStylingRowEventArgs\";\nimport { DataLegendStylingColumnEventArgs } from \"./DataLegendStylingColumnEventArgs\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { DataLegendColumn } from \"./DataLegendColumn\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { DataLegendRenderContext } from \"./DataLegendRenderContext\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { ContentControl } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSummaryColumn } from \"igniteui-react-core\";\nimport { DataLegendSeriesGroup_$type } from \"igniteui-react-core\";\nimport { DataAbbreviator } from \"./DataAbbreviator\";\nimport { NumberFormatSpecifier } from \"igniteui-react-core\";\nimport { DateTimeFormatSpecifier } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_, isInfinity, truncate } from \"igniteui-react-core\";\nimport { numberToString2 } from \"igniteui-react-core\";\nimport { EventProxy } from \"igniteui-react-core\";\nimport { Tuple$2 } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { DataTemplatePassInfo } from \"igniteui-react-core\";\nimport { DataTemplateMeasureInfo } from \"igniteui-react-core\";\nimport { DataTemplateRenderInfo } from \"igniteui-react-core\";\nimport { FontDefaults } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar DataLegendContent =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DataLegendContent, _super);\n\n  function DataLegendContent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.a = new List$1(DataLegendRowInfo.$, 0);\n    _this.d = 0;\n    _this.c = 0;\n    return _this;\n  }\n\n  Object.defineProperty(DataLegendContent.prototype, \"b\", {\n    get: function get() {\n      return this.a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  DataLegendContent.prototype.f = function () {\n    this.b.clear();\n  };\n\n  DataLegendContent.prototype.e = function (a) {\n    this.b.add(a);\n  };\n\n  DataLegendContent.$t = markType(DataLegendContent, 'DataLegendContent');\n  return DataLegendContent;\n}(Base);\n\nexport { DataLegendContent };\n/**\n * @hidden\n */\n\nvar DataLegendRowBase =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DataLegendRowBase, _super);\n\n  function DataLegendRowBase(a, b, c, d) {\n    var _this = _super.call(this) || this;\n\n    _this.e = 0;\n    _this.b = false;\n    _this.d = false;\n    _this.a = false;\n    _this.c = false;\n    _this.e = d;\n    _this.d = b;\n    _this.a = c;\n    _this.c = !c && !b;\n    _this.b = true;\n    return _this;\n  }\n\n  DataLegendRowBase.$t = markType(DataLegendRowBase, 'DataLegendRowBase');\n  return DataLegendRowBase;\n}(Base);\n\nexport { DataLegendRowBase };\n/**\n * @hidden\n */\n\nvar DataLegendRowCell =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DataLegendRowCell, _super);\n\n  function DataLegendRowCell(a, b, c, d) {\n    var _this = _super.call(this, a, b, c, d) || this;\n\n    _this.s = 0;\n    _this.f = 0;\n    _this.r = 0;\n    _this.v = null;\n    _this.t = null;\n    _this.w = null;\n    _this.u = null;\n    _this.y = null;\n    _this.z = null;\n    _this.aa = null;\n    _this.g = null;\n    _this.i = null;\n    _this.h = null;\n    _this.ak = null;\n    _this.am = null;\n    _this.al = null;\n    _this.af = new Size();\n    _this.aj = new Size();\n    _this.ah = new Size();\n    _this.m = false;\n    _this.j = false;\n    _this.ab = null;\n    _this.ad = null;\n    _this.ac = null;\n    _this.ae = new Size();\n    _this.ai = new Size();\n    _this.ag = new Size();\n    _this.r = NaN;\n    _this.ak = new Thickness(0, 0);\n    _this.am = new Thickness(0, 0);\n    _this.al = new Thickness(0, 0);\n    _this.af = new Size(1, 0, 0);\n    _this.aj = new Size(1, 0, 0);\n    _this.ah = new Size(1, 0, 0);\n    _this.m = true;\n    _this.j = true;\n\n    if (_this.c) {\n      _this.y = a.br();\n      _this.aa = a.bt();\n      _this.z = a.bs();\n      _this.g = a.j();\n      _this.i = a.n();\n      _this.h = a.m();\n    } else if (_this.d) {\n      var e = a.bq();\n      var f = a.k();\n      _this.y = e;\n      _this.aa = e;\n      _this.z = e;\n      _this.g = f;\n      _this.i = f;\n      _this.h = f;\n    } else {\n      var g = a.bo();\n      var h = a.i();\n      _this.y = g;\n      _this.aa = g;\n      _this.z = g;\n      _this.g = h;\n      _this.i = h;\n      _this.h = h;\n    }\n\n    _this.ab = Rect.empty;\n    _this.ad = Rect.empty;\n    _this.ac = Rect.empty;\n    return _this;\n  }\n\n  DataLegendRowCell.prototype.k = function () {\n    return this.af.width > 0 && this.af.height > 0;\n  };\n\n  DataLegendRowCell.prototype.n = function () {\n    return this.ah.width > 0 && this.ah.height > 0;\n  };\n\n  DataLegendRowCell.prototype.p = function () {\n    return this.aj.width > 0 && this.aj.height > 0;\n  };\n\n  DataLegendRowCell.prototype.l = function () {\n    return this.t != null;\n  };\n\n  DataLegendRowCell.prototype.o = function () {\n    return this.u != null;\n  };\n\n  DataLegendRowCell.prototype.q = function () {\n    return !stringIsNullOrEmpty(this.w) && this.aj.width > 0 && this.aj.height > 0;\n  };\n\n  DataLegendRowCell.prototype.x = function () {\n    this.ae = new Size(1, 0, 0);\n    this.ai = new Size(1, 0, 0);\n    this.ag = new Size(1, 0, 0);\n  };\n\n  DataLegendRowCell.$t = markType(DataLegendRowCell, 'DataLegendRowCell', DataLegendRowBase.$);\n  return DataLegendRowCell;\n}(DataLegendRowBase);\n\nexport { DataLegendRowCell };\n/**\n * @hidden\n */\n\nvar DataLegendRowInfo =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DataLegendRowInfo, _super);\n\n  function DataLegendRowInfo(a, b, c, d) {\n    var _this = _super.call(this, a, b, c, d) || this;\n\n    _this.k = null;\n    _this.j = false;\n    _this.m = null;\n    _this.f = null;\n    _this.g = null;\n    _this.n = null;\n    _this.q = null;\n    _this.i = null;\n    _this.p = null;\n    _this.t = new Size();\n    _this.l = null;\n    _this.h = 0;\n    _this.w = null;\n    _this.v = null;\n    _this.x = null;\n    _this.u = new Size();\n    _this.r = null;\n    _this.s = null;\n    _this.f = new Array(0);\n    _this.k = new List$1(DataLegendRowCell.$, 0);\n    _this.j = _this.c;\n    _this.w = new Thickness(0, 0);\n    _this.v = new Thickness(0, 0);\n    _this.x = new Thickness(0, 0);\n    _this.t = new Size(1, 0, 0);\n    _this.u = new Size(1, 0, 0);\n\n    if (_this.c) {\n      _this.q = a.br();\n      _this.i = a.l();\n    } else if (_this.d) {\n      var e = a.bq();\n      var f = a.k();\n      _this.q = e;\n      _this.i = f;\n    } else {\n      var g = a.bo();\n      var h = a.i();\n      _this.q = g;\n      _this.i = h;\n    }\n\n    _this.s = Rect.empty;\n    _this.r = Rect.empty;\n    _this.h = 7;\n    return _this;\n  }\n\n  DataLegendRowInfo.prototype.o = function (a) {\n    if (this.k == null) {\n      return;\n    }\n\n    for (var b = 0; b < this.k.count; b++) {\n      a(this.k._inner[b]);\n    }\n  };\n\n  DataLegendRowInfo.$t = markType(DataLegendRowInfo, 'DataLegendRowInfo', DataLegendRowBase.$);\n  return DataLegendRowInfo;\n}(DataLegendRowBase);\n\nexport { DataLegendRowInfo };\n/**\n * @hidden\n */\n\nvar XamDataLegend =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(XamDataLegend, _super);\n\n  function XamDataLegend() {\n    var _this = _super.call(this) || this;\n\n    _this.bw = false;\n    _this.ch = NaN;\n    _this.ci = NaN;\n    _this.cj = 1;\n    _this.bx = false;\n    _this.bj = null;\n    _this.bb = null;\n    _this.be = null;\n    _this.bg = null;\n    _this.bd = null;\n    _this.bf = null;\n    _this.a7 = null;\n    _this.bi = null;\n    _this.bh = null;\n    _this.bc = null;\n    _this.ck = NaN;\n    _this.calculateColumnSummary = null;\n    _this.styleHeaderRow = null;\n    _this.styleSeriesRow = null;\n    _this.styleSummaryRow = null;\n    _this.styleSeriesColumn = null;\n    _this.styleSummaryColumn = null;\n    _this.propertyChanged = null;\n    _this.b8 = null;\n    _this.b7 = null;\n    _this.ca = null;\n    _this.b9 = null;\n    _this.a5 = null;\n    _this.ib = null;\n    _this._externalObject = null;\n    _this.bu = false;\n    _this.bv = false;\n    _this.ao = new DataLegendContent();\n    _this.cc = null;\n    _this.cd = new List$1(DataLegendSeriesContext.$, 0);\n    _this.b6 = new Dictionary$2(Number_$type, DataLegendColumn.$, 0);\n    _this.cr = 0;\n    _this.ak = null;\n    _this.al = null;\n    _this.cx = \"\";\n    _this.ai = null;\n    _this.aj = null;\n    _this.ib = Rect.empty;\n    _this.bx = true;\n    _this.ab = XamDataLegend.$;\n    _this.a5 = _this.a4();\n    return _this;\n  }\n\n  Object.defineProperty(XamDataLegend.prototype, \"cl\", {\n    get: function get() {\n      return this.ch;\n    },\n    set: function set(a) {\n      var b = this.ch;\n      this.ch = a;\n\n      if (b != this.ch) {\n        this.fx(\"ActualCursorPositionX\", b, this.ch);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"cm\", {\n    get: function get() {\n      return this.ci;\n    },\n    set: function set(a) {\n      var b = this.ci;\n      this.ci = a;\n\n      if (b != this.ci) {\n        this.fx(\"ActualCursorPositionY\", b, this.ci);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"cn\", {\n    get: function get() {\n      return this.cj;\n    },\n    set: function set(a) {\n      var b = this.cj;\n      this.cj = a;\n      this.fx(\"ActualPixelScalingRatio\", b, this.cj);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bt\", {\n    get: function get() {\n      return this.bj;\n    },\n    set: function set(a) {\n      var b = this.bj;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bj = a;\n\n      if (b != this.bj) {\n        this.fx(\"ValueTextStyle\", b, this.bj);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bl\", {\n    get: function get() {\n      return this.bb;\n    },\n    set: function set(a) {\n      var b = this.bb;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bb = a;\n\n      if (b != this.bb) {\n        this.fx(\"HeaderTextStyle\", b, this.bb);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bo\", {\n    get: function get() {\n      return this.be;\n    },\n    set: function set(a) {\n      var b = this.be;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.be = a;\n\n      if (b != this.be) {\n        this.fx(\"SummaryTitleTextStyle\", b, this.be);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bq\", {\n    get: function get() {\n      return this.bg;\n    },\n    set: function set(a) {\n      var b = this.bg;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bg = a;\n\n      if (b != this.bg) {\n        this.fx(\"SummaryValueTextStyle\", b, this.bg);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bn\", {\n    get: function get() {\n      return this.bd;\n    },\n    set: function set(a) {\n      var b = this.bd;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bd = a;\n\n      if (b != this.bd) {\n        this.fx(\"SummaryLabelTextStyle\", b, this.bd);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bp\", {\n    get: function get() {\n      return this.bf;\n    },\n    set: function set(a) {\n      var b = this.bf;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bf = a;\n\n      if (b != this.bf) {\n        this.fx(\"SummaryUnitsTextStyle\", b, this.bf);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bs\", {\n    get: function get() {\n      return this.bi;\n    },\n    set: function set(a) {\n      var b = this.bi;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bi = a;\n\n      if (b != this.bi) {\n        this.fx(\"UnitsTextStyle\", b, this.bi);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"br\", {\n    get: function get() {\n      return this.bh;\n    },\n    set: function set(a) {\n      var b = this.bh;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bh = a;\n\n      if (b != this.bh) {\n        this.fx(\"TitleTextStyle\", b, this.bh);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"bm\", {\n    get: function get() {\n      return this.bc;\n    },\n    set: function set(a) {\n      var b = this.bc;\n\n      if (typeof a === 'string') {\n        a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n      }\n\n      this.bc = a;\n\n      if (b != this.bc) {\n        this.fx(\"LabelTextStyle\", b, this.bc);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamDataLegend.prototype, \"pixelScalingRatio\", {\n    get: function get() {\n      return this.ck;\n    },\n    set: function set(a) {\n      var b = this.ck;\n      this.ck = a;\n      this.fx(\"PixelScalingRatio\", b, this.ck);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamDataLegend.prototype.exportSerializedVisualData = function () {\n    var a = this.exportVisualData();\n    return a.serialize();\n  };\n\n  XamDataLegend.prototype.cp = function (a, b) {\n    var c = Math.max(b.left, a);\n    var d = Math.max(b.right, a);\n    var e = Math.max(b.right, a);\n    return Math.min(b.top, a);\n  };\n\n  XamDataLegend.prototype.co = function (a, b) {\n    return Math.min(b.left, a);\n  };\n\n  XamDataLegend.prototype.ia = function (a, b) {\n    var c = Rect.l_op_Equality(a, null) || a.isEmpty || !Extensions.b(a);\n    var d = Rect.l_op_Equality(b, null) || b.isEmpty || !Extensions.b(b);\n\n    if (c) {\n      return b;\n    }\n\n    if (d) {\n      return a;\n    }\n\n    if (c && c) {\n      return Rect.empty;\n    }\n\n    var e = Math.min(a.top, b.top);\n    var f = Math.min(a.left, b.left);\n    var g = Math.max(a.right, b.right);\n    var h = Math.max(a.bottom, b.bottom);\n    return new Rect(0, f, e, g - f, h - e);\n  };\n\n  XamDataLegend.prototype.exportVisualData = function () {\n    var e_1, _a;\n\n    var a = new DataLegendVisualData();\n    a.width = this.ao.d;\n    a.height = this.ao.c;\n\n    if (this.a5 == null) {\n      return a;\n    }\n\n    var b = -1;\n    var c = -1;\n    var d = -1;\n    var e = -1;\n    var f = this.a5.ab;\n    var g = this.a5.z;\n    var h = this.a5.ad;\n    var i = this.a5.ac;\n\n    if (f.count < this.ao.b.count) {\n      return a;\n    }\n\n    if (Rect.l_op_Equality(this.ib, null) || this.ib.isEmpty) {\n      a.viewport = null;\n    } else {\n      a.viewport = new RectData(0, 0, this.ib.width, this.ib.height);\n    }\n\n    for (var j = 0; j < this.ao.b.count; j++) {\n      var k = this.ao.b._inner[j];\n      var l = new DataLegendVisualDataRow();\n      l.seriesIndex = k.e;\n      l.rowMarginTop = k.w.top;\n      l.rowMarginBottom = k.w.bottom;\n      l.rowMarginRight = k.w.right;\n      l.rowMarginLeft = k.w.left;\n      var m = Rect.empty;\n\n      if (k.b) {\n        if (Extensions.b(k.s) && f.count > b + 1) {\n          b++;\n          var n = f._inner[b];\n          var o = this.bk(n, k.i);\n          var p = new DataLegendVisualDataColumn();\n          p.bounds = RectData.b(k.s);\n          p.text = n.al;\n          p.textColor = AppearanceHelper.b(k.q);\n          p.marginTop = k.x.top;\n          p.marginLeft = k.x.left;\n          p.marginRight = k.x.right;\n          p.marginBottom = k.x.bottom;\n          this.f7(p, o);\n          l.columns.add(p);\n          m = this.ia(m, k.s);\n        }\n\n        try {\n          for (var _b = (e_1 = void 0, __values(fromEnum(k.k))), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var q = _c.value;\n\n            if (Extensions.b(q.ab) && g.count > c + 1) {\n              c++;\n              var r = g._inner[c];\n              var s = this.bk(r, q.g);\n              var t = new DataLegendVisualDataColumn();\n              t.bounds = RectData.b(q.ab);\n              t.text = r.al;\n              t.textColor = AppearanceHelper.b(q.y);\n              t.marginTop = q.ak.top;\n              t.marginLeft = q.ak.left;\n              t.marginRight = q.ak.right;\n              t.marginBottom = q.ak.bottom;\n              this.f7(t, s);\n              l.columns.add(t);\n              m = this.ia(m, q.ab);\n            }\n\n            if (Extensions.b(q.ad) && h.count > d + 1) {\n              d++;\n              var u = h._inner[d];\n              var v = this.bk(u, q.i);\n              var w = new DataLegendVisualDataColumn();\n              w.bounds = RectData.b(q.ad);\n              w.text = u.al;\n              w.textColor = AppearanceHelper.b(q.aa);\n              w.marginTop = q.am.top;\n              w.marginLeft = q.am.left;\n              w.marginRight = q.am.right;\n              w.marginBottom = q.am.bottom;\n              this.f7(w, v);\n              l.columns.add(w);\n              m = this.ia(m, q.ad);\n            }\n\n            if (Extensions.b(q.ac) && i.count > e + 1) {\n              e++;\n              var x = i._inner[e];\n              var y = this.bk(x, q.h);\n              var z = new DataLegendVisualDataColumn();\n              z.bounds = RectData.b(q.ac);\n              z.text = q.m ? q.u : null;\n              z.textColor = AppearanceHelper.b(q.z);\n              z.marginTop = q.al.top;\n              z.marginLeft = q.al.left;\n              z.marginRight = q.al.right;\n              z.marginBottom = q.al.bottom;\n              this.f7(z, y);\n              l.columns.add(z);\n              m = this.ia(m, q.ac);\n            }\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n\n        if (k.j) {\n          m = this.ia(m, k.r);\n          l.badgeBounds = RectData.b(k.r);\n          l.badgeMarginTop = k.v.top;\n          l.badgeMarginBottom = k.v.bottom;\n          l.badgeMarginRight = k.v.right;\n          l.badgeMarginLeft = k.v.left;\n\n          if (k.e >= 0 && k.e < this.cc.count) {\n            var aa = this.cc._inner[k.e];\n            l.badgeShape = aa.getDataLegendBadgeShapeAndMarker();\n          } else {\n            l.badgeShape = \"None\";\n          }\n        }\n\n        l.rowBounds = RectData.b(m);\n      }\n\n      a.rows.add(l);\n    }\n\n    return a;\n  };\n\n  XamDataLegend.prototype.f7 = function (a, b) {\n    if (b != null) {\n      if (b.n != null) {\n        a.fontFamily = b.n;\n      }\n\n      if (!isNaN_(b.d)) {\n        a.fontSize = b.d;\n      }\n\n      a.fontWeight = stringIsNullOrEmpty(b.s) ? \"Normal\" : b.s;\n      a.fontStyle = stringIsNullOrEmpty(b.q) ? \"Normal\" : b.q;\n\n      if (b.o != null) {\n        a.fontStretch = b.q;\n      }\n    }\n  };\n\n  XamDataLegend.prototype.bk = function (a, b) {\n    var c = a.dataContext;\n\n    if (c != null) {\n      b = a.dataContext;\n    }\n\n    if (b == null || stringIsNullOrEmpty(b.fontString)) {\n      return b;\n    } else {\n      return FontUtil.toFontInfo(this.a5.ah, b.fontString);\n    }\n  };\n\n  XamDataLegend.prototype.a0 = function (a) {\n    if (this.calculateColumnSummary != null) {\n      var b = new DataLegendSummaryEventArgs(a.a, a.d);\n      b.summaryValue = a.c;\n      this.calculateColumnSummary(this, b);\n      a.c = b.summaryValue;\n      a.f = b.summaryUnits;\n      a.e = b.summaryLabel;\n    }\n\n    return a;\n  };\n\n  XamDataLegend.prototype.a6 = function () {\n    switch (this.a1) {\n      case 0:\n      case 1:\n        return new DataLegendSummaryCalculationTotal();\n\n      case 2:\n        return new DataLegendSummaryCalculationAverage();\n\n      case 3:\n        return new DataLegendSummaryCalculationMin();\n\n      case 4:\n        return new DataLegendSummaryCalculationMax();\n\n      case 5:\n        return new DataLegendSummaryCalculationEmpty();\n\n      default:\n        return new DataLegendSummaryCalculationEmpty();\n    }\n  };\n\n  XamDataLegend.prototype.gb = function (a) {\n    if (this.styleSummaryRow != null) {\n      var b = this.ay(a);\n      this.styleSummaryRow(this, b);\n      this.f8(a, b);\n    }\n\n    if (a.b && a.k != null && this.styleSummaryColumn != null) {\n      for (var c = 0; c < a.k.count; c++) {\n        var d = this.ax(a.k._inner[c]);\n        d.d = a.e;\n        d.f = a.m;\n        d.c = c;\n        this.styleSummaryColumn(this, d);\n        this.gc(a.k._inner[c], d);\n      }\n    }\n  };\n\n  XamDataLegend.prototype.ga = function (a) {\n    if (this.styleSeriesRow != null) {\n      var b = this.ay(a);\n      this.styleSeriesRow(this, b);\n      this.f8(a, b);\n    }\n\n    if (a.b && a.k != null && this.styleSeriesColumn != null) {\n      for (var c = 0; c < a.k.count; c++) {\n        var d = this.ax(a.k._inner[c]);\n        d.d = a.e;\n        d.f = a.m;\n        d.c = c;\n        this.styleSeriesColumn(this, d);\n        this.gc(a.k._inner[c], d);\n      }\n    }\n  };\n\n  XamDataLegend.prototype.f9 = function (a) {\n    if (this.styleHeaderRow != null) {\n      var b = this.ay(a);\n      this.styleHeaderRow(this, b);\n      this.f8(a, b);\n    }\n  };\n\n  XamDataLegend.prototype.ay = function (a) {\n    var b = new DataLegendStylingRowEventArgs();\n    b.f = a.n;\n    b.g = a.q;\n    b.a = a.h;\n    b.b = a.j;\n    b.c = a.b;\n    b.d = a.e;\n    b.e = a.m;\n    return b;\n  };\n\n  XamDataLegend.prototype.f8 = function (a, b) {\n    a.n = b.f;\n    a.q = b.g;\n    a.h = b.a;\n    a.j = b.b;\n    a.b = b.c;\n  };\n\n  XamDataLegend.prototype.ax = function (a) {\n    var b = new DataLegendStylingColumnEventArgs();\n    b.e = a.t;\n    b.j = a.y;\n    b.g = a.u;\n    b.k = a.z;\n    b.i = a.w;\n    b.l = a.aa;\n    b.b = a.r;\n    b.h = a.v;\n    b.a = a.f;\n    return b;\n  };\n\n  XamDataLegend.prototype.gc = function (a, b) {\n    a.y = b.j;\n    a.t = b.e;\n    a.j = !stringIsNullOrEmpty(a.t);\n    a.u = b.g;\n    a.z = b.k;\n    a.m = !stringIsNullOrEmpty(a.u);\n    a.w = b.i;\n    a.aa = b.l;\n  };\n\n  XamDataLegend.prototype.f0 = function (a, b, c) {\n    var _this = this;\n\n    switch (a) {\n      case XamDataLegend.$$p[19]:\n        this.bx = c;\n        break;\n\n      case XamDataLegend.$$p[15]:\n      case XamDataLegend.$$p[3]:\n        this.gg();\n        break;\n\n      case XamDataLegend.$$p[14]:\n      case XamDataLegend.$$p[2]:\n        this.gf();\n        break;\n\n      case XamDataLegend.$$p[32]:\n        var d = c;\n        var e = b;\n        this.fy(e, d);\n        break;\n\n      case XamDataLegend.$$p[30]:\n        if (this.b0(this.targetCursorPositionX)) {\n          this.cl = this.targetCursorPositionX;\n        }\n\n        break;\n\n      case XamDataLegend.$$p[31]:\n        if (this.b0(this.targetCursorPositionY)) {\n          this.cm = this.targetCursorPositionY;\n        }\n\n        break;\n\n      case XamDataLegend.$$p[46]:\n      case XamDataLegend.$$p[45]:\n        if (!stringIsNullOrEmpty(this.e5)) {\n          this.ak = function () {\n            var $ret = new BindingFormatter();\n            $ret.j = _this.e5;\n            $ret.d = _this.ah;\n            return $ret;\n          }();\n        } else {\n          this.ak = null;\n        }\n\n        break;\n\n      case XamDataLegend.$$p[7]:\n      case XamDataLegend.$$p[6]:\n        if (!stringIsNullOrEmpty(this.dc)) {\n          this.ai = function () {\n            var $ret = new BindingFormatter();\n            $ret.j = _this.dc;\n            $ret.d = _this.ag;\n            return $ret;\n          }();\n        } else {\n          this.ai = null;\n        }\n\n        break;\n\n      case \"PixelScalingRatio\":\n        if (isNaN_(this.cn)) {\n          this.a5.au();\n        } else {\n          this.cn = this.pixelScalingRatio;\n        }\n\n        break;\n\n      case \"ActualPixelScalingRatio\":\n        this.a5.a5(c);\n        break;\n    }\n\n    this.f2();\n  };\n\n  XamDataLegend.prototype.fx = function (a, b, c) {\n    this.f0(a, b, c);\n\n    if (this.propertyChanged != null) {\n      this.propertyChanged(this, new PropertyChangedEventArgs(a));\n    }\n  };\n\n  XamDataLegend.prototype.fy = function (a, b) {\n    this.a7 = b;\n\n    if (a != null) {\n      a.detachDataLegend(this);\n    }\n\n    if (b != null) {\n      b.attachDataLegend(this);\n\n      if (isNaN_(this.targetCursorPositionX)) {\n        this.cl = 1;\n      }\n\n      if (isNaN_(this.targetCursorPositionY)) {\n        this.cm = 0.5;\n      }\n    }\n  };\n\n  XamDataLegend.prototype.gg = function () {\n    this.ca = this.cb(this.includedSeries);\n    this.b9 = this.cb(this.excludedSeries);\n  };\n\n  XamDataLegend.prototype.gf = function () {\n    var e_2, _a, e_3, _b;\n\n    this.b8 = this.cb(this.includedColumns);\n    this.b7 = this.cb(this.excludedColumns);\n\n    if (this.b8 != null) {\n      var a = new List$1(String_$type, 1, this.b8.keys);\n\n      try {\n        for (var _c = __values(fromEnum(a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n          var b = _d.value;\n          var c = b + \":\";\n          var d = this.b8.item(b);\n\n          if (!this.b8.containsKey(c)) {\n            this.b8.addItem(c, d);\n          }\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n\n      this.fg(this.b8);\n    }\n\n    if (this.b7 != null) {\n      var e = new List$1(String_$type, 1, this.b7.keys);\n\n      try {\n        for (var _e = __values(fromEnum(e)), _f = _e.next(); !_f.done; _f = _e.next()) {\n          var f = _f.value;\n          var g = f + \":\";\n          var h = this.b7.item(f);\n\n          if (!this.b7.containsKey(g)) {\n            this.b7.addItem(g, h);\n          }\n        }\n      } catch (e_3_1) {\n        e_3 = {\n          error: e_3_1\n        };\n      } finally {\n        try {\n          if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n        } finally {\n          if (e_3) throw e_3.error;\n        }\n      }\n\n      this.fg(this.b7);\n    }\n  };\n\n  XamDataLegend.prototype.fg = function (a) {\n    var e_4, _a;\n\n    var b = new List$1(String_$type, 1, a.keys);\n\n    try {\n      for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var c = _c.value;\n        var d = a.item(c);\n        var e = c.toLowerCase();\n\n        if (!a.containsKey(e)) {\n          a.addItem(e, d);\n        }\n\n        var f = c.toUpperCase();\n\n        if (!a.containsKey(f)) {\n          a.addItem(f, d);\n        }\n\n        if (c.length > 0) {\n          var g = f.substr(0, 1) + e.substr(1);\n\n          if (!a.containsKey(g)) {\n            a.addItem(g, d);\n          }\n        }\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n  };\n\n  XamDataLegend.prototype.cb = function (a) {\n    if (a == null) {\n      return null;\n    }\n\n    var b = new Dictionary$2(String_$type, Number_$type, 0);\n\n    for (var c = 0; c < a.length; c++) {\n      var d = a[c];\n\n      if (!stringIsNullOrEmpty(d) && !b.containsKey(d.trim())) {\n        b.addItem(d.trim(), b.count);\n      }\n    }\n\n    return b;\n  };\n\n  XamDataLegend.prototype.b0 = function (a) {\n    return a >= 0 && a <= 1;\n  };\n\n  XamDataLegend.prototype.notifyCursorPositionChanged = function (a) {\n    var b = !isNaN_(this.targetCursorPositionX) || !isNaN_(this.targetCursorPositionY);\n    var c = !isNaN_(a.x) && this.b0(a.x);\n    var d = !isNaN_(a.y) && this.b0(a.y);\n\n    if (!b && c && d) {\n      this.cl = a.x;\n      this.cm = a.y;\n    }\n  };\n\n  XamDataLegend.prototype.notifySizeChanged = function () {\n    this.a5.a3();\n  };\n\n  XamDataLegend.prototype.notifyVisualPropertiesChanged = function (a) {};\n\n  XamDataLegend.prototype.notifySeriesCollectionChanged = function () {\n    this.f2();\n  };\n\n  XamDataLegend.prototype.notifySeriesDataChanged = function () {\n    if (this.bx) {\n      this.f2();\n    }\n  };\n\n  XamDataLegend.prototype.updatePropertyByName = function (a, b) {\n    switch (a) {\n      case XamDataLegend.$$p[15]:\n        this.includedSeries = b;\n        break;\n\n      case XamDataLegend.$$p[3]:\n        this.excludedSeries = b;\n        break;\n\n      case XamDataLegend.$$p[14]:\n        this.includedColumns = b;\n        break;\n\n      case XamDataLegend.$$p[2]:\n        this.excludedColumns = b;\n        break;\n\n      case XamDataLegend.$$p[39]:\n        this.an = EnumUtil.getEnumValue(DataAbbreviationMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[42]:\n        this.ct = typeGetValue(b);\n        break;\n\n      case XamDataLegend.$$p[43]:\n        this.cu = typeGetValue(b);\n        break;\n\n      case XamDataLegend.$$p[44]:\n        this.a3 = EnumUtil.getEnumValue(DataLegendValueMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[40]:\n        this.ex = b;\n        break;\n\n      case XamDataLegend.$$p[47]:\n        this.b3 = b;\n        break;\n\n      case XamDataLegend.$$p[46]:\n        this.e5 = b;\n        break;\n\n      case XamDataLegend.$$p[45]:\n        this.ah = b;\n        break;\n\n      case XamDataLegend.$$p[48]:\n        this.ir = b;\n        break;\n\n      case XamDataLegend.$$p[49]:\n        this.b4 = b;\n        break;\n\n      case XamDataLegend.$$p[53]:\n        this.fe = b;\n        break;\n\n      case XamDataLegend.$$p[52]:\n        this.b5 = b;\n        break;\n\n      case XamDataLegend.$$p[51]:\n        this.is = b;\n        break;\n\n      case XamDataLegend.$$p[50]:\n        this.h9 = b;\n        break;\n\n      case \"ValueTextStyle\":\n        this.bt = b;\n        break;\n\n      case XamDataLegend.$$p[7]:\n        this.dc = b;\n        break;\n\n      case XamDataLegend.$$p[6]:\n        this.ag = b;\n        break;\n\n      case XamDataLegend.$$p[4]:\n        this.c8 = b;\n        break;\n\n      case XamDataLegend.$$p[5]:\n        this.ap = EnumUtil.getEnumValue(DataLegendHeaderDateMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[8]:\n        this.aq = EnumUtil.getEnumValue(DataLegendHeaderTimeMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[13]:\n        this.dh = b;\n        break;\n\n      case XamDataLegend.$$p[11]:\n        this.h0 = b;\n        break;\n\n      case XamDataLegend.$$p[12]:\n        this.ij = b;\n        break;\n\n      case XamDataLegend.$$p[9]:\n        this.ii = b;\n        break;\n\n      case XamDataLegend.$$p[10]:\n        this.bz = b;\n        break;\n\n      case \"HeaderTextStyle\":\n        this.bl = b;\n        break;\n\n      case XamDataLegend.$$p[23]:\n        this.h4 = b;\n        break;\n\n      case \"SummaryTitleTextStyle\":\n        this.bo = b;\n        break;\n\n      case XamDataLegend.$$p[26]:\n        this.a1 = EnumUtil.getEnumValue(DataLegendSummaryType_$type, b);\n        break;\n\n      case XamDataLegend.$$p[25]:\n        this.d8 = b;\n        break;\n\n      case XamDataLegend.$$p[24]:\n        this.im = b;\n        break;\n\n      case XamDataLegend.$$p[22]:\n        this.il = b;\n        break;\n\n      case XamDataLegend.$$p[29]:\n        this.h6 = b;\n        break;\n\n      case \"SummaryValueTextStyle\":\n        this.bq = b;\n        break;\n\n      case XamDataLegend.$$p[21]:\n        this.d3 = b;\n        break;\n\n      case XamDataLegend.$$p[20]:\n        this.h3 = b;\n        break;\n\n      case \"SummaryLabelTextStyle\":\n        this.bn = b;\n        break;\n\n      case XamDataLegend.$$p[28]:\n        this.ee = b;\n        break;\n\n      case XamDataLegend.$$p[27]:\n        this.h5 = b;\n        break;\n\n      case \"SummaryUnitsTextStyle\":\n        this.bp = b;\n        break;\n\n      case XamDataLegend.$$p[0]:\n        this.ih = b;\n        break;\n\n      case XamDataLegend.$$p[1]:\n        this.a8 = EnumUtil.getEnumValue(LegendItemBadgeShape_$type, b);\n        break;\n\n      case XamDataLegend.$$p[35]:\n        this.a2 = EnumUtil.getEnumValue(DataLegendUnitsMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[38]:\n        this.er = b;\n        break;\n\n      case XamDataLegend.$$p[36]:\n        this.h8 = b;\n        break;\n\n      case XamDataLegend.$$p[37]:\n        this.ip = b;\n        break;\n\n      case \"UnitsTextStyle\":\n        this.bs = b;\n        break;\n\n      case XamDataLegend.$$p[34]:\n        this.io = b;\n        break;\n\n      case XamDataLegend.$$p[33]:\n        this.h7 = b;\n        break;\n\n      case \"TitleTextStyle\":\n        this.br = b;\n        break;\n\n      case XamDataLegend.$$p[16]:\n        this.ar = EnumUtil.getEnumValue(DataLegendLabelMode_$type, b);\n        break;\n\n      case XamDataLegend.$$p[17]:\n        this.h1 = b;\n        break;\n\n      case XamDataLegend.$$p[18]:\n        this.ik = b;\n        break;\n\n      case \"LabelTextStyle\":\n        this.bm = b;\n        break;\n    }\n  };\n\n  XamDataLegend.prototype.a4 = function () {\n    return new DataLegendView(this);\n  };\n\n  XamDataLegend.prototype.destroy = function () {\n    this.provideContainer(null);\n  };\n\n  Object.defineProperty(XamDataLegend.prototype, \"externalObject\", {\n    get: function get() {\n      return this._externalObject;\n    },\n    set: function set(a) {\n      this._externalObject = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamDataLegend.prototype.flush = function () {\n    this.a5.ar();\n  };\n\n  XamDataLegend.prototype.onAttachedToUI = function () {\n    this.a5.a1();\n  };\n\n  XamDataLegend.prototype.onDetachedFromUI = function () {\n    this.a5.a4();\n  };\n\n  XamDataLegend.prototype.provideContainer = function (a) {\n    this.a5.a2(a);\n  };\n\n  XamDataLegend.prototype.f2 = function () {\n    if (this.bu) {\n      return;\n    }\n\n    this.bu = this.a5.w();\n  };\n\n  Object.defineProperty(XamDataLegend.prototype, \"shouldOnDemandRender\", {\n    get: function get() {\n      return this.bv;\n    },\n    set: function set(a) {\n      this.bv = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamDataLegend.prototype.doRender = function (a, b) {\n    if (this.ib.isEmpty) {\n      var c = this.getDesiredSize();\n      this.ib = new Rect(0, 0, 0, c.width, c.height);\n    }\n\n    this.f3(this.ao, true);\n    this.a5.a7(a, b);\n  };\n\n  XamDataLegend.prototype.ensureUpdated = function () {\n    var a = this.getDesiredSize();\n  };\n\n  XamDataLegend.prototype.fp = function () {\n    if (!this.bu) {\n      if (this.ao == null) {\n        this.f2();\n      } else {\n        return;\n      }\n    }\n\n    this.ge();\n  };\n\n  XamDataLegend.prototype.getDesiredSize = function () {\n    this.fp();\n\n    if (this.ao == null) {\n      return new Size(1, 0, 0);\n    }\n\n    return new Size(1, this.ao.d, this.ao.c);\n  };\n\n  XamDataLegend.prototype.ge = function () {\n    if (this.a7 == null) {\n      this.fm();\n      return;\n    }\n\n    var a = this.a7;\n    var b = a.getDataLegendSeries();\n    var c = this.cf(b);\n    this.fr(c);\n  };\n\n  XamDataLegend.prototype.cf = function (a) {\n    var e_5, _a;\n\n    var b = new Dictionary$2(Number_$type, IDataLegendSeries_$type, 0);\n\n    for (var c = 0; c < a.length; c++) {\n      var d = a[c].title == null ? null : a[c].title.toString();\n      var e = this.ca == null || this.ca.containsKey(a[c].dataLegendKey) || this.ca.containsKey(a[c].index.toString()) || this.ca.containsKey(d);\n      var f = this.b9 != null && (this.b9.containsKey(a[c].dataLegendKey) || this.b9.containsKey(a[c].index.toString()) || this.b9.containsKey(d));\n\n      if (a[c].isValueOverlay && (!e || this.ca == null)) {\n        continue;\n      }\n\n      if (e && !f) {\n        var g = this.cs(a[c]);\n        b.addItem(g, a[c]);\n      }\n    }\n\n    var h = new List$1(Number_$type, 1, b.keys);\n    h.y();\n    var i = new List$1(IDataLegendSeries_$type, 0);\n\n    try {\n      for (var _b = __values(fromEnum(h)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var j = _c.value;\n        i.add(b.item(j));\n      }\n    } catch (e_5_1) {\n      e_5 = {\n        error: e_5_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_5) throw e_5.error;\n      }\n    }\n\n    return i;\n  };\n\n  XamDataLegend.prototype.cs = function (a) {\n    if (this.ca == null) {\n      return a.index;\n    }\n\n    var b = a.dataLegendKey;\n\n    if (this.ca.containsKey(b)) {\n      return this.ca.item(b);\n    }\n\n    var c = a.index.toString();\n\n    if (this.ca.containsKey(c)) {\n      return this.ca.item(c);\n    }\n\n    var d = a.title == null ? null : a.title.toString();\n\n    if (this.ca.containsKey(d)) {\n      return this.ca.item(d);\n    }\n\n    return a.index;\n  };\n\n  XamDataLegend.prototype.fo = function () {\n    this.bu = false;\n    var a = new Size(1, 0, 0);\n\n    if (this.ao != null) {\n      a = new Size(1, this.ao.d, this.ao.c);\n    }\n\n    this.ge();\n    var b = new Size(1, 0, 0);\n\n    if (this.ao != null) {\n      b = new Size(1, this.ao.d, this.ao.c);\n    }\n\n    if (!a.equals(b)) {\n      this.a5.am(b.width, b.height);\n    }\n\n    this.f3(this.ao, this.bv);\n  };\n\n  XamDataLegend.prototype.fs = function (message_) {};\n\n  XamDataLegend.prototype.f3 = function (a, b) {\n    var c = new DataLegendRenderContext();\n\n    for (var d = 0; d < a.b.count; d++) {\n      var e = a.b._inner[d];\n      this.f5(a, e, c);\n    }\n\n    this.a5.p.count = c.b;\n    this.a5.q.count = c.c;\n    this.a5.s.count = c.e;\n    this.a5.r.count = c.d;\n    this.a5.o.count = c.a;\n\n    if (!b) {\n      this.a5.aq(a);\n    }\n  };\n\n  XamDataLegend.prototype.f5 = function (a, b, c) {\n    var e_6, _a;\n\n    if (b.t.width > 0 && b.t.height > 0 && !b.a && !b.d && b.j) {\n      var d = this.a5.p.item(c.b);\n      c.b += 1;\n      this.f4(d, a, b, c);\n    }\n\n    this.a5.a9();\n\n    if (!b.s.isEmpty && b.s.width > 0 && b.s.height > 0) {\n      var e = this.a5.q.item(c.c);\n      c.c += 1;\n      this.f6(e, b.n, b.q, b.i, b.s);\n    }\n\n    try {\n      for (var _b = __values(fromEnum(b.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var f = _c.value;\n\n        if (!f.ad.isEmpty && f.q()) {\n          var g = this.a5.s.item(c.e);\n          c.e += 1;\n          this.f6(g, f.w, f.aa, f.i, f.ad);\n        }\n\n        if (!f.ac.isEmpty && f.o() && f.m) {\n          var h = this.a5.r.item(c.d);\n          c.d += 1;\n          this.f6(h, f.u, f.z, f.h, f.ac);\n        }\n\n        if (!f.ab.isEmpty && f.l() && f.j) {\n          var i = this.a5.o.item(c.a);\n          c.a += 1;\n          this.f6(i, f.t, f.y, f.g, f.ab);\n        }\n      }\n    } catch (e_6_1) {\n      e_6 = {\n        error: e_6_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_6) throw e_6.error;\n      }\n    }\n\n    this.a5.an();\n  };\n\n  XamDataLegend.prototype.f6 = function (a, b, c, d, e) {\n    a.al = b;\n    this.a5.a8(a, e.left, e.top);\n    this.a5.ao(a, d);\n    this.a5.ap(a, d);\n    a.ao = c;\n  };\n\n  XamDataLegend.prototype.f4 = function (a, b, c, d) {\n    a.ah = c.p;\n    a.content = c.l;\n    a.width = c.t.width;\n    a.height = c.t.height;\n    this.a5.a8(a, c.r.left, c.r.top);\n  };\n\n  XamDataLegend.prototype.fr = function (a) {\n    var e_7, _a;\n\n    if (this.by()) {\n      this.ao.f();\n      this.cc = a;\n      this.cd.clear();\n      this.cr = 0;\n      this.b6.clear();\n    } else {\n      return;\n    }\n\n    for (var b = 0; b < a.count; b++) {\n      var c = a._inner[b];\n      var d = b;\n      var e = typeCast(DataLegendSeriesContext.$, c.getDataLegendSeriesContextAt(this.cl, this.cm));\n\n      if (e != null) {\n        var f = new List$1(DataLegendSeriesValueInfo.$, 0);\n\n        for (var g = 0; g < e.f.count; g++) {\n          var h = e.f._inner[g];\n          var i = this.b8 == null || this.b8.containsKey(h.p) || this.b8.containsKey(h.q) || this.b8.containsKey(\"ALL\");\n          var j = this.b7 != null && (this.b7.containsKey(h.p) || this.b7.containsKey(h.q) || this.b7.containsKey(\"ALL\"));\n          var k = this.b8 == null && this.b7 == null && h.k;\n\n          if (i && !j && !k) {\n            h.o = f.count;\n            f.add(h);\n\n            if (!this.b6.containsKey(h.o)) {\n              this.b6.addItem(h.o, new DataLegendColumn());\n            }\n\n            this.b6.item(h.o).i = h.o;\n            this.b6.item(h.o).d.q(d, h.r);\n            this.b6.item(h.o).b.q(d, h.q);\n            this.b6.item(h.o).e.q(d, h.l);\n            this.b6.item(h.o).c.q(d, h);\n            this.b6.item(h.o).h.add(d);\n          }\n        }\n\n        e.f = f;\n        this.cd.add(e);\n        this.cr = Math.max(this.cr, e.f.count);\n      }\n    }\n\n    try {\n      for (var _b = __values(fromEnum(this.b6.values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var l = _c.value;\n        l.f.clear();\n        l.a.clear();\n        var m = l.e.p(l.h);\n        var n = this.ce(m);\n\n        for (var o = 0; o < n.count; o++) {\n          var p = n._inner[o];\n          var q = l.h._inner[o];\n          l.a.q(q, p);\n          var r = l.c.item(q);\n          var s = this.d1(p, r);\n          l.f.q(q, s);\n          var t = !stringIsNullOrEmpty(p.l);\n\n          if (t) {\n            l.g = true;\n          }\n        }\n      }\n    } catch (e_7_1) {\n      e_7 = {\n        error: e_7_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_7) throw e_7.error;\n      }\n    }\n\n    this.fh(this.ao, a);\n\n    for (var u = 0; u < a.count; u++) {\n      this.gd(a._inner[u], this.a8);\n      this.fi(this.ao, a._inner[u], u);\n    }\n\n    this.fj(this.ao, a);\n    this.bw = this.b1();\n    this.fl(this.ao);\n  };\n\n  XamDataLegend.prototype.b1 = function () {\n    var a = false;\n\n    for (var b = 0; b < this.ao.b.count; b++) {\n      var c = this.ao.b._inner[b];\n\n      if (c.c && c.j && c.h != 7) {\n        a = true;\n        break;\n      }\n    }\n\n    return a;\n  };\n\n  XamDataLegend.prototype.fl = function (a) {\n    var e_8, _a;\n\n    var b = 0;\n    var c = 0;\n\n    for (var d = 0; d < a.b.count; d++) {\n      var e = a.b._inner[d];\n      this.ft(e);\n    }\n\n    var f = 0;\n    var g = new Size(1, 0, 0);\n    var h = new Size(1, 0, 0);\n    var i = new Dictionary$2(Number_$type, Size.$, 0);\n    var j = new Dictionary$2(Number_$type, Size.$, 0);\n    var k = new Dictionary$2(Number_$type, Size.$, 0);\n\n    try {\n      for (var _b = __values(fromEnum(a.b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var l = _c.value;\n\n        for (var m = 0; m < l.k.count; m++) {\n          var n = l.k._inner[m];\n\n          if (!i.containsKey(m)) {\n            i.addItem(m, new Size(1, 0, 0));\n          }\n\n          i.item(m, this.ig(i.item(m), n.aj, n.am));\n\n          if (!j.containsKey(m)) {\n            j.addItem(m, new Size(1, 0, 0));\n          }\n\n          j.item(m, this.ig(j.item(m), n.ah, n.al));\n\n          if (!k.containsKey(m)) {\n            k.addItem(m, new Size(1, 0, 0));\n          }\n\n          k.item(m, this.ig(k.item(m), n.af, n.ak));\n        }\n      }\n    } catch (e_8_1) {\n      e_8 = {\n        error: e_8_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_8) throw e_8.error;\n      }\n    }\n\n    for (var o = 0; o < a.b.count; o++) {\n      var p = a.b._inner[o];\n      h = this.ie(h, p.t, p.v);\n      g = this.ig(g, p.u, p.x);\n\n      for (var q = 0; q < p.k.count; q++) {\n        p.k._inner[q].ai = i.item(q);\n        p.k._inner[q].ag = j.item(q);\n        p.k._inner[q].ae = k.item(q);\n      }\n\n      if (p.d) {\n        var r = p.u.width + p.x.left + p.x.right;\n        f = Math.max(f, r + p.w.left);\n      } else if (p.c) {\n        var s = p.u.width + p.x.left + p.x.right;\n        var t = p.t.width + p.v.left + p.v.right;\n        f = Math.max(f, s + p.w.left + t);\n      }\n    }\n\n    var u = 0;\n    var v = 0;\n\n    for (var w = 0; w < a.b.count; w++) {\n      var x = a.b._inner[w];\n      var y = this.ic(v, x, f, g, h);\n      v = y.height;\n      u = Math.max(u, y.width);\n    }\n\n    c = v;\n    b = u;\n    a.d = b;\n    a.c = c;\n  };\n\n  XamDataLegend.prototype.ie = function (a, b, c) {\n    return new Size(1, Math.max(a.width, b.width + c.left + c.right), Math.max(a.height, b.height + c.top + c.bottom));\n  };\n\n  XamDataLegend.prototype.ig = function (a, b, c) {\n    return new Size(1, Math.max(a.width, b.width + c.left + c.right), Math.max(a.height, b.height + c.top + c.bottom));\n  };\n\n  XamDataLegend.prototype.ic = function (a, b, c, d, e) {\n    var e_9, _a, e_10, _b;\n\n    var f = 0;\n    var g = 0;\n    g = Math.max(b.t.height, g);\n    g = Math.max(b.u.height, g);\n\n    try {\n      for (var _c = __values(fromEnum(b.k)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var h = _d.value;\n        g = Math.max(h.aj.height, g);\n\n        if (h.m) {\n          g = Math.max(h.ah.height, g);\n        }\n\n        if (h.j) {\n          g = Math.max(h.af.height, g);\n        }\n      }\n    } catch (e_9_1) {\n      e_9 = {\n        error: e_9_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_9) throw e_9.error;\n      }\n    }\n\n    f += b.w.left;\n    a += b.w.top;\n\n    if (!b.a && !b.d && this.bw) {\n      f += b.v.left;\n      var i = 0;\n\n      if (g > b.t.height) {\n        i = (g - b.t.height) / 2;\n      }\n\n      b.r = new Rect(0, f, a + i, b.t.width, b.t.height);\n      f += b.r.width + b.v.right;\n    } else {\n      b.r = new Rect(0, 0, 0, 0, 0);\n    }\n\n    f += b.x.left;\n    var j = 0;\n\n    if (g > b.u.height) {\n      j = (g - b.u.height) / 2;\n    }\n\n    b.s = new Rect(0, f, a + j, b.u.width + b.x.right, b.u.height);\n    f = Math.max(c, b.s.right);\n\n    try {\n      for (var _e = __values(fromEnum(b.k)), _f = _e.next(); !_f.done; _f = _e.next()) {\n        var k = _f.value;\n        var l = \" C=\" + k.s + \" SR=\" + numberToString2(f, \"000\");\n\n        if (k.l() && k.j && k.ae.width > 0) {\n          var m = 0;\n\n          if (g > k.af.height) {\n            m = (g - k.af.height) / 2;\n          }\n\n          k.ab = new Rect(0, f + k.ak.left, a + m, k.af.width, k.af.height);\n          f += k.ae.width;\n          l += \" label L=\" + numberToString2(k.ab.left, \"000\") + \" R=\" + numberToString2(k.ab.right, \"000\");\n        }\n\n        if (k.q()) {\n          l += \" v MW=\" + numberToString2(k.ai.width, \"000\");\n          f += k.am.left;\n          f += k.ai.width - (k.aj.width + k.am.right);\n          var n = 0;\n\n          if (g > k.aj.height) {\n            n = (g - k.aj.height) / 2;\n          }\n\n          k.ad = new Rect(0, f, a + n, k.aj.width, k.aj.height);\n          l += \" v ML=\" + numberToString2(k.am.left, \"00\") + \" MR=\" + numberToString2(k.am.right, \"00\");\n          l += \" v BL=\" + numberToString2(k.ad.left, \"000\") + \" BR=\" + numberToString2(k.ad.right, \"000\");\n          f += k.ad.width;\n          f += k.am.right;\n        }\n\n        if (k.o() && k.m && k.ag.width > 0) {\n          var o = 0;\n\n          if (g > k.ah.height) {\n            o = (g - k.ah.height) / 2;\n          }\n\n          k.ac = new Rect(0, f + k.al.left, a + o, k.ah.width, k.ah.height);\n          f += k.ag.width;\n          l += \" unit L=\" + numberToString2(k.ac.left, \"000\") + \" R=\" + numberToString2(k.ac.right, \"000\");\n        }\n\n        this.fs(\"maxRight \" + numberToString2(c, \"0\") + l);\n      }\n    } catch (e_10_1) {\n      e_10 = {\n        error: e_10_1\n      };\n    } finally {\n      try {\n        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n      } finally {\n        if (e_10) throw e_10.error;\n      }\n    }\n\n    f += b.w.right;\n    a += g;\n    a += b.w.bottom;\n    return new Size(1, f, a);\n  };\n\n  XamDataLegend.prototype.ft = function (a) {\n    var e_11, _a;\n\n    a.u = a.n == null ? new Size(1, 0, 0) : this.a5.bu(a.n, a.i);\n\n    try {\n      for (var _b = __values(fromEnum(a.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var b = _c.value;\n        b.aj = b.w == null ? new Size(1, 0, 0) : this.a5.bu(b.w, b.i);\n        b.ah = b.u == null ? new Size(1, 0, 0) : this.a5.bu(b.u, b.h);\n        b.af = b.t == null ? new Size(1, 0, 0) : this.a5.bu(b.t, b.g);\n      }\n    } catch (e_11_1) {\n      e_11 = {\n        error: e_11_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_11) throw e_11.error;\n      }\n    }\n  };\n\n  XamDataLegend.prototype.d0 = function (a, b, c, d) {\n    if (this.a2 == 2) {\n      return null;\n    }\n\n    var e = \"\";\n\n    if (stringIsNullOrEmpty(this.er)) {\n      e = b;\n    } else {\n      e = this.er;\n    }\n\n    if (d) {\n      if (stringIsNullOrEmpty(e)) {\n        e = c;\n      } else {\n        e = c + e;\n      }\n    }\n\n    var f = this.b6.item(a).d;\n    var g = this.b6.item(a).g;\n\n    if (g && stringIsNullOrEmpty(e)) {\n      e = \" \";\n    } else if (f.count > 0 && stringIsNullOrEmpty(e)) {\n      e = \" \";\n    } else if (!d) {\n      return null;\n    }\n\n    return e;\n  };\n\n  XamDataLegend.prototype.dx = function (a, b, c) {\n    if (this.ar == 2) {\n      return null;\n    }\n\n    var d = this.cr > 1;\n    var e = this.ar == 1;\n    var f = this.b6.item(a).b.count > 0;\n\n    if (f && (d || e)) {\n      if (stringIsNullOrEmpty(b)) {\n        return \" \";\n      } else if (c) {\n        return b;\n      }\n    }\n\n    return null;\n  };\n\n  XamDataLegend.prototype.fj = function (a, b) {\n    var e_12, _a, e_13, _b;\n\n    if (this.a1 == 5) {\n      return;\n    }\n\n    if (b == null || b.count <= 1) {\n      return;\n    }\n\n    var c = new Dictionary$2(Number_$type, DataLegendSummaryColumn.$, 0);\n    var d = 0;\n    var e = new List$1(DataLegendSeriesGroup_$type, 0);\n\n    try {\n      for (var _c = __values(fromEnum(this.cd)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var f = _d.value;\n        d = Math.max(d, f.f.count);\n\n        if (!e.contains(f.b)) {\n          e.add(f.b);\n        }\n\n        for (var g = 0; g < f.f.count; g++) {\n          var h = f.f._inner[g];\n\n          if (!c.containsKey(g)) {\n            c.addItem(g, new DataLegendSummaryColumn());\n          }\n\n          var i = c.item(g);\n          i.n = h.n;\n          i.m = h.m;\n          i.e = h.e;\n          i.h = h.h;\n          i.f = h.f;\n          i.f = h.g;\n          i.d = h.d;\n          i.x = h.x;\n          i.ai(h.l);\n          i.ag(h.q);\n          i.ah(h.r);\n\n          if (stringIsNullOrEmpty(i.t)) {\n            i.t = h.t;\n          }\n\n          if (stringIsNullOrEmpty(i.u)) {\n            i.u = h.u;\n          }\n\n          if (stringIsNullOrEmpty(i.v)) {\n            i.v = h.v;\n          }\n\n          if (stringIsNullOrEmpty(i.w)) {\n            i.w = h.w;\n          }\n\n          if (stringIsNullOrEmpty(i.p)) {\n            i.p = h.p;\n          }\n        }\n      }\n    } catch (e_12_1) {\n      e_12 = {\n        error: e_12_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_12) throw e_12.error;\n      }\n    }\n\n    if (this.a1 == 0) {\n      if (e.count > 1) {\n        return;\n      }\n\n      if (!e.contains(0)) {\n        return;\n      }\n    }\n\n    var j = this.a6();\n    var k = new DataLegendRowInfo(this.a5, true, false, -1);\n    k.n = this.d8 != null ? this.d8 : j.title;\n    k.q = this.h4 || k.q;\n    k.i = this.bo || k.i;\n\n    for (var l = 0; l < d; l++) {\n      var m = c.item(l);\n      var n = j.calculate(m.aa, m.p);\n      n = this.a0(n);\n      var o = this.an;\n      var p = o == 0 || o == 2 || o == 8;\n      var q = -1;\n\n      try {\n        for (var _e = (e_13 = void 0, __values(fromEnum(this.b6.item(l).a.values))), _f = _e.next(); !_f.done; _f = _e.next()) {\n          var r = _f.value;\n\n          if (r.b()) {\n            q = Math.max(q, r.h);\n\n            if (p) {\n              o = r.a;\n            }\n          }\n        }\n      } catch (e_13_1) {\n        e_13 = {\n          error: e_13_1\n        };\n      } finally {\n        try {\n          if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n        } finally {\n          if (e_13) throw e_13.error;\n        }\n      }\n\n      var s = this.cu >= 0 ? this.cu : q;\n      var t = this.ct >= 0 ? this.ct : q;\n      var u = this.am(n.c, o, s, t);\n      u.i = s;\n      u.h = t;\n      var v = this.d1(u, m);\n      var w = new DataLegendRowCell(this.a5, true, false, -1);\n      w.s = k.k.count;\n      w.t = this.dx(w.s, \" \", m.b);\n\n      if (!stringIsNullOrEmpty(this.d3)) {\n        w.t = this.d3;\n      }\n\n      if (n.e != null) {\n        w.t = n.e;\n      }\n\n      w.j = !stringIsNullOrEmpty(w.t);\n      w.y = this.h3 || w.y;\n      w.g = this.bn || w.g;\n      w.w = v;\n      w.i = this.bq || w.i;\n      w.aa = this.h2(this.h6, w.aa, null);\n      w.r = n.c;\n      w.f = u.a;\n      w.v = m.p;\n      var x = m.z.length >= 1 ? m.z[0] : \" \";\n      w.u = this.d0(w.s, x, u.l, m.d);\n\n      if (n.f != null) {\n        w.u = n.f;\n      }\n\n      w.m = !stringIsNullOrEmpty(w.u);\n      w.z = this.h5 || w.z;\n      w.h = this.bp || w.h;\n      k.k.add(w);\n    }\n\n    this.gb(k);\n\n    if (k.b) {\n      this.fk(k);\n      this.fz(k);\n      a.e(k);\n    }\n  };\n\n  XamDataLegend.prototype.am = function (a, b, c, d) {\n    if (b == 8 || b == 0) {\n      b = this.an;\n    }\n\n    if (d < 0) {\n      d = this.ct;\n    }\n\n    if (c < 0) {\n      c = this.cu;\n    }\n\n    return DataAbbreviator.a(a, b, c, d);\n  };\n\n  XamDataLegend.prototype.cq = function (a, b, c, d) {\n    return this.am(a, b, c, d).d;\n  };\n\n  XamDataLegend.prototype.c7 = function (a, b, c, d) {\n    return this.am(a, b, c, d).l;\n  };\n\n  XamDataLegend.prototype.c6 = function (a, b, c, d) {\n    var e = this.am(a, b, c, d);\n    return e.m + e.l;\n  };\n\n  XamDataLegend.prototype.ce = function (a) {\n    var b = this.cu;\n    var c = this.ct;\n    var d = this.an;\n    var e = DataAbbreviator.h(a, d, b, c);\n    return e;\n  };\n\n  XamDataLegend.prototype.cg = function (a) {\n    var b = new List$1(Number_$type, 0);\n\n    if (a < 0) {\n      return b;\n    }\n\n    for (var c = 0; c < this.cd.count; c++) {\n      var d = this.cd._inner[c];\n\n      if (d.f.count > a) {\n        var e = d.f._inner[a].l;\n\n        if (!isNaN_(e)) {\n          b.add(e);\n        }\n      }\n    }\n\n    return b;\n  };\n\n  XamDataLegend.prototype.fk = function (a) {};\n\n  XamDataLegend.prototype.h2 = function (a, b, c) {\n    if (a != null) {\n      return a;\n    }\n\n    if (this.b5 && c != null) {\n      return c;\n    }\n\n    return b;\n  };\n\n  XamDataLegend.prototype.dy = function (a, b) {\n    return stringIsNullOrEmpty(a) ? b : a;\n  };\n\n  XamDataLegend.prototype.d1 = function (a, b) {\n    var c = a.d;\n\n    if (b == null || isNaN_(c) || isInfinity(c)) {\n      return this.fe;\n    }\n\n    var d;\n    var e = b.d ? a.d : a.g;\n\n    if (this.ak != null) {\n      d = this.ak.i(e);\n    } else {\n      var f = this.a3;\n\n      if (f == 0) {\n        f = 1;\n      }\n\n      var g = new NumberFormatSpecifier();\n      g.useGrouping = this.b3;\n      g.locale = this.dy(this.ex, null);\n      g.currencyCode = this.ez;\n\n      if (b.d) {\n        g.minimumFractionDigits = a.i;\n        g.maximumFractionDigits = a.h;\n\n        if (b.n >= 0 && b.n > a.i) {\n          g.minimumFractionDigits = b.n;\n        } else if (this.cu >= 0) {\n          g.minimumFractionDigits = this.cu;\n        }\n\n        if (b.m >= 0 && b.m > a.h) {\n          g.maximumFractionDigits = b.m;\n        } else if (this.ct >= 0) {\n          g.maximumFractionDigits = this.ct;\n        }\n      } else {\n        g.minimumFractionDigits = b.n;\n        g.maximumFractionDigits = b.m;\n      }\n\n      if (g.minimumFractionDigits > g.maximumFractionDigits) {\n        g.maximumFractionDigits = g.minimumFractionDigits;\n      }\n\n      if (f == 2 && b.e) {\n        g.style = \"currency\";\n      }\n\n      if (this.al == null) {\n        this.al = new BindingFormatter();\n      }\n\n      this.al.j = \"{0}\";\n      this.al.d = [g];\n      d = this.al.i(e);\n\n      if (e > 0) {\n        d = b.v + d;\n      } else if (e < 0) {\n        d = b.t + d;\n      }\n\n      if (e >= 0) {\n        d += b.w;\n      } else {\n        d += b.u;\n      }\n    }\n\n    return d;\n  };\n\n  XamDataLegend.prototype.fi = function (a, b, c) {\n    if (this.b4 == false) {\n      return;\n    }\n\n    var d = this.cd._inner[c];\n    var e = this.dz(b);\n    var f = new DataLegendRowInfo(this.a5, false, false, c);\n    f.f = d.a();\n    f.m = e;\n    f.n = e;\n    f.q = this.h7 || f.q;\n    f.i = this.br || f.i;\n\n    for (var g = 0; g < d.f.count; g++) {\n      var h = d.f._inner[g];\n      var i = this.b6.item(g).a.item(c);\n      var j = this.b6.item(g).f.item(c);\n      var k = new DataLegendRowCell(this.a5, false, false, c);\n      k.s = f.k.count;\n      k.i = this.bt || k.i;\n      k.w = j;\n      k.aa = this.h2(this.h9, k.aa, h.x);\n      k.v = h.p;\n      k.r = h.l;\n      k.f = i.a;\n      k.u = this.d0(k.s, h.r, i.l, h.d);\n      k.m = !stringIsNullOrEmpty(k.u);\n      k.z = this.h8 || k.z;\n      k.h = this.bs || k.h;\n      k.t = this.dx(k.s, h.q, h.b);\n      k.j = !stringIsNullOrEmpty(k.t);\n      k.y = this.h1 || k.y;\n      k.g = this.bm || k.g;\n      f.k.add(k);\n    }\n\n    f.h = this.a9(b);\n    this.fk(f);\n    this.fz(f);\n    this.ga(f);\n\n    if (f.b) {\n      if (f.j) {\n        this.gd(b, f.h);\n        var l = this.gh(b);\n        var m = this.cw(b);\n        f.p = l;\n        f.l = m;\n      }\n\n      a.e(f);\n    }\n  };\n\n  XamDataLegend.prototype.cw = function (a) {\n    return a.getDataLegendBadgeContext();\n  };\n\n  XamDataLegend.prototype.a9 = function (a) {\n    if (this.a8 != 0) {\n      return this.a8;\n    }\n\n    return a.legendItemBadgeShape;\n  };\n\n  XamDataLegend.prototype.gd = function (a, b) {\n    if (b == 0) {\n      return;\n    }\n\n    if (a.legendItemBadgeShape != b) {\n      a.legendItemBadgeShape = b;\n    }\n  };\n\n  XamDataLegend.prototype.by = function () {\n    return !isNaN_(this.cl) && !isNaN_(this.cm);\n  };\n\n  XamDataLegend.prototype.gh = function (a) {\n    return a.getDataLegendBadge();\n  };\n\n  XamDataLegend.prototype.dz = function (a) {\n    return a.getDataLegendSeriesTitle();\n  };\n\n  XamDataLegend.prototype.fh = function (a, b) {\n    if (this.bz == false) {\n      return;\n    }\n\n    var c = this.dw(b);\n\n    if (c == null) {\n      c = this.cx;\n    } else {\n      this.cx = c;\n    }\n\n    if (stringIsNullOrEmpty(c)) {\n      return;\n    }\n\n    var d = new DataLegendRowInfo(this.a5, false, true, -1);\n    d.n = c;\n    d.q = this.h0 || d.q;\n    d.i = this.bl || d.i;\n    this.fk(d);\n    this.fz(d);\n    this.f9(d);\n\n    if (d.b) {\n      a.e(d);\n    }\n  };\n\n  XamDataLegend.prototype.iq = function (a) {\n    var b = new Thickness(0, 0);\n\n    if (a.top >= 0) {\n      b.top = a.top;\n    }\n\n    if (a.bottom >= 0) {\n      b.bottom = a.bottom;\n    }\n\n    if (a.left >= 0) {\n      b.left = a.left;\n    }\n\n    if (a.right >= 0) {\n      b.right = a.right;\n    }\n\n    return b;\n  };\n\n  XamDataLegend.prototype.fz = function (a) {\n    var e_14, _a;\n\n    if (a.c) {\n      a.x = this.iq(this.io);\n      a.w = this.iq(this.ir);\n    } else if (a.a) {\n      a.x = this.iq(this.ij);\n      a.w = this.iq(this.ii);\n    } else {\n      a.x = this.iq(this.im);\n      a.w = this.iq(this.il);\n    }\n\n    try {\n      for (var _b = __values(fromEnum(a.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var b = _c.value;\n        b.am = this.iq(this.is);\n        b.al = this.iq(this.ip);\n        b.ak = this.iq(this.ik);\n      }\n    } catch (e_14_1) {\n      e_14 = {\n        error: e_14_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_14) throw e_14.error;\n      }\n    }\n\n    if (a.c) {\n      a.v = this.iq(this.ih);\n      a.t = new Size(1, 20, 15);\n    }\n  };\n\n  XamDataLegend.prototype.dw = function (a) {\n    if (this.dh != null) {\n      return this.dh;\n    }\n\n    var b = true;\n    var c = null;\n\n    for (var d = 0; d < a.count; d++) {\n      var e = a._inner[d];\n      var f = this.du(e);\n\n      if (f == null) {\n        continue;\n      }\n\n      if (c == null) {\n        c = f;\n      } else {\n        if (!Base.equalsStatic(c, f)) {\n          b = false;\n          break;\n        }\n      }\n    }\n\n    if (b || !stringIsNullOrEmpty(c)) {\n      return c;\n    }\n\n    return null;\n  };\n\n  XamDataLegend.prototype.du = function (a) {\n    if (this.by()) {\n      var b = a.getDataLegendAxisLabelFromCursorPosition(this.cl, this.cm);\n\n      if (typeCast(Date_$type, b) !== null) {\n        var c = b;\n        b = this.dv(c);\n      }\n\n      return b == null ? \"\" : b.toString();\n    } else {\n      return null;\n    }\n  };\n\n  XamDataLegend.prototype.dv = function (a) {\n    if (this.ai != null) {\n      var b = this.ai.i(a);\n      return b;\n    } else {\n      var c = new DateTimeFormatSpecifier();\n      c.dateStyle = \"short\";\n      c.timeStyle = \"full\";\n      var d = this.ap;\n\n      if (d == 0) {\n        d = 1;\n      }\n\n      if (d == 3) {\n        c.dateStyle = \"medium\";\n      }\n\n      if (d == 1) {\n        c.dateStyle = \"short\";\n      }\n\n      if (d == 4) {\n        c.dateStyle = \"full\";\n      }\n\n      if (d == 2) {\n        c.dateStyle = \"long\";\n      }\n\n      if (d == 5) {\n        c.dateStyle = null;\n      }\n\n      var e = this.aq;\n\n      if (e == 0) {\n        e = 1;\n      }\n\n      if (e == 3) {\n        c.timeStyle = \"medium\";\n      }\n\n      if (e == 1) {\n        c.timeStyle = \"short\";\n      }\n\n      if (e == 4) {\n        c.timeStyle = \"full\";\n      }\n\n      if (e == 2) {\n        c.timeStyle = \"long\";\n      }\n\n      if (e == 5) {\n        c.timeStyle = null;\n      }\n\n      c.locale = this.dy(this.c8, \"en-US\");\n\n      if (this.aj == null) {\n        this.aj = new BindingFormatter();\n      }\n\n      this.aj.j = \"{0}\";\n      this.aj.d = [c];\n      var f = this.aj.i(a);\n      return f;\n    }\n  };\n\n  XamDataLegend.prototype.fm = function () {};\n\n  XamDataLegend.$t = markType(XamDataLegend, 'XamDataLegend', Control.$, [INotifyPropertyChanged_$type, IDataLegend_$type, IOnDemandRender_$type]);\n  XamDataLegend.$$p = markDep(DependencyProperty, PropertyMetadata, XamDataLegend, 'fx', ['BadgeMargin:ih:gi', [Thickness.$, new Thickness(1, 0, 0, 0, 0)], 'BadgeShape:a8:gj', [LegendItemBadgeShape_$type, enumGetBox(LegendItemBadgeShape_$type, 0)], 'ExcludedColumns::gk', [Array_$type, null], 'ExcludedSeries::gl', [Array_$type, null], 'HeaderFormatCulture:c8:gm', [2, stringEmpty()], 'HeaderFormatDate:ap:gn', [DataLegendHeaderDateMode_$type, enumGetBox(DataLegendHeaderDateMode_$type, 0)], 'HeaderFormatSpecifiers:ag:go', [Array_$type, null], 'HeaderFormatString:dc:gp', [2, null], 'HeaderFormatTime:aq:gq', [DataLegendHeaderTimeMode_$type, enumGetBox(DataLegendHeaderTimeMode_$type, 0)], 'HeaderRowMargin:ii:gr', [Thickness.$, new Thickness(0, 5)], 'HeaderRowVisible:bz:gs', [0, true], 'HeaderTextColor:h0:gt', [Brush.$, null], 'HeaderTextMargin:ij:gu', [Thickness.$, new Thickness(1, 2, 0, 0, 0)], 'HeaderText:dh:gv', [2, null], 'IncludedColumns::gw', [Array_$type, null], 'IncludedSeries::gx', [Array_$type, null], 'LabelDisplayMode:ar:gy', [DataLegendLabelMode_$type, enumGetBox(DataLegendLabelMode_$type, 0)], 'LabelTextColor:h1:gz', [Brush.$, null], 'LabelTextMargin:ik:g0', [Thickness.$, new Thickness(1, 12, 0, 0, 0)], 'ShouldUpdateWhenSeriesDataChanges:b2:g1', [0, true], 'SummaryLabelTextColor:h3:g2', [Brush.$, null], 'SummaryLabelText:d3:g3', [2, null], 'SummaryRowMargin:il:g4', [Thickness.$, new Thickness(0, 5)], 'SummaryTitleTextColor:h4:g5', [Brush.$, null], 'SummaryTitleTextMargin:im:g6', [Thickness.$, new Thickness(1, 2, 0, 4, 0)], 'SummaryTitleText:d8:g7', [2, null], 'SummaryType:a1:g8', [DataLegendSummaryType_$type, enumGetBox(DataLegendSummaryType_$type, 0)], 'SummaryUnitsTextColor:h5:g9', [Brush.$, null], 'SummaryUnitsText:ee:ha', [2, null], 'SummaryValueTextColor:h6:hb', [Brush.$, null], 'TargetCursorPositionX::hc', [1, NaN], 'TargetCursorPositionY::hd', [1, NaN], 'Target::he', [4, null], 'TitleTextColor:h7:hf', [Brush.$, null], 'TitleTextMargin:io:hg', [Thickness.$, new Thickness(1, 0, 0, 4, 0)], 'UnitsDisplayMode:a2:hh', [DataLegendUnitsMode_$type, enumGetBox(DataLegendUnitsMode_$type, 0)], 'UnitsTextColor:h8:hi', [Brush.$, null], 'UnitsTextMargin:ip:hj', [Thickness.$, new Thickness(1, 0, 0, 0, 0)], 'UnitsText:er:hk', [2, null], 'ValueFormatAbbreviation:an:hl', [DataAbbreviationMode_$type, enumGetBox(DataAbbreviationMode_$type, 0)], 'ValueFormatCulture:ex:hm', [2, stringEmpty()], 'ValueFormatCurrencyCode:ez:hn', [2, null], 'ValueFormatMaxFractions:ct:ho', [1, -1], 'ValueFormatMinFractions:cu:hp', [1, -1], 'ValueFormatMode:a3:hq', [DataLegendValueMode_$type, enumGetBox(DataLegendValueMode_$type, 0)], 'ValueFormatSpecifiers:ah:hr', [Array_$type, null], 'ValueFormatString:e5:hs', [2, null], 'ValueFormatUseGrouping:b3:ht', [0, true], 'ValueRowMargin:ir:hu', [Thickness.$, new Thickness(0, 5)], 'ValueRowVisible:b4:hv', [0, true], 'ValueTextColor:h9:hw', [Brush.$, null], 'ValueTextMargin:is:hx', [Thickness.$, new Thickness(1, 2, 0, 2, 0)], 'ValueTextUseSeriesColors:b5:hy', [0, false], 'ValueTextWhenMissingData:fe:hz', [2, \"N/A\"]]);\n  return XamDataLegend;\n}(Control);\n\nexport { XamDataLegend };\n/**\n * @hidden\n */\n\nvar DataLegendView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(DataLegendView, _super);\n\n  function DataLegendView(a) {\n    var _this = _super.call(this) || this;\n\n    _this.z = null;\n    _this.ab = null;\n    _this.ad = null;\n    _this.ac = null;\n    _this.aa = null;\n    _this.o = null;\n    _this.q = null;\n    _this.s = null;\n    _this.r = null;\n    _this.p = null;\n    _this.a = null;\n    _this.ai = null;\n    _this.ah = null;\n    _this.t = null;\n    _this.b = null;\n    _this.ae = 1;\n    _this.ak = -1;\n    _this.aj = -1;\n    _this.x = new Dictionary$2(FontInfo.$, Tuple$2.$.specialize(Number_$type, FontInfo.$), 0);\n    _this.v = false;\n    _this.y = new List$1(FrameworkElement.$, 0);\n    _this.af = 0;\n    _this.f = null;\n    _this.h = null;\n    _this.g = null;\n    _this.d = null;\n    _this.e = null;\n    _this.c = null;\n    _this.u = null;\n    _this.a = a;\n\n    _this.q = function () {\n      var $ret = new Pool$1(TextBlock.$);\n      $ret.create = runOn(_this, _this.bl);\n      $ret.activate = runOn(_this, _this.ba);\n      $ret.disactivate = runOn(_this, _this.bc);\n      $ret.destroy = runOn(_this, _this.bb);\n      return $ret;\n    }();\n\n    _this.s = function () {\n      var $ret = new Pool$1(TextBlock.$);\n      $ret.create = runOn(_this, _this.bn);\n      $ret.activate = runOn(_this, _this.bg);\n      $ret.disactivate = runOn(_this, _this.bi);\n      $ret.destroy = runOn(_this, _this.bh);\n      return $ret;\n    }();\n\n    _this.r = function () {\n      var $ret = new Pool$1(TextBlock.$);\n      $ret.create = runOn(_this, _this.bm);\n      $ret.activate = runOn(_this, _this.bd);\n      $ret.disactivate = runOn(_this, _this.bf);\n      $ret.destroy = runOn(_this, _this.be);\n      return $ret;\n    }();\n\n    _this.p = function () {\n      var $ret = new Pool$1(ContentControl.$);\n      $ret.create = runOn(_this, _this.bj);\n      $ret.activate = runOn(_this, _this.ay);\n      $ret.disactivate = runOn(_this, _this.a0);\n      $ret.destroy = runOn(_this, _this.az);\n      return $ret;\n    }();\n\n    _this.o = function () {\n      var $ret = new Pool$1(TextBlock.$);\n      $ret.create = runOn(_this, _this.bk);\n      $ret.activate = runOn(_this, _this.av);\n      $ret.disactivate = runOn(_this, _this.ax);\n      $ret.destroy = runOn(_this, _this.aw);\n      return $ret;\n    }();\n\n    _this.z = new List$1(TextBlock.$, 0);\n    _this.ab = new List$1(TextBlock.$, 0);\n    _this.ad = new List$1(TextBlock.$, 0);\n    _this.ac = new List$1(TextBlock.$, 0);\n    _this.aa = new List$1(ContentControl.$, 0);\n    return _this;\n  }\n\n  DataLegendView.prototype.ar = function () {\n    this.a.fo();\n  };\n\n  DataLegendView.prototype.bl = function () {\n    var a = new TextBlock();\n    this.ab.add(a);\n    return a;\n  };\n\n  DataLegendView.prototype.ba = function (a) {\n    a._visibility = 0;\n  };\n\n  DataLegendView.prototype.bc = function (a) {\n    a._visibility = 1;\n  };\n\n  DataLegendView.prototype.bb = function (a) {\n    this.ab.remove(a);\n  };\n\n  DataLegendView.prototype.bn = function () {\n    var a = new TextBlock();\n    this.ad.add(a);\n    return a;\n  };\n\n  DataLegendView.prototype.bg = function (a) {\n    a._visibility = 0;\n  };\n\n  DataLegendView.prototype.bi = function (a) {\n    a._visibility = 1;\n  };\n\n  DataLegendView.prototype.bh = function (a) {\n    this.ad.remove(a);\n  };\n\n  DataLegendView.prototype.bm = function () {\n    var a = new TextBlock();\n    this.ac.add(a);\n    return a;\n  };\n\n  DataLegendView.prototype.bd = function (a) {\n    a._visibility = 0;\n  };\n\n  DataLegendView.prototype.bf = function (a) {\n    a._visibility = 1;\n  };\n\n  DataLegendView.prototype.be = function (a) {\n    this.ac.remove(a);\n  };\n\n  DataLegendView.prototype.bk = function () {\n    var a = new TextBlock();\n    this.z.add(a);\n    return a;\n  };\n\n  DataLegendView.prototype.av = function (a) {\n    a._visibility = 0;\n  };\n\n  DataLegendView.prototype.ax = function (a) {\n    a._visibility = 1;\n  };\n\n  DataLegendView.prototype.aw = function (a) {\n    this.z.remove(a);\n  };\n\n  DataLegendView.prototype.bj = function () {\n    var a = new ContentControl();\n    this.aa.add(a);\n    return a;\n  };\n\n  DataLegendView.prototype.ay = function (a) {\n    a._visibility = 0;\n  };\n\n  DataLegendView.prototype.a0 = function (a) {\n    a._visibility = 1;\n  };\n\n  DataLegendView.prototype.az = function (a) {};\n\n  DataLegendView.prototype.au = function () {\n    var a = this.a.pixelScalingRatio;\n    var b = this.a.cn;\n\n    if (!isNaN_(a) && a != 0) {\n      return;\n    }\n\n    if (window.devicePixelRatio != undefined && window.devicePixelRatio != b) {\n      this.a.cn = window.devicePixelRatio;\n    }\n  };\n\n  DataLegendView.prototype.a3 = function () {\n    this.au();\n    var a = Math.round(this.ah.rootWrapper.width());\n    var b = Math.round(this.ah.rootWrapper.height());\n    this.a.ib = new Rect(0, 0, 0, a, b);\n\n    if (this.b != null) {\n      this.b.bl = this.a.ib;\n    }\n\n    this.a.f2();\n  };\n\n  DataLegendView.prototype.al = function () {\n    if (this.b != null) {\n      this.b.ao = null;\n      this.b.av();\n    }\n  };\n\n  DataLegendView.prototype.a2 = function (a) {\n    if (a == null) {\n      this.ai = null;\n      this.ah = null;\n      this.t = null;\n      this.al();\n      return;\n    }\n\n    this.ae = isNaN_(this.a.pixelScalingRatio) ? this.a.cn : this.a.pixelScalingRatio;\n    var b = a;\n    this.ah = b;\n    var c = this.ae;\n    var d = Math.round(b.rootWrapper.width());\n    var e = Math.round(b.rootWrapper.height());\n    var f = d * c;\n    var g = e * c;\n    this.ah.rootWrapper.setStyleProperty(\"position\", \"relative\");\n    var h = this.ah.createElement(\"canvas\");\n    h.setStyleProperty(\"position\", \"absolute\");\n    this.ah.append(h);\n    this.ak = truncate(Math.round(f));\n    this.aj = truncate(Math.round(g));\n    h.setAttribute(\"width\", f.toString());\n    h.setAttribute(\"height\", g.toString());\n    h.setStyleProperty(\"width\", d.toString() + \"px\");\n    h.setStyleProperty(\"height\", e.toString() + \"px\");\n    this.a.ib = new Rect(0, 0, 0, d, e);\n    this.ai = h;\n    var i = this.ah.get2DCanvasContext(this.ai);\n    this.t = new RenderingContext(new CanvasViewRenderer(), i);\n    this.al();\n\n    if (TypeRegistrar.isRegistered(\"CanvasGestureDOMEventProxy\")) {\n      this.b = typeCast(EventProxy.$, TypeRegistrar.create(\"CanvasGestureDOMEventProxy\", this.ah.rootWrapper, this.ah, false));\n    }\n\n    if (this.b != null) {}\n  };\n\n  DataLegendView.prototype.at = function (a, b) {\n    this.a3();\n  };\n\n  DataLegendView.prototype.as = function (a) {};\n\n  DataLegendView.prototype.a6 = function () {\n    var a = this.a.ib.width;\n    var b = this.a.ib.height;\n    var c = Math.round(a * this.ae);\n    var d = Math.round(b * this.ae);\n\n    if (this.ak != c || this.aj != d) {\n      this.ai.setAttribute(\"width\", c.toString());\n      this.ai.setAttribute(\"height\", d.toString());\n      this.ai.setStyleProperty(\"width\", a.toString() + \"px\");\n      this.ai.setStyleProperty(\"height\", b.toString() + \"px\");\n      this.ak = truncate(Math.round(c));\n      this.aj = truncate(Math.round(d));\n    }\n\n    this.a7(this.t, this.ae);\n  };\n\n  DataLegendView.prototype.a7 = function (a, b) {\n    if (a.d && b != 1) {\n      a.z();\n      a.aa(b, b);\n    }\n\n    if (a == this.t) {\n      a.k(this.a.ib.left, this.a.ib.top, this.a.ib.width, this.a.ib.height);\n    }\n\n    var c = new DataTemplatePassInfo();\n    c.passID = \"LegendItem\";\n\n    for (var d = 0; d < this.aa.count; d++) {\n      var e = this.aa._inner[d];\n\n      if (e == null) {\n        continue;\n      }\n\n      var f = e.ah;\n\n      if (f == null) {\n        continue;\n      }\n\n      var g = new DataTemplateMeasureInfo();\n      g.passInfo = c;\n      g.context = this.t.g();\n      g.width = e.width;\n      g.height = e.height;\n      g.data = e.content;\n      g.renderContext = a;\n      f.measure(g);\n      var h = new DataTemplateRenderInfo();\n      h.availableWidth = e.width;\n      h.availableHeight = e.height;\n      h.passInfo = c;\n      h.context = a.g();\n      h.renderContext = a;\n      h.data = e.content;\n      h.xPosition = e.n;\n      h.yPosition = e.o;\n      a.z();\n      a.af(e.n, e.o);\n      f.render(h);\n      a.y();\n    }\n\n    for (var i = 0; i < this.ab.count; i++) {\n      var j = this.ab._inner[i];\n      a.ac(j.dataContext);\n      a.w(j);\n    }\n\n    for (var k = 0; k < this.z.count; k++) {\n      var l = this.z._inner[k];\n      a.ac(l.dataContext);\n      a.w(l);\n    }\n\n    for (var m = 0; m < this.ad.count; m++) {\n      var n = this.ad._inner[m];\n      a.ac(n.dataContext);\n      a.w(n);\n    }\n\n    for (var o = 0; o < this.ac.count; o++) {\n      var p = this.ac._inner[o];\n      a.ac(p.dataContext);\n      a.w(p);\n    }\n\n    if (a.d && b != 1) {\n      a.y();\n    }\n  };\n\n  DataLegendView.prototype.w = function () {\n    if (this.ah != null) {\n      this.ah.setTimeout(runOn(this.a, this.a.fo), 0);\n      return true;\n    }\n\n    return false;\n  };\n\n  DataLegendView.prototype.bu = function (a, b) {\n    this.t.ac(b);\n    var c = new TextBlock();\n    c.al = a;\n    var d = this.t.ag(c, this.ag(b), true);\n    return new Size(1, d.c, d.b);\n  };\n\n  DataLegendView.prototype.ag = function (a) {\n    if (this.x.containsKey(a)) {\n      var b = this.x.item(a);\n\n      if (b.d.g == a.g) {\n        return b.c;\n      }\n    }\n\n    var c = FontUtil.getCurrentFontHeight(this.ah, a);\n    var d = new Tuple$2(Number_$type, FontInfo.$, c, a);\n    this.x.item(a, d);\n    return c;\n  };\n\n  DataLegendView.prototype.a8 = function (a, b, c) {\n    if (this.v) {\n      this.y.add(a);\n    }\n\n    a.n = b;\n    a.o = c;\n  };\n\n  DataLegendView.prototype.aq = function (a) {\n    this.a6();\n  };\n\n  DataLegendView.prototype.ao = function (a, b) {\n    a.dataContext = b;\n  };\n\n  DataLegendView.prototype.bt = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.br = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.bs = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.bp = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.bq = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.bo = function () {\n    return FontDefaults.dataLegendFontBrush;\n  };\n\n  DataLegendView.prototype.l = function () {\n    if (this.f == null) {\n      this.f = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.f;\n  };\n\n  DataLegendView.prototype.n = function () {\n    if (this.h == null) {\n      this.h = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.h;\n  };\n\n  DataLegendView.prototype.m = function () {\n    if (this.g == null) {\n      this.g = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.g;\n  };\n\n  DataLegendView.prototype.j = function () {\n    if (this.d == null) {\n      this.d = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.d;\n  };\n\n  DataLegendView.prototype.k = function () {\n    if (this.e == null) {\n      this.e = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.e;\n  };\n\n  DataLegendView.prototype.i = function () {\n    if (this.c == null) {\n      this.c = function () {\n        var $ret = new FontInfo();\n        $ret.n = FontDefaults.dataLegendFontFamily;\n        $ret.d = FontDefaults.dataLegendFontSize;\n        $ret.q = FontDefaults.dataLegendFontStyle;\n        $ret.s = FontDefaults.dataLegendHeaderFontWeight;\n        $ret.o = FontDefaults.dataLegendFontStretch;\n        $ret.r = FontDefaults.dataLegendFontVariant;\n        return $ret;\n      }();\n    }\n\n    return this.c;\n  };\n\n  DataLegendView.prototype.am = function (a, b) {\n    var model_ = this.a;\n    var ext_ = model_.externalObject;\n\n    if (ext_ != null) {\n      var width_ = a;\n      var height_ = b;\n      this.ah.rootWrapper.setStyleProperty(\"min-height\", b + \"px\");\n      this.ah.rootWrapper.setStyleProperty(\"min-width\", a + \"px\");\n      this.a.notifySizeChanged();\n    }\n  };\n\n  DataLegendView.prototype.a5 = function (a) {\n    this.ae = a;\n  };\n\n  DataLegendView.prototype.a1 = function () {\n    if (this.b != null) {\n      this.b.at(this.ai, \"\");\n    }\n  };\n\n  DataLegendView.prototype.a4 = function () {\n    if (this.b != null) {\n      this.b.bh(this.ai, \"\");\n    }\n  };\n\n  DataLegendView.prototype.ap = function (a, b) {\n    a.ag = true;\n    var c = this.t.ag(a, this.ag(b), true);\n  };\n\n  DataLegendView.prototype.a9 = function () {\n    this.y.clear();\n    this.v = true;\n    this.af = 0;\n  };\n\n  DataLegendView.prototype.an = function () {\n    for (var a = 0; a < this.y.count; a++) {\n      this.af = Math.max(this.af, this.y._inner[a].ah);\n    }\n\n    if (this.af > 0) {\n      for (var b = 0; b < this.y.count; b++) {\n        this.y._inner[b].ah = this.af;\n      }\n    }\n\n    this.v = false;\n    this.af = 0;\n  };\n\n  DataLegendView.$t = markType(DataLegendView, 'DataLegendView');\n  return DataLegendView;\n}(Base);\n\nexport { DataLegendView };","map":{"version":3,"names":["__extends","__values","Base","markType","INotifyPropertyChanged_$type","PropertyChangedEventArgs","Array_$type","enumGetBox","EnumUtil","typeGetValue","Number_$type","String_$type","fromEnum","typeCast","Date_$type","markDep","runOn","TypeRegistrar","List$1","DataAbbreviationMode_$type","Brush","FontInfo","Thickness","Size","Rect","stringIsNullOrEmpty","stringEmpty","DataLegendSeriesContext","LegendItemBadgeShape_$type","Control","IDataLegend_$type","IOnDemandRender_$type","DependencyProperty","DataLegendValueMode_$type","FontUtil","DataLegendHeaderDateMode_$type","DataLegendHeaderTimeMode_$type","DataLegendSummaryType_$type","DataLegendUnitsMode_$type","DataLegendLabelMode_$type","BindingFormatter","DataLegendVisualData","Extensions","TextBlock","DataLegendVisualDataRow","DataLegendVisualDataColumn","IDataLegendSeries_$type","RectData","AppearanceHelper","FrameworkElement","DataLegendSummaryEventArgs","DataLegendSummaryCalculationTotal","DataLegendSummaryCalculationAverage","DataLegendSummaryCalculationMin","DataLegendSummaryCalculationMax","DataLegendSummaryCalculationEmpty","DataLegendStylingRowEventArgs","DataLegendStylingColumnEventArgs","Dictionary$2","DataLegendColumn","RenderingContext","DataLegendRenderContext","Pool$1","ContentControl","DataLegendSeriesValueInfo","DataLegendSummaryColumn","DataLegendSeriesGroup_$type","DataAbbreviator","NumberFormatSpecifier","DateTimeFormatSpecifier","PropertyMetadata","isNaN_","isInfinity","truncate","numberToString2","EventProxy","Tuple$2","CanvasViewRenderer","DataTemplatePassInfo","DataTemplateMeasureInfo","DataTemplateRenderInfo","FontDefaults","DataLegendContent","_super","_this","apply","arguments","a","DataLegendRowInfo","$","d","c","Object","defineProperty","prototype","get","enumerable","configurable","f","b","clear","e","add","$t","DataLegendRowBase","call","DataLegendRowCell","s","r","v","t","w","u","y","z","aa","g","i","h","ak","am","al","af","aj","ah","m","j","ab","ad","ac","ae","ai","ag","NaN","br","bt","bs","n","bq","k","bo","empty","width","height","p","l","o","q","x","Array","count","_inner","XamDataLegend","bw","ch","ci","cj","bx","bj","bb","be","bg","bd","bf","a7","bi","bh","bc","ck","calculateColumnSummary","styleHeaderRow","styleSeriesRow","styleSummaryRow","styleSeriesColumn","styleSummaryColumn","propertyChanged","b8","b7","ca","b9","a5","ib","_externalObject","bu","bv","ao","cc","cd","b6","cr","cx","a4","set","fx","getFontInfoFromString","exportSerializedVisualData","exportVisualData","serialize","cp","Math","max","left","right","min","top","co","ia","l_op_Equality","isEmpty","bottom","e_1","_a","viewport","seriesIndex","rowMarginTop","rowMarginBottom","rowMarginRight","rowMarginLeft","bk","bounds","text","textColor","marginTop","marginLeft","marginRight","marginBottom","f7","columns","_b","_c","next","done","value","e_1_1","error","return","badgeBounds","badgeMarginTop","badgeMarginBottom","badgeMarginRight","badgeMarginLeft","badgeShape","getDataLegendBadgeShapeAndMarker","rowBounds","rows","fontFamily","fontSize","fontWeight","fontStyle","fontStretch","dataContext","fontString","toFontInfo","a0","summaryValue","summaryUnits","summaryLabel","a6","a1","gb","ay","f8","ax","gc","ga","f9","f0","$$p","gg","gf","fy","b0","targetCursorPositionX","cl","targetCursorPositionY","cm","e5","$ret","dc","cn","au","pixelScalingRatio","f2","detachDataLegend","attachDataLegend","cb","includedSeries","excludedSeries","e_2","e_3","includedColumns","excludedColumns","keys","_d","item","containsKey","addItem","e_2_1","fg","_e","_f","e_3_1","e_4","toLowerCase","toUpperCase","length","substr","e_4_1","trim","notifyCursorPositionChanged","notifySizeChanged","a3","notifyVisualPropertiesChanged","notifySeriesCollectionChanged","notifySeriesDataChanged","updatePropertyByName","an","getEnumValue","ct","cu","ex","b3","ir","b4","fe","b5","is","h9","c8","ap","aq","dh","h0","ij","ii","bz","bl","h4","d8","im","il","h6","d3","h3","bn","ee","h5","bp","ih","a8","a2","er","h8","ip","io","h7","ar","h1","ik","bm","DataLegendView","destroy","provideContainer","flush","onAttachedToUI","onDetachedFromUI","doRender","getDesiredSize","f3","ensureUpdated","fp","ge","fm","getDataLegendSeries","cf","fr","e_5","title","toString","dataLegendKey","index","isValueOverlay","cs","e_5_1","fo","equals","fs","message_","f5","e_6","f4","a9","f6","e_6_1","content","e_7","by","getDataLegendSeriesContextAt","values","ce","d1","e_7_1","fh","gd","fi","fj","b1","fl","e_8","ft","ig","e_8_1","ie","ic","e_9","e_10","e_9_1","e_10_1","e_11","e_11_1","d0","dx","e_12","e_13","contains","e_12_1","calculate","e_13_1","h2","fk","fz","cq","c7","c6","cg","dy","useGrouping","locale","currencyCode","ez","minimumFractionDigits","maximumFractionDigits","style","dz","gh","cw","getDataLegendBadgeContext","legendItemBadgeShape","getDataLegendBadge","getDataLegendSeriesTitle","dw","iq","e_14","e_14_1","du","equalsStatic","getDataLegendAxisLabelFromCursorPosition","dv","dateStyle","timeStyle","specialize","create","activate","ba","disactivate","az","av","aw","_visibility","remove","window","devicePixelRatio","undefined","round","rootWrapper","setStyleProperty","createElement","append","setAttribute","get2DCanvasContext","isRegistered","at","as","passID","passInfo","context","data","renderContext","measure","availableWidth","availableHeight","xPosition","yPosition","render","setTimeout","getCurrentFontHeight","dataLegendFontBrush","dataLegendFontFamily","dataLegendFontSize","dataLegendFontStyle","dataLegendFontWeight","dataLegendFontStretch","dataLegendFontVariant","dataLegendHeaderFontWeight","model_","ext_","externalObject","width_","height_"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-charts/esm5/lib/DataLegendContent_combined.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, markType, INotifyPropertyChanged_$type, PropertyChangedEventArgs, Array_$type, enumGetBox, EnumUtil, typeGetValue, Number_$type, String_$type, fromEnum, typeCast, Date_$type, markDep, runOn, TypeRegistrar } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { DataAbbreviationMode_$type } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { FontInfo } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { Size } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty, stringEmpty } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { LegendItemBadgeShape_$type } from \"igniteui-react-core\";\nimport { Control } from \"igniteui-react-core\";\nimport { IDataLegend_$type } from \"igniteui-react-core\";\nimport { IOnDemandRender_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { DataLegendValueMode_$type } from \"igniteui-react-core\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { DataLegendHeaderDateMode_$type } from \"igniteui-react-core\";\nimport { DataLegendHeaderTimeMode_$type } from \"igniteui-react-core\";\nimport { DataLegendSummaryType_$type } from \"igniteui-react-core\";\nimport { DataLegendUnitsMode_$type } from \"igniteui-react-core\";\nimport { DataLegendLabelMode_$type } from \"igniteui-react-core\";\nimport { BindingFormatter } from \"igniteui-react-core\";\nimport { DataLegendVisualData } from \"./DataLegendVisualData\";\nimport { Extensions } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { DataLegendVisualDataRow } from \"./DataLegendVisualDataRow\";\nimport { DataLegendVisualDataColumn } from \"./DataLegendVisualDataColumn\";\nimport { IDataLegendSeries_$type } from \"igniteui-react-core\";\nimport { RectData } from \"igniteui-react-core\";\nimport { AppearanceHelper } from \"igniteui-react-core\";\nimport { FrameworkElement } from \"igniteui-react-core\";\nimport { DataLegendSummaryEventArgs } from \"./DataLegendSummaryEventArgs\";\nimport { DataLegendSummaryCalculationTotal } from \"./DataLegendSummaryCalculationTotal\";\nimport { DataLegendSummaryCalculationAverage } from \"./DataLegendSummaryCalculationAverage\";\nimport { DataLegendSummaryCalculationMin } from \"./DataLegendSummaryCalculationMin\";\nimport { DataLegendSummaryCalculationMax } from \"./DataLegendSummaryCalculationMax\";\nimport { DataLegendSummaryCalculationEmpty } from \"./DataLegendSummaryCalculationEmpty\";\nimport { DataLegendStylingRowEventArgs } from \"./DataLegendStylingRowEventArgs\";\nimport { DataLegendStylingColumnEventArgs } from \"./DataLegendStylingColumnEventArgs\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { DataLegendColumn } from \"./DataLegendColumn\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { DataLegendRenderContext } from \"./DataLegendRenderContext\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { ContentControl } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSummaryColumn } from \"igniteui-react-core\";\nimport { DataLegendSeriesGroup_$type } from \"igniteui-react-core\";\nimport { DataAbbreviator } from \"./DataAbbreviator\";\nimport { NumberFormatSpecifier } from \"igniteui-react-core\";\nimport { DateTimeFormatSpecifier } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_, isInfinity, truncate } from \"igniteui-react-core\";\nimport { numberToString2 } from \"igniteui-react-core\";\nimport { EventProxy } from \"igniteui-react-core\";\nimport { Tuple$2 } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { DataTemplatePassInfo } from \"igniteui-react-core\";\nimport { DataTemplateMeasureInfo } from \"igniteui-react-core\";\nimport { DataTemplateRenderInfo } from \"igniteui-react-core\";\nimport { FontDefaults } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar DataLegendContent = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DataLegendContent, _super);\n    function DataLegendContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.a = new List$1(DataLegendRowInfo.$, 0);\n        _this.d = 0;\n        _this.c = 0;\n        return _this;\n    }\n    Object.defineProperty(DataLegendContent.prototype, \"b\", {\n        get: function () {\n            return this.a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DataLegendContent.prototype.f = function () {\n        this.b.clear();\n    };\n    DataLegendContent.prototype.e = function (a) {\n        this.b.add(a);\n    };\n    DataLegendContent.$t = markType(DataLegendContent, 'DataLegendContent');\n    return DataLegendContent;\n}(Base));\nexport { DataLegendContent };\n/**\n * @hidden\n */\nvar DataLegendRowBase = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DataLegendRowBase, _super);\n    function DataLegendRowBase(a, b, c, d) {\n        var _this = _super.call(this) || this;\n        _this.e = 0;\n        _this.b = false;\n        _this.d = false;\n        _this.a = false;\n        _this.c = false;\n        _this.e = d;\n        _this.d = b;\n        _this.a = c;\n        _this.c = !c && !b;\n        _this.b = true;\n        return _this;\n    }\n    DataLegendRowBase.$t = markType(DataLegendRowBase, 'DataLegendRowBase');\n    return DataLegendRowBase;\n}(Base));\nexport { DataLegendRowBase };\n/**\n * @hidden\n */\nvar DataLegendRowCell = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DataLegendRowCell, _super);\n    function DataLegendRowCell(a, b, c, d) {\n        var _this = _super.call(this, a, b, c, d) || this;\n        _this.s = 0;\n        _this.f = 0;\n        _this.r = 0;\n        _this.v = null;\n        _this.t = null;\n        _this.w = null;\n        _this.u = null;\n        _this.y = null;\n        _this.z = null;\n        _this.aa = null;\n        _this.g = null;\n        _this.i = null;\n        _this.h = null;\n        _this.ak = null;\n        _this.am = null;\n        _this.al = null;\n        _this.af = new Size();\n        _this.aj = new Size();\n        _this.ah = new Size();\n        _this.m = false;\n        _this.j = false;\n        _this.ab = null;\n        _this.ad = null;\n        _this.ac = null;\n        _this.ae = new Size();\n        _this.ai = new Size();\n        _this.ag = new Size();\n        _this.r = NaN;\n        _this.ak = new Thickness(0, 0);\n        _this.am = new Thickness(0, 0);\n        _this.al = new Thickness(0, 0);\n        _this.af = new Size(1, 0, 0);\n        _this.aj = new Size(1, 0, 0);\n        _this.ah = new Size(1, 0, 0);\n        _this.m = true;\n        _this.j = true;\n        if (_this.c) {\n            _this.y = a.br();\n            _this.aa = a.bt();\n            _this.z = a.bs();\n            _this.g = a.j();\n            _this.i = a.n();\n            _this.h = a.m();\n        }\n        else if (_this.d) {\n            var e = a.bq();\n            var f = a.k();\n            _this.y = e;\n            _this.aa = e;\n            _this.z = e;\n            _this.g = f;\n            _this.i = f;\n            _this.h = f;\n        }\n        else {\n            var g = a.bo();\n            var h = a.i();\n            _this.y = g;\n            _this.aa = g;\n            _this.z = g;\n            _this.g = h;\n            _this.i = h;\n            _this.h = h;\n        }\n        _this.ab = Rect.empty;\n        _this.ad = Rect.empty;\n        _this.ac = Rect.empty;\n        return _this;\n    }\n    DataLegendRowCell.prototype.k = function () {\n        return this.af.width > 0 && this.af.height > 0;\n    };\n    DataLegendRowCell.prototype.n = function () {\n        return this.ah.width > 0 && this.ah.height > 0;\n    };\n    DataLegendRowCell.prototype.p = function () {\n        return this.aj.width > 0 && this.aj.height > 0;\n    };\n    DataLegendRowCell.prototype.l = function () {\n        return this.t != null;\n    };\n    DataLegendRowCell.prototype.o = function () {\n        return this.u != null;\n    };\n    DataLegendRowCell.prototype.q = function () {\n        return !stringIsNullOrEmpty(this.w) && this.aj.width > 0 && this.aj.height > 0;\n    };\n    DataLegendRowCell.prototype.x = function () {\n        this.ae = new Size(1, 0, 0);\n        this.ai = new Size(1, 0, 0);\n        this.ag = new Size(1, 0, 0);\n    };\n    DataLegendRowCell.$t = markType(DataLegendRowCell, 'DataLegendRowCell', DataLegendRowBase.$);\n    return DataLegendRowCell;\n}(DataLegendRowBase));\nexport { DataLegendRowCell };\n/**\n * @hidden\n */\nvar DataLegendRowInfo = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DataLegendRowInfo, _super);\n    function DataLegendRowInfo(a, b, c, d) {\n        var _this = _super.call(this, a, b, c, d) || this;\n        _this.k = null;\n        _this.j = false;\n        _this.m = null;\n        _this.f = null;\n        _this.g = null;\n        _this.n = null;\n        _this.q = null;\n        _this.i = null;\n        _this.p = null;\n        _this.t = new Size();\n        _this.l = null;\n        _this.h = 0;\n        _this.w = null;\n        _this.v = null;\n        _this.x = null;\n        _this.u = new Size();\n        _this.r = null;\n        _this.s = null;\n        _this.f = new Array(0);\n        _this.k = new List$1(DataLegendRowCell.$, 0);\n        _this.j = _this.c;\n        _this.w = new Thickness(0, 0);\n        _this.v = new Thickness(0, 0);\n        _this.x = new Thickness(0, 0);\n        _this.t = new Size(1, 0, 0);\n        _this.u = new Size(1, 0, 0);\n        if (_this.c) {\n            _this.q = a.br();\n            _this.i = a.l();\n        }\n        else if (_this.d) {\n            var e = a.bq();\n            var f = a.k();\n            _this.q = e;\n            _this.i = f;\n        }\n        else {\n            var g = a.bo();\n            var h = a.i();\n            _this.q = g;\n            _this.i = h;\n        }\n        _this.s = Rect.empty;\n        _this.r = Rect.empty;\n        _this.h = 7;\n        return _this;\n    }\n    DataLegendRowInfo.prototype.o = function (a) {\n        if (this.k == null) {\n            return;\n        }\n        for (var b = 0; b < this.k.count; b++) {\n            a(this.k._inner[b]);\n        }\n    };\n    DataLegendRowInfo.$t = markType(DataLegendRowInfo, 'DataLegendRowInfo', DataLegendRowBase.$);\n    return DataLegendRowInfo;\n}(DataLegendRowBase));\nexport { DataLegendRowInfo };\n/**\n * @hidden\n */\nvar XamDataLegend = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(XamDataLegend, _super);\n    function XamDataLegend() {\n        var _this = _super.call(this) || this;\n        _this.bw = false;\n        _this.ch = NaN;\n        _this.ci = NaN;\n        _this.cj = 1;\n        _this.bx = false;\n        _this.bj = null;\n        _this.bb = null;\n        _this.be = null;\n        _this.bg = null;\n        _this.bd = null;\n        _this.bf = null;\n        _this.a7 = null;\n        _this.bi = null;\n        _this.bh = null;\n        _this.bc = null;\n        _this.ck = NaN;\n        _this.calculateColumnSummary = null;\n        _this.styleHeaderRow = null;\n        _this.styleSeriesRow = null;\n        _this.styleSummaryRow = null;\n        _this.styleSeriesColumn = null;\n        _this.styleSummaryColumn = null;\n        _this.propertyChanged = null;\n        _this.b8 = null;\n        _this.b7 = null;\n        _this.ca = null;\n        _this.b9 = null;\n        _this.a5 = null;\n        _this.ib = null;\n        _this._externalObject = null;\n        _this.bu = false;\n        _this.bv = false;\n        _this.ao = new DataLegendContent();\n        _this.cc = null;\n        _this.cd = new List$1(DataLegendSeriesContext.$, 0);\n        _this.b6 = new Dictionary$2(Number_$type, DataLegendColumn.$, 0);\n        _this.cr = 0;\n        _this.ak = null;\n        _this.al = null;\n        _this.cx = \"\";\n        _this.ai = null;\n        _this.aj = null;\n        _this.ib = Rect.empty;\n        _this.bx = true;\n        _this.ab = XamDataLegend.$;\n        _this.a5 = _this.a4();\n        return _this;\n    }\n    Object.defineProperty(XamDataLegend.prototype, \"cl\", {\n        get: function () {\n            return this.ch;\n        },\n        set: function (a) {\n            var b = this.ch;\n            this.ch = a;\n            if (b != this.ch) {\n                this.fx(\"ActualCursorPositionX\", b, this.ch);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"cm\", {\n        get: function () {\n            return this.ci;\n        },\n        set: function (a) {\n            var b = this.ci;\n            this.ci = a;\n            if (b != this.ci) {\n                this.fx(\"ActualCursorPositionY\", b, this.ci);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"cn\", {\n        get: function () {\n            return this.cj;\n        },\n        set: function (a) {\n            var b = this.cj;\n            this.cj = a;\n            this.fx(\"ActualPixelScalingRatio\", b, this.cj);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bt\", {\n        get: function () {\n            return this.bj;\n        },\n        set: function (a) {\n            var b = this.bj;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bj = a;\n            if (b != this.bj) {\n                this.fx(\"ValueTextStyle\", b, this.bj);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bl\", {\n        get: function () {\n            return this.bb;\n        },\n        set: function (a) {\n            var b = this.bb;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bb = a;\n            if (b != this.bb) {\n                this.fx(\"HeaderTextStyle\", b, this.bb);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bo\", {\n        get: function () {\n            return this.be;\n        },\n        set: function (a) {\n            var b = this.be;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.be = a;\n            if (b != this.be) {\n                this.fx(\"SummaryTitleTextStyle\", b, this.be);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bq\", {\n        get: function () {\n            return this.bg;\n        },\n        set: function (a) {\n            var b = this.bg;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bg = a;\n            if (b != this.bg) {\n                this.fx(\"SummaryValueTextStyle\", b, this.bg);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bn\", {\n        get: function () {\n            return this.bd;\n        },\n        set: function (a) {\n            var b = this.bd;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bd = a;\n            if (b != this.bd) {\n                this.fx(\"SummaryLabelTextStyle\", b, this.bd);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bp\", {\n        get: function () {\n            return this.bf;\n        },\n        set: function (a) {\n            var b = this.bf;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bf = a;\n            if (b != this.bf) {\n                this.fx(\"SummaryUnitsTextStyle\", b, this.bf);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bs\", {\n        get: function () {\n            return this.bi;\n        },\n        set: function (a) {\n            var b = this.bi;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bi = a;\n            if (b != this.bi) {\n                this.fx(\"UnitsTextStyle\", b, this.bi);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"br\", {\n        get: function () {\n            return this.bh;\n        },\n        set: function (a) {\n            var b = this.bh;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bh = a;\n            if (b != this.bh) {\n                this.fx(\"TitleTextStyle\", b, this.bh);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"bm\", {\n        get: function () {\n            return this.bc;\n        },\n        set: function (a) {\n            var b = this.bc;\n            if (typeof a === 'string') {\n                a = FontUtil.getFontInfoFromString(this.a5.ah, a);\n            }\n            this.bc = a;\n            if (b != this.bc) {\n                this.fx(\"LabelTextStyle\", b, this.bc);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamDataLegend.prototype, \"pixelScalingRatio\", {\n        get: function () {\n            return this.ck;\n        },\n        set: function (a) {\n            var b = this.ck;\n            this.ck = a;\n            this.fx(\"PixelScalingRatio\", b, this.ck);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamDataLegend.prototype.exportSerializedVisualData = function () {\n        var a = this.exportVisualData();\n        return a.serialize();\n    };\n    XamDataLegend.prototype.cp = function (a, b) {\n        var c = Math.max(b.left, a);\n        var d = Math.max(b.right, a);\n        var e = Math.max(b.right, a);\n        return Math.min(b.top, a);\n    };\n    XamDataLegend.prototype.co = function (a, b) {\n        return Math.min(b.left, a);\n    };\n    XamDataLegend.prototype.ia = function (a, b) {\n        var c = Rect.l_op_Equality(a, null) || a.isEmpty || !Extensions.b(a);\n        var d = Rect.l_op_Equality(b, null) || b.isEmpty || !Extensions.b(b);\n        if (c) {\n            return b;\n        }\n        if (d) {\n            return a;\n        }\n        if (c && c) {\n            return Rect.empty;\n        }\n        var e = Math.min(a.top, b.top);\n        var f = Math.min(a.left, b.left);\n        var g = Math.max(a.right, b.right);\n        var h = Math.max(a.bottom, b.bottom);\n        return new Rect(0, f, e, g - f, h - e);\n    };\n    XamDataLegend.prototype.exportVisualData = function () {\n        var e_1, _a;\n        var a = new DataLegendVisualData();\n        a.width = this.ao.d;\n        a.height = this.ao.c;\n        if (this.a5 == null) {\n            return a;\n        }\n        var b = -1;\n        var c = -1;\n        var d = -1;\n        var e = -1;\n        var f = this.a5.ab;\n        var g = this.a5.z;\n        var h = this.a5.ad;\n        var i = this.a5.ac;\n        if (f.count < this.ao.b.count) {\n            return a;\n        }\n        if (Rect.l_op_Equality(this.ib, null) || this.ib.isEmpty) {\n            a.viewport = null;\n        }\n        else {\n            a.viewport = new RectData(0, 0, this.ib.width, this.ib.height);\n        }\n        for (var j = 0; j < this.ao.b.count; j++) {\n            var k = this.ao.b._inner[j];\n            var l = new DataLegendVisualDataRow();\n            l.seriesIndex = k.e;\n            l.rowMarginTop = k.w.top;\n            l.rowMarginBottom = k.w.bottom;\n            l.rowMarginRight = k.w.right;\n            l.rowMarginLeft = k.w.left;\n            var m = Rect.empty;\n            if (k.b) {\n                if (Extensions.b(k.s) && f.count > (b + 1)) {\n                    b++;\n                    var n = f._inner[b];\n                    var o = this.bk(n, k.i);\n                    var p = new DataLegendVisualDataColumn();\n                    p.bounds = RectData.b(k.s);\n                    p.text = n.al;\n                    p.textColor = AppearanceHelper.b(k.q);\n                    p.marginTop = k.x.top;\n                    p.marginLeft = k.x.left;\n                    p.marginRight = k.x.right;\n                    p.marginBottom = k.x.bottom;\n                    this.f7(p, o);\n                    l.columns.add(p);\n                    m = this.ia(m, k.s);\n                }\n                try {\n                    for (var _b = (e_1 = void 0, __values(fromEnum(k.k))), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var q = _c.value;\n                        if (Extensions.b(q.ab) && g.count > (c + 1)) {\n                            c++;\n                            var r = g._inner[c];\n                            var s = this.bk(r, q.g);\n                            var t = new DataLegendVisualDataColumn();\n                            t.bounds = RectData.b(q.ab);\n                            t.text = r.al;\n                            t.textColor = AppearanceHelper.b(q.y);\n                            t.marginTop = q.ak.top;\n                            t.marginLeft = q.ak.left;\n                            t.marginRight = q.ak.right;\n                            t.marginBottom = q.ak.bottom;\n                            this.f7(t, s);\n                            l.columns.add(t);\n                            m = this.ia(m, q.ab);\n                        }\n                        if (Extensions.b(q.ad) && h.count > (d + 1)) {\n                            d++;\n                            var u = h._inner[d];\n                            var v = this.bk(u, q.i);\n                            var w = new DataLegendVisualDataColumn();\n                            w.bounds = RectData.b(q.ad);\n                            w.text = u.al;\n                            w.textColor = AppearanceHelper.b(q.aa);\n                            w.marginTop = q.am.top;\n                            w.marginLeft = q.am.left;\n                            w.marginRight = q.am.right;\n                            w.marginBottom = q.am.bottom;\n                            this.f7(w, v);\n                            l.columns.add(w);\n                            m = this.ia(m, q.ad);\n                        }\n                        if (Extensions.b(q.ac) && i.count > (e + 1)) {\n                            e++;\n                            var x = i._inner[e];\n                            var y = this.bk(x, q.h);\n                            var z = new DataLegendVisualDataColumn();\n                            z.bounds = RectData.b(q.ac);\n                            z.text = q.m ? q.u : null;\n                            z.textColor = AppearanceHelper.b(q.z);\n                            z.marginTop = q.al.top;\n                            z.marginLeft = q.al.left;\n                            z.marginRight = q.al.right;\n                            z.marginBottom = q.al.bottom;\n                            this.f7(z, y);\n                            l.columns.add(z);\n                            m = this.ia(m, q.ac);\n                        }\n                    }\n                }\n                catch (e_1_1) {\n                    e_1 = { error: e_1_1 };\n                }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return))\n                            _a.call(_b);\n                    }\n                    finally {\n                        if (e_1)\n                            throw e_1.error;\n                    }\n                }\n                if (k.j) {\n                    m = this.ia(m, k.r);\n                    l.badgeBounds = RectData.b(k.r);\n                    l.badgeMarginTop = k.v.top;\n                    l.badgeMarginBottom = k.v.bottom;\n                    l.badgeMarginRight = k.v.right;\n                    l.badgeMarginLeft = k.v.left;\n                    if (k.e >= 0 && k.e < this.cc.count) {\n                        var aa = this.cc._inner[k.e];\n                        l.badgeShape = aa.getDataLegendBadgeShapeAndMarker();\n                    }\n                    else {\n                        l.badgeShape = \"None\";\n                    }\n                }\n                l.rowBounds = RectData.b(m);\n            }\n            a.rows.add(l);\n        }\n        return a;\n    };\n    XamDataLegend.prototype.f7 = function (a, b) {\n        if (b != null) {\n            if (b.n != null) {\n                a.fontFamily = b.n;\n            }\n            if (!isNaN_(b.d)) {\n                a.fontSize = b.d;\n            }\n            a.fontWeight = stringIsNullOrEmpty(b.s) ? \"Normal\" : b.s;\n            a.fontStyle = stringIsNullOrEmpty(b.q) ? \"Normal\" : b.q;\n            if (b.o != null) {\n                a.fontStretch = b.q;\n            }\n        }\n    };\n    XamDataLegend.prototype.bk = function (a, b) {\n        var c = a.dataContext;\n        if (c != null) {\n            b = a.dataContext;\n        }\n        if (b == null || stringIsNullOrEmpty(b.fontString)) {\n            return b;\n        }\n        else {\n            return FontUtil.toFontInfo(this.a5.ah, b.fontString);\n        }\n    };\n    XamDataLegend.prototype.a0 = function (a) {\n        if (this.calculateColumnSummary != null) {\n            var b = new DataLegendSummaryEventArgs(a.a, a.d);\n            b.summaryValue = a.c;\n            this.calculateColumnSummary(this, b);\n            a.c = b.summaryValue;\n            a.f = b.summaryUnits;\n            a.e = b.summaryLabel;\n        }\n        return a;\n    };\n    XamDataLegend.prototype.a6 = function () {\n        switch (this.a1) {\n            case 0:\n            case 1: return new DataLegendSummaryCalculationTotal();\n            case 2: return new DataLegendSummaryCalculationAverage();\n            case 3: return new DataLegendSummaryCalculationMin();\n            case 4: return new DataLegendSummaryCalculationMax();\n            case 5: return new DataLegendSummaryCalculationEmpty();\n            default: return new DataLegendSummaryCalculationEmpty();\n        }\n    };\n    XamDataLegend.prototype.gb = function (a) {\n        if (this.styleSummaryRow != null) {\n            var b = this.ay(a);\n            this.styleSummaryRow(this, b);\n            this.f8(a, b);\n        }\n        if (a.b && a.k != null && this.styleSummaryColumn != null) {\n            for (var c = 0; c < a.k.count; c++) {\n                var d = this.ax(a.k._inner[c]);\n                d.d = a.e;\n                d.f = a.m;\n                d.c = c;\n                this.styleSummaryColumn(this, d);\n                this.gc(a.k._inner[c], d);\n            }\n        }\n    };\n    XamDataLegend.prototype.ga = function (a) {\n        if (this.styleSeriesRow != null) {\n            var b = this.ay(a);\n            this.styleSeriesRow(this, b);\n            this.f8(a, b);\n        }\n        if (a.b && a.k != null && this.styleSeriesColumn != null) {\n            for (var c = 0; c < a.k.count; c++) {\n                var d = this.ax(a.k._inner[c]);\n                d.d = a.e;\n                d.f = a.m;\n                d.c = c;\n                this.styleSeriesColumn(this, d);\n                this.gc(a.k._inner[c], d);\n            }\n        }\n    };\n    XamDataLegend.prototype.f9 = function (a) {\n        if (this.styleHeaderRow != null) {\n            var b = this.ay(a);\n            this.styleHeaderRow(this, b);\n            this.f8(a, b);\n        }\n    };\n    XamDataLegend.prototype.ay = function (a) {\n        var b = new DataLegendStylingRowEventArgs();\n        b.f = a.n;\n        b.g = a.q;\n        b.a = a.h;\n        b.b = a.j;\n        b.c = a.b;\n        b.d = a.e;\n        b.e = a.m;\n        return b;\n    };\n    XamDataLegend.prototype.f8 = function (a, b) {\n        a.n = b.f;\n        a.q = b.g;\n        a.h = b.a;\n        a.j = b.b;\n        a.b = b.c;\n    };\n    XamDataLegend.prototype.ax = function (a) {\n        var b = new DataLegendStylingColumnEventArgs();\n        b.e = a.t;\n        b.j = a.y;\n        b.g = a.u;\n        b.k = a.z;\n        b.i = a.w;\n        b.l = a.aa;\n        b.b = a.r;\n        b.h = a.v;\n        b.a = a.f;\n        return b;\n    };\n    XamDataLegend.prototype.gc = function (a, b) {\n        a.y = b.j;\n        a.t = b.e;\n        a.j = !stringIsNullOrEmpty(a.t);\n        a.u = b.g;\n        a.z = b.k;\n        a.m = !stringIsNullOrEmpty(a.u);\n        a.w = b.i;\n        a.aa = b.l;\n    };\n    XamDataLegend.prototype.f0 = function (a, b, c) {\n        var _this = this;\n        switch (a) {\n            case XamDataLegend.$$p[19]:\n                this.bx = c;\n                break;\n            case XamDataLegend.$$p[15]:\n            case XamDataLegend.$$p[3]:\n                this.gg();\n                break;\n            case XamDataLegend.$$p[14]:\n            case XamDataLegend.$$p[2]:\n                this.gf();\n                break;\n            case XamDataLegend.$$p[32]:\n                var d = c;\n                var e = b;\n                this.fy(e, d);\n                break;\n            case XamDataLegend.$$p[30]:\n                if (this.b0(this.targetCursorPositionX)) {\n                    this.cl = this.targetCursorPositionX;\n                }\n                break;\n            case XamDataLegend.$$p[31]:\n                if (this.b0(this.targetCursorPositionY)) {\n                    this.cm = this.targetCursorPositionY;\n                }\n                break;\n            case XamDataLegend.$$p[46]:\n            case XamDataLegend.$$p[45]:\n                if (!stringIsNullOrEmpty(this.e5)) {\n                    this.ak = ((function () {\n                        var $ret = new BindingFormatter();\n                        $ret.j = _this.e5;\n                        $ret.d = _this.ah;\n                        return $ret;\n                    })());\n                }\n                else {\n                    this.ak = null;\n                }\n                break;\n            case XamDataLegend.$$p[7]:\n            case XamDataLegend.$$p[6]:\n                if (!stringIsNullOrEmpty(this.dc)) {\n                    this.ai = ((function () {\n                        var $ret = new BindingFormatter();\n                        $ret.j = _this.dc;\n                        $ret.d = _this.ag;\n                        return $ret;\n                    })());\n                }\n                else {\n                    this.ai = null;\n                }\n                break;\n            case \"PixelScalingRatio\":\n                if (isNaN_(this.cn)) {\n                    this.a5.au();\n                }\n                else {\n                    this.cn = this.pixelScalingRatio;\n                }\n                break;\n            case \"ActualPixelScalingRatio\":\n                this.a5.a5(c);\n                break;\n        }\n        this.f2();\n    };\n    XamDataLegend.prototype.fx = function (a, b, c) {\n        this.f0(a, b, c);\n        if (this.propertyChanged != null) {\n            this.propertyChanged(this, new PropertyChangedEventArgs(a));\n        }\n    };\n    XamDataLegend.prototype.fy = function (a, b) {\n        this.a7 = b;\n        if (a != null) {\n            a.detachDataLegend(this);\n        }\n        if (b != null) {\n            b.attachDataLegend(this);\n            if (isNaN_(this.targetCursorPositionX)) {\n                this.cl = 1;\n            }\n            if (isNaN_(this.targetCursorPositionY)) {\n                this.cm = 0.5;\n            }\n        }\n    };\n    XamDataLegend.prototype.gg = function () {\n        this.ca = this.cb(this.includedSeries);\n        this.b9 = this.cb(this.excludedSeries);\n    };\n    XamDataLegend.prototype.gf = function () {\n        var e_2, _a, e_3, _b;\n        this.b8 = this.cb(this.includedColumns);\n        this.b7 = this.cb(this.excludedColumns);\n        if (this.b8 != null) {\n            var a = new List$1(String_$type, 1, this.b8.keys);\n            try {\n                for (var _c = __values(fromEnum(a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var b = _d.value;\n                    var c = b + \":\";\n                    var d = this.b8.item(b);\n                    if (!this.b8.containsKey(c)) {\n                        this.b8.addItem(c, d);\n                    }\n                }\n            }\n            catch (e_2_1) {\n                e_2 = { error: e_2_1 };\n            }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return))\n                        _a.call(_c);\n                }\n                finally {\n                    if (e_2)\n                        throw e_2.error;\n                }\n            }\n            this.fg(this.b8);\n        }\n        if (this.b7 != null) {\n            var e = new List$1(String_$type, 1, this.b7.keys);\n            try {\n                for (var _e = __values(fromEnum(e)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var f = _f.value;\n                    var g = f + \":\";\n                    var h = this.b7.item(f);\n                    if (!this.b7.containsKey(g)) {\n                        this.b7.addItem(g, h);\n                    }\n                }\n            }\n            catch (e_3_1) {\n                e_3 = { error: e_3_1 };\n            }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return))\n                        _b.call(_e);\n                }\n                finally {\n                    if (e_3)\n                        throw e_3.error;\n                }\n            }\n            this.fg(this.b7);\n        }\n    };\n    XamDataLegend.prototype.fg = function (a) {\n        var e_4, _a;\n        var b = new List$1(String_$type, 1, a.keys);\n        try {\n            for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var c = _c.value;\n                var d = a.item(c);\n                var e = c.toLowerCase();\n                if (!a.containsKey(e)) {\n                    a.addItem(e, d);\n                }\n                var f = c.toUpperCase();\n                if (!a.containsKey(f)) {\n                    a.addItem(f, d);\n                }\n                if (c.length > 0) {\n                    var g = f.substr(0, 1) + e.substr(1);\n                    if (!a.containsKey(g)) {\n                        a.addItem(g, d);\n                    }\n                }\n            }\n        }\n        catch (e_4_1) {\n            e_4 = { error: e_4_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_4)\n                    throw e_4.error;\n            }\n        }\n    };\n    XamDataLegend.prototype.cb = function (a) {\n        if (a == null) {\n            return null;\n        }\n        var b = new Dictionary$2(String_$type, Number_$type, 0);\n        for (var c = 0; c < a.length; c++) {\n            var d = a[c];\n            if (!stringIsNullOrEmpty(d) && !b.containsKey(d.trim())) {\n                b.addItem(d.trim(), b.count);\n            }\n        }\n        return b;\n    };\n    XamDataLegend.prototype.b0 = function (a) {\n        return a >= 0 && a <= 1;\n    };\n    XamDataLegend.prototype.notifyCursorPositionChanged = function (a) {\n        var b = !isNaN_(this.targetCursorPositionX) || !isNaN_(this.targetCursorPositionY);\n        var c = !isNaN_(a.x) && this.b0(a.x);\n        var d = !isNaN_(a.y) && this.b0(a.y);\n        if (!b && c && d) {\n            this.cl = a.x;\n            this.cm = a.y;\n        }\n    };\n    XamDataLegend.prototype.notifySizeChanged = function () {\n        this.a5.a3();\n    };\n    XamDataLegend.prototype.notifyVisualPropertiesChanged = function (a) {\n    };\n    XamDataLegend.prototype.notifySeriesCollectionChanged = function () {\n        this.f2();\n    };\n    XamDataLegend.prototype.notifySeriesDataChanged = function () {\n        if (this.bx) {\n            this.f2();\n        }\n    };\n    XamDataLegend.prototype.updatePropertyByName = function (a, b) {\n        switch (a) {\n            case XamDataLegend.$$p[15]:\n                this.includedSeries = b;\n                break;\n            case XamDataLegend.$$p[3]:\n                this.excludedSeries = b;\n                break;\n            case XamDataLegend.$$p[14]:\n                this.includedColumns = b;\n                break;\n            case XamDataLegend.$$p[2]:\n                this.excludedColumns = b;\n                break;\n            case XamDataLegend.$$p[39]:\n                this.an = EnumUtil.getEnumValue(DataAbbreviationMode_$type, b);\n                break;\n            case XamDataLegend.$$p[42]:\n                this.ct = typeGetValue(b);\n                break;\n            case XamDataLegend.$$p[43]:\n                this.cu = typeGetValue(b);\n                break;\n            case XamDataLegend.$$p[44]:\n                this.a3 = EnumUtil.getEnumValue(DataLegendValueMode_$type, b);\n                break;\n            case XamDataLegend.$$p[40]:\n                this.ex = b;\n                break;\n            case XamDataLegend.$$p[47]:\n                this.b3 = b;\n                break;\n            case XamDataLegend.$$p[46]:\n                this.e5 = b;\n                break;\n            case XamDataLegend.$$p[45]:\n                this.ah = b;\n                break;\n            case XamDataLegend.$$p[48]:\n                this.ir = b;\n                break;\n            case XamDataLegend.$$p[49]:\n                this.b4 = b;\n                break;\n            case XamDataLegend.$$p[53]:\n                this.fe = b;\n                break;\n            case XamDataLegend.$$p[52]:\n                this.b5 = b;\n                break;\n            case XamDataLegend.$$p[51]:\n                this.is = b;\n                break;\n            case XamDataLegend.$$p[50]:\n                this.h9 = b;\n                break;\n            case \"ValueTextStyle\":\n                this.bt = b;\n                break;\n            case XamDataLegend.$$p[7]:\n                this.dc = b;\n                break;\n            case XamDataLegend.$$p[6]:\n                this.ag = b;\n                break;\n            case XamDataLegend.$$p[4]:\n                this.c8 = b;\n                break;\n            case XamDataLegend.$$p[5]:\n                this.ap = EnumUtil.getEnumValue(DataLegendHeaderDateMode_$type, b);\n                break;\n            case XamDataLegend.$$p[8]:\n                this.aq = EnumUtil.getEnumValue(DataLegendHeaderTimeMode_$type, b);\n                break;\n            case XamDataLegend.$$p[13]:\n                this.dh = b;\n                break;\n            case XamDataLegend.$$p[11]:\n                this.h0 = b;\n                break;\n            case XamDataLegend.$$p[12]:\n                this.ij = b;\n                break;\n            case XamDataLegend.$$p[9]:\n                this.ii = b;\n                break;\n            case XamDataLegend.$$p[10]:\n                this.bz = b;\n                break;\n            case \"HeaderTextStyle\":\n                this.bl = b;\n                break;\n            case XamDataLegend.$$p[23]:\n                this.h4 = b;\n                break;\n            case \"SummaryTitleTextStyle\":\n                this.bo = b;\n                break;\n            case XamDataLegend.$$p[26]:\n                this.a1 = EnumUtil.getEnumValue(DataLegendSummaryType_$type, b);\n                break;\n            case XamDataLegend.$$p[25]:\n                this.d8 = b;\n                break;\n            case XamDataLegend.$$p[24]:\n                this.im = b;\n                break;\n            case XamDataLegend.$$p[22]:\n                this.il = b;\n                break;\n            case XamDataLegend.$$p[29]:\n                this.h6 = b;\n                break;\n            case \"SummaryValueTextStyle\":\n                this.bq = b;\n                break;\n            case XamDataLegend.$$p[21]:\n                this.d3 = b;\n                break;\n            case XamDataLegend.$$p[20]:\n                this.h3 = b;\n                break;\n            case \"SummaryLabelTextStyle\":\n                this.bn = b;\n                break;\n            case XamDataLegend.$$p[28]:\n                this.ee = b;\n                break;\n            case XamDataLegend.$$p[27]:\n                this.h5 = b;\n                break;\n            case \"SummaryUnitsTextStyle\":\n                this.bp = b;\n                break;\n            case XamDataLegend.$$p[0]:\n                this.ih = b;\n                break;\n            case XamDataLegend.$$p[1]:\n                this.a8 = EnumUtil.getEnumValue(LegendItemBadgeShape_$type, b);\n                break;\n            case XamDataLegend.$$p[35]:\n                this.a2 = EnumUtil.getEnumValue(DataLegendUnitsMode_$type, b);\n                break;\n            case XamDataLegend.$$p[38]:\n                this.er = b;\n                break;\n            case XamDataLegend.$$p[36]:\n                this.h8 = b;\n                break;\n            case XamDataLegend.$$p[37]:\n                this.ip = b;\n                break;\n            case \"UnitsTextStyle\":\n                this.bs = b;\n                break;\n            case XamDataLegend.$$p[34]:\n                this.io = b;\n                break;\n            case XamDataLegend.$$p[33]:\n                this.h7 = b;\n                break;\n            case \"TitleTextStyle\":\n                this.br = b;\n                break;\n            case XamDataLegend.$$p[16]:\n                this.ar = EnumUtil.getEnumValue(DataLegendLabelMode_$type, b);\n                break;\n            case XamDataLegend.$$p[17]:\n                this.h1 = b;\n                break;\n            case XamDataLegend.$$p[18]:\n                this.ik = b;\n                break;\n            case \"LabelTextStyle\":\n                this.bm = b;\n                break;\n        }\n    };\n    XamDataLegend.prototype.a4 = function () {\n        return new DataLegendView(this);\n    };\n    XamDataLegend.prototype.destroy = function () {\n        this.provideContainer(null);\n    };\n    Object.defineProperty(XamDataLegend.prototype, \"externalObject\", {\n        get: function () {\n            return this._externalObject;\n        },\n        set: function (a) {\n            this._externalObject = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamDataLegend.prototype.flush = function () {\n        this.a5.ar();\n    };\n    XamDataLegend.prototype.onAttachedToUI = function () {\n        this.a5.a1();\n    };\n    XamDataLegend.prototype.onDetachedFromUI = function () {\n        this.a5.a4();\n    };\n    XamDataLegend.prototype.provideContainer = function (a) {\n        this.a5.a2(a);\n    };\n    XamDataLegend.prototype.f2 = function () {\n        if (this.bu) {\n            return;\n        }\n        this.bu = this.a5.w();\n    };\n    Object.defineProperty(XamDataLegend.prototype, \"shouldOnDemandRender\", {\n        get: function () {\n            return this.bv;\n        },\n        set: function (a) {\n            this.bv = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamDataLegend.prototype.doRender = function (a, b) {\n        if (this.ib.isEmpty) {\n            var c = this.getDesiredSize();\n            this.ib = new Rect(0, 0, 0, c.width, c.height);\n        }\n        this.f3(this.ao, true);\n        this.a5.a7(a, b);\n    };\n    XamDataLegend.prototype.ensureUpdated = function () {\n        var a = this.getDesiredSize();\n    };\n    XamDataLegend.prototype.fp = function () {\n        if (!this.bu) {\n            if (this.ao == null) {\n                this.f2();\n            }\n            else {\n                return;\n            }\n        }\n        this.ge();\n    };\n    XamDataLegend.prototype.getDesiredSize = function () {\n        this.fp();\n        if (this.ao == null) {\n            return new Size(1, 0, 0);\n        }\n        return new Size(1, this.ao.d, this.ao.c);\n    };\n    XamDataLegend.prototype.ge = function () {\n        if (this.a7 == null) {\n            this.fm();\n            return;\n        }\n        var a = this.a7;\n        var b = a.getDataLegendSeries();\n        var c = this.cf(b);\n        this.fr(c);\n    };\n    XamDataLegend.prototype.cf = function (a) {\n        var e_5, _a;\n        var b = new Dictionary$2(Number_$type, IDataLegendSeries_$type, 0);\n        for (var c = 0; c < a.length; c++) {\n            var d = a[c].title == null ? null : a[c].title.toString();\n            var e = this.ca == null || this.ca.containsKey(a[c].dataLegendKey) || this.ca.containsKey(a[c].index.toString()) || this.ca.containsKey(d);\n            var f = this.b9 != null && (this.b9.containsKey(a[c].dataLegendKey) || this.b9.containsKey(a[c].index.toString()) || this.b9.containsKey(d));\n            if (a[c].isValueOverlay && (!e || this.ca == null)) {\n                continue;\n            }\n            if (e && !f) {\n                var g = this.cs(a[c]);\n                b.addItem(g, a[c]);\n            }\n        }\n        var h = new List$1(Number_$type, 1, b.keys);\n        h.y();\n        var i = new List$1(IDataLegendSeries_$type, 0);\n        try {\n            for (var _b = __values(fromEnum(h)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var j = _c.value;\n                i.add(b.item(j));\n            }\n        }\n        catch (e_5_1) {\n            e_5 = { error: e_5_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_5)\n                    throw e_5.error;\n            }\n        }\n        return i;\n    };\n    XamDataLegend.prototype.cs = function (a) {\n        if (this.ca == null) {\n            return a.index;\n        }\n        var b = a.dataLegendKey;\n        if (this.ca.containsKey(b)) {\n            return this.ca.item(b);\n        }\n        var c = a.index.toString();\n        if (this.ca.containsKey(c)) {\n            return this.ca.item(c);\n        }\n        var d = a.title == null ? null : a.title.toString();\n        if (this.ca.containsKey(d)) {\n            return this.ca.item(d);\n        }\n        return a.index;\n    };\n    XamDataLegend.prototype.fo = function () {\n        this.bu = false;\n        var a = new Size(1, 0, 0);\n        if (this.ao != null) {\n            a = new Size(1, this.ao.d, this.ao.c);\n        }\n        this.ge();\n        var b = new Size(1, 0, 0);\n        if (this.ao != null) {\n            b = new Size(1, this.ao.d, this.ao.c);\n        }\n        if (!a.equals(b)) {\n            this.a5.am(b.width, b.height);\n        }\n        this.f3(this.ao, this.bv);\n    };\n    XamDataLegend.prototype.fs = function (message_) {\n    };\n    XamDataLegend.prototype.f3 = function (a, b) {\n        var c = new DataLegendRenderContext();\n        for (var d = 0; d < a.b.count; d++) {\n            var e = a.b._inner[d];\n            this.f5(a, e, c);\n        }\n        this.a5.p.count = c.b;\n        this.a5.q.count = c.c;\n        this.a5.s.count = c.e;\n        this.a5.r.count = c.d;\n        this.a5.o.count = c.a;\n        if (!b) {\n            this.a5.aq(a);\n        }\n    };\n    XamDataLegend.prototype.f5 = function (a, b, c) {\n        var e_6, _a;\n        if (b.t.width > 0 && b.t.height > 0 && !b.a && !b.d && b.j) {\n            var d = this.a5.p.item(c.b);\n            c.b += 1;\n            this.f4(d, a, b, c);\n        }\n        this.a5.a9();\n        if (!b.s.isEmpty && b.s.width > 0 && b.s.height > 0) {\n            var e = this.a5.q.item(c.c);\n            c.c += 1;\n            this.f6(e, b.n, b.q, b.i, b.s);\n        }\n        try {\n            for (var _b = __values(fromEnum(b.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var f = _c.value;\n                if (!f.ad.isEmpty && f.q()) {\n                    var g = this.a5.s.item(c.e);\n                    c.e += 1;\n                    this.f6(g, f.w, f.aa, f.i, f.ad);\n                }\n                if (!f.ac.isEmpty && f.o() && f.m) {\n                    var h = this.a5.r.item(c.d);\n                    c.d += 1;\n                    this.f6(h, f.u, f.z, f.h, f.ac);\n                }\n                if (!f.ab.isEmpty && f.l() && f.j) {\n                    var i = this.a5.o.item(c.a);\n                    c.a += 1;\n                    this.f6(i, f.t, f.y, f.g, f.ab);\n                }\n            }\n        }\n        catch (e_6_1) {\n            e_6 = { error: e_6_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_6)\n                    throw e_6.error;\n            }\n        }\n        this.a5.an();\n    };\n    XamDataLegend.prototype.f6 = function (a, b, c, d, e) {\n        a.al = b;\n        this.a5.a8(a, e.left, e.top);\n        this.a5.ao(a, d);\n        this.a5.ap(a, d);\n        a.ao = c;\n    };\n    XamDataLegend.prototype.f4 = function (a, b, c, d) {\n        a.ah = c.p;\n        a.content = c.l;\n        a.width = c.t.width;\n        a.height = c.t.height;\n        this.a5.a8(a, c.r.left, c.r.top);\n    };\n    XamDataLegend.prototype.fr = function (a) {\n        var e_7, _a;\n        if (this.by()) {\n            this.ao.f();\n            this.cc = a;\n            this.cd.clear();\n            this.cr = 0;\n            this.b6.clear();\n        }\n        else {\n            return;\n        }\n        for (var b = 0; b < a.count; b++) {\n            var c = a._inner[b];\n            var d = b;\n            var e = typeCast(DataLegendSeriesContext.$, c.getDataLegendSeriesContextAt(this.cl, this.cm));\n            if (e != null) {\n                var f = new List$1(DataLegendSeriesValueInfo.$, 0);\n                for (var g = 0; g < e.f.count; g++) {\n                    var h = e.f._inner[g];\n                    var i = this.b8 == null || this.b8.containsKey(h.p) || this.b8.containsKey(h.q) || this.b8.containsKey(\"ALL\");\n                    var j = this.b7 != null && (this.b7.containsKey(h.p) || this.b7.containsKey(h.q) || this.b7.containsKey(\"ALL\"));\n                    var k = this.b8 == null && this.b7 == null && h.k;\n                    if (i && (!j && !k)) {\n                        h.o = f.count;\n                        f.add(h);\n                        if (!this.b6.containsKey(h.o)) {\n                            this.b6.addItem(h.o, new DataLegendColumn());\n                        }\n                        this.b6.item(h.o).i = h.o;\n                        this.b6.item(h.o).d.q(d, h.r);\n                        this.b6.item(h.o).b.q(d, h.q);\n                        this.b6.item(h.o).e.q(d, h.l);\n                        this.b6.item(h.o).c.q(d, h);\n                        this.b6.item(h.o).h.add(d);\n                    }\n                }\n                e.f = f;\n                this.cd.add(e);\n                this.cr = Math.max(this.cr, e.f.count);\n            }\n        }\n        try {\n            for (var _b = __values(fromEnum(this.b6.values)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var l = _c.value;\n                l.f.clear();\n                l.a.clear();\n                var m = l.e.p(l.h);\n                var n = this.ce(m);\n                for (var o = 0; o < n.count; o++) {\n                    var p = n._inner[o];\n                    var q = l.h._inner[o];\n                    l.a.q(q, p);\n                    var r = l.c.item(q);\n                    var s = this.d1(p, r);\n                    l.f.q(q, s);\n                    var t = !stringIsNullOrEmpty(p.l);\n                    if (t) {\n                        l.g = true;\n                    }\n                }\n            }\n        }\n        catch (e_7_1) {\n            e_7 = { error: e_7_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_7)\n                    throw e_7.error;\n            }\n        }\n        this.fh(this.ao, a);\n        for (var u = 0; u < a.count; u++) {\n            this.gd(a._inner[u], this.a8);\n            this.fi(this.ao, a._inner[u], u);\n        }\n        this.fj(this.ao, a);\n        this.bw = this.b1();\n        this.fl(this.ao);\n    };\n    XamDataLegend.prototype.b1 = function () {\n        var a = false;\n        for (var b = 0; b < this.ao.b.count; b++) {\n            var c = this.ao.b._inner[b];\n            if (c.c && c.j && c.h != 7) {\n                a = true;\n                break;\n            }\n        }\n        return a;\n    };\n    XamDataLegend.prototype.fl = function (a) {\n        var e_8, _a;\n        var b = 0;\n        var c = 0;\n        for (var d = 0; d < a.b.count; d++) {\n            var e = a.b._inner[d];\n            this.ft(e);\n        }\n        var f = 0;\n        var g = new Size(1, 0, 0);\n        var h = new Size(1, 0, 0);\n        var i = new Dictionary$2(Number_$type, Size.$, 0);\n        var j = new Dictionary$2(Number_$type, Size.$, 0);\n        var k = new Dictionary$2(Number_$type, Size.$, 0);\n        try {\n            for (var _b = __values(fromEnum(a.b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var l = _c.value;\n                for (var m = 0; m < l.k.count; m++) {\n                    var n = l.k._inner[m];\n                    if (!i.containsKey(m)) {\n                        i.addItem(m, new Size(1, 0, 0));\n                    }\n                    i.item(m, this.ig(i.item(m), n.aj, n.am));\n                    if (!j.containsKey(m)) {\n                        j.addItem(m, new Size(1, 0, 0));\n                    }\n                    j.item(m, this.ig(j.item(m), n.ah, n.al));\n                    if (!k.containsKey(m)) {\n                        k.addItem(m, new Size(1, 0, 0));\n                    }\n                    k.item(m, this.ig(k.item(m), n.af, n.ak));\n                }\n            }\n        }\n        catch (e_8_1) {\n            e_8 = { error: e_8_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_8)\n                    throw e_8.error;\n            }\n        }\n        for (var o = 0; o < a.b.count; o++) {\n            var p = a.b._inner[o];\n            h = this.ie(h, p.t, p.v);\n            g = this.ig(g, p.u, p.x);\n            for (var q = 0; q < p.k.count; q++) {\n                p.k._inner[q].ai = i.item(q);\n                p.k._inner[q].ag = j.item(q);\n                p.k._inner[q].ae = k.item(q);\n            }\n            if (p.d) {\n                var r = p.u.width + p.x.left + p.x.right;\n                f = Math.max(f, r + p.w.left);\n            }\n            else if (p.c) {\n                var s = p.u.width + p.x.left + p.x.right;\n                var t = p.t.width + p.v.left + p.v.right;\n                f = Math.max(f, s + p.w.left + t);\n            }\n        }\n        var u = 0;\n        var v = 0;\n        for (var w = 0; w < a.b.count; w++) {\n            var x = a.b._inner[w];\n            var y = this.ic(v, x, f, g, h);\n            v = y.height;\n            u = Math.max(u, y.width);\n        }\n        c = v;\n        b = u;\n        a.d = b;\n        a.c = c;\n    };\n    XamDataLegend.prototype.ie = function (a, b, c) {\n        return new Size(1, Math.max(a.width, b.width + c.left + c.right), Math.max(a.height, b.height + c.top + c.bottom));\n    };\n    XamDataLegend.prototype.ig = function (a, b, c) {\n        return new Size(1, Math.max(a.width, b.width + c.left + c.right), Math.max(a.height, b.height + c.top + c.bottom));\n    };\n    XamDataLegend.prototype.ic = function (a, b, c, d, e) {\n        var e_9, _a, e_10, _b;\n        var f = 0;\n        var g = 0;\n        g = Math.max(b.t.height, g);\n        g = Math.max(b.u.height, g);\n        try {\n            for (var _c = __values(fromEnum(b.k)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var h = _d.value;\n                g = Math.max(h.aj.height, g);\n                if (h.m) {\n                    g = Math.max(h.ah.height, g);\n                }\n                if (h.j) {\n                    g = Math.max(h.af.height, g);\n                }\n            }\n        }\n        catch (e_9_1) {\n            e_9 = { error: e_9_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_9)\n                    throw e_9.error;\n            }\n        }\n        f += b.w.left;\n        a += b.w.top;\n        if (!b.a && !b.d && this.bw) {\n            f += b.v.left;\n            var i = 0;\n            if (g > b.t.height) {\n                i = (g - b.t.height) / 2;\n            }\n            b.r = new Rect(0, f, a + i, b.t.width, b.t.height);\n            f += (b.r.width) + b.v.right;\n        }\n        else {\n            b.r = new Rect(0, 0, 0, 0, 0);\n        }\n        f += b.x.left;\n        var j = 0;\n        if (g > b.u.height) {\n            j = (g - b.u.height) / 2;\n        }\n        b.s = new Rect(0, f, a + j, b.u.width + b.x.right, b.u.height);\n        f = Math.max(c, b.s.right);\n        try {\n            for (var _e = __values(fromEnum(b.k)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var k = _f.value;\n                var l = \" C=\" + k.s + \" SR=\" + numberToString2(f, \"000\");\n                if ((k.l() && k.j) && k.ae.width > 0) {\n                    var m = 0;\n                    if (g > k.af.height) {\n                        m = (g - k.af.height) / 2;\n                    }\n                    k.ab = new Rect(0, f + k.ak.left, a + m, k.af.width, k.af.height);\n                    f += k.ae.width;\n                    l += \" label L=\" + numberToString2(k.ab.left, \"000\") + \" R=\" + numberToString2(k.ab.right, \"000\");\n                }\n                if (k.q()) {\n                    l += \" v MW=\" + numberToString2(k.ai.width, \"000\");\n                    f += k.am.left;\n                    f += (k.ai.width - (k.aj.width + k.am.right));\n                    var n = 0;\n                    if (g > k.aj.height) {\n                        n = (g - k.aj.height) / 2;\n                    }\n                    k.ad = new Rect(0, f, a + n, k.aj.width, k.aj.height);\n                    l += \" v ML=\" + numberToString2(k.am.left, \"00\") + \" MR=\" + numberToString2(k.am.right, \"00\");\n                    l += \" v BL=\" + numberToString2(k.ad.left, \"000\") + \" BR=\" + numberToString2(k.ad.right, \"000\");\n                    f += k.ad.width;\n                    f += k.am.right;\n                }\n                if ((k.o() && k.m) && k.ag.width > 0) {\n                    var o = 0;\n                    if (g > k.ah.height) {\n                        o = (g - k.ah.height) / 2;\n                    }\n                    k.ac = new Rect(0, f + k.al.left, a + o, k.ah.width, k.ah.height);\n                    f += k.ag.width;\n                    l += \" unit L=\" + numberToString2(k.ac.left, \"000\") + \" R=\" + numberToString2(k.ac.right, \"000\");\n                }\n                this.fs(\"maxRight \" + numberToString2(c, \"0\") + l);\n            }\n        }\n        catch (e_10_1) {\n            e_10 = { error: e_10_1 };\n        }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return))\n                    _b.call(_e);\n            }\n            finally {\n                if (e_10)\n                    throw e_10.error;\n            }\n        }\n        f += b.w.right;\n        a += g;\n        a += b.w.bottom;\n        return new Size(1, f, a);\n    };\n    XamDataLegend.prototype.ft = function (a) {\n        var e_11, _a;\n        a.u = a.n == null ? new Size(1, 0, 0) : this.a5.bu(a.n, a.i);\n        try {\n            for (var _b = __values(fromEnum(a.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var b = _c.value;\n                b.aj = b.w == null ? new Size(1, 0, 0) : this.a5.bu(b.w, b.i);\n                b.ah = b.u == null ? new Size(1, 0, 0) : this.a5.bu(b.u, b.h);\n                b.af = b.t == null ? new Size(1, 0, 0) : this.a5.bu(b.t, b.g);\n            }\n        }\n        catch (e_11_1) {\n            e_11 = { error: e_11_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_11)\n                    throw e_11.error;\n            }\n        }\n    };\n    XamDataLegend.prototype.d0 = function (a, b, c, d) {\n        if (this.a2 == 2) {\n            return null;\n        }\n        var e = \"\";\n        if (stringIsNullOrEmpty(this.er)) {\n            e = b;\n        }\n        else {\n            e = this.er;\n        }\n        if (d) {\n            if (stringIsNullOrEmpty(e)) {\n                e = c;\n            }\n            else {\n                e = c + e;\n            }\n        }\n        var f = this.b6.item(a).d;\n        var g = this.b6.item(a).g;\n        if (g && stringIsNullOrEmpty(e)) {\n            e = \" \";\n        }\n        else if (f.count > 0 && stringIsNullOrEmpty(e)) {\n            e = \" \";\n        }\n        else if (!d) {\n            return null;\n        }\n        return e;\n    };\n    XamDataLegend.prototype.dx = function (a, b, c) {\n        if (this.ar == 2) {\n            return null;\n        }\n        var d = this.cr > 1;\n        var e = this.ar == 1;\n        var f = this.b6.item(a).b.count > 0;\n        if (f && (d || e)) {\n            if (stringIsNullOrEmpty(b)) {\n                return \" \";\n            }\n            else if (c) {\n                return b;\n            }\n        }\n        return null;\n    };\n    XamDataLegend.prototype.fj = function (a, b) {\n        var e_12, _a, e_13, _b;\n        if (this.a1 == 5) {\n            return;\n        }\n        if (b == null || b.count <= 1) {\n            return;\n        }\n        var c = new Dictionary$2(Number_$type, DataLegendSummaryColumn.$, 0);\n        var d = 0;\n        var e = new List$1(DataLegendSeriesGroup_$type, 0);\n        try {\n            for (var _c = __values(fromEnum(this.cd)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var f = _d.value;\n                d = Math.max(d, f.f.count);\n                if (!e.contains(f.b)) {\n                    e.add(f.b);\n                }\n                for (var g = 0; g < f.f.count; g++) {\n                    var h = f.f._inner[g];\n                    if (!c.containsKey(g)) {\n                        c.addItem(g, new DataLegendSummaryColumn());\n                    }\n                    var i = c.item(g);\n                    i.n = h.n;\n                    i.m = h.m;\n                    i.e = h.e;\n                    i.h = h.h;\n                    i.f = h.f;\n                    i.f = h.g;\n                    i.d = h.d;\n                    i.x = h.x;\n                    i.ai(h.l);\n                    i.ag(h.q);\n                    i.ah(h.r);\n                    if (stringIsNullOrEmpty(i.t)) {\n                        i.t = h.t;\n                    }\n                    if (stringIsNullOrEmpty(i.u)) {\n                        i.u = h.u;\n                    }\n                    if (stringIsNullOrEmpty(i.v)) {\n                        i.v = h.v;\n                    }\n                    if (stringIsNullOrEmpty(i.w)) {\n                        i.w = h.w;\n                    }\n                    if (stringIsNullOrEmpty(i.p)) {\n                        i.p = h.p;\n                    }\n                }\n            }\n        }\n        catch (e_12_1) {\n            e_12 = { error: e_12_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_12)\n                    throw e_12.error;\n            }\n        }\n        if (this.a1 == 0) {\n            if (e.count > 1) {\n                return;\n            }\n            if (!e.contains(0)) {\n                return;\n            }\n        }\n        var j = this.a6();\n        var k = new DataLegendRowInfo(this.a5, true, false, -1);\n        k.n = this.d8 != null ? this.d8 : j.title;\n        k.q = this.h4 || k.q;\n        k.i = this.bo || k.i;\n        for (var l = 0; l < d; l++) {\n            var m = c.item(l);\n            var n = j.calculate(m.aa, m.p);\n            n = this.a0(n);\n            var o = this.an;\n            var p = o == 0 || o == 2 || o == 8;\n            var q = -1;\n            try {\n                for (var _e = (e_13 = void 0, __values(fromEnum(this.b6.item(l).a.values))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var r = _f.value;\n                    if (r.b()) {\n                        q = Math.max(q, r.h);\n                        if (p) {\n                            o = r.a;\n                        }\n                    }\n                }\n            }\n            catch (e_13_1) {\n                e_13 = { error: e_13_1 };\n            }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return))\n                        _b.call(_e);\n                }\n                finally {\n                    if (e_13)\n                        throw e_13.error;\n                }\n            }\n            var s = this.cu >= 0 ? this.cu : q;\n            var t = this.ct >= 0 ? this.ct : q;\n            var u = this.am(n.c, o, s, t);\n            u.i = s;\n            u.h = t;\n            var v = this.d1(u, m);\n            var w = new DataLegendRowCell(this.a5, true, false, -1);\n            w.s = k.k.count;\n            w.t = this.dx(w.s, \" \", m.b);\n            if (!stringIsNullOrEmpty(this.d3)) {\n                w.t = this.d3;\n            }\n            if (n.e != null) {\n                w.t = n.e;\n            }\n            w.j = !stringIsNullOrEmpty(w.t);\n            w.y = this.h3 || w.y;\n            w.g = this.bn || w.g;\n            w.w = v;\n            w.i = this.bq || w.i;\n            w.aa = this.h2(this.h6, w.aa, null);\n            w.r = n.c;\n            w.f = u.a;\n            w.v = m.p;\n            var x = m.z.length >= 1 ? m.z[0] : \" \";\n            w.u = this.d0(w.s, x, u.l, m.d);\n            if (n.f != null) {\n                w.u = n.f;\n            }\n            w.m = !stringIsNullOrEmpty(w.u);\n            w.z = this.h5 || w.z;\n            w.h = this.bp || w.h;\n            k.k.add(w);\n        }\n        this.gb(k);\n        if (k.b) {\n            this.fk(k);\n            this.fz(k);\n            a.e(k);\n        }\n    };\n    XamDataLegend.prototype.am = function (a, b, c, d) {\n        if (b == 8 || b == 0) {\n            b = this.an;\n        }\n        if (d < 0) {\n            d = this.ct;\n        }\n        if (c < 0) {\n            c = this.cu;\n        }\n        return DataAbbreviator.a(a, b, c, d);\n    };\n    XamDataLegend.prototype.cq = function (a, b, c, d) {\n        return this.am(a, b, c, d).d;\n    };\n    XamDataLegend.prototype.c7 = function (a, b, c, d) {\n        return this.am(a, b, c, d).l;\n    };\n    XamDataLegend.prototype.c6 = function (a, b, c, d) {\n        var e = this.am(a, b, c, d);\n        return e.m + e.l;\n    };\n    XamDataLegend.prototype.ce = function (a) {\n        var b = this.cu;\n        var c = this.ct;\n        var d = this.an;\n        var e = DataAbbreviator.h(a, d, b, c);\n        return e;\n    };\n    XamDataLegend.prototype.cg = function (a) {\n        var b = new List$1(Number_$type, 0);\n        if (a < 0) {\n            return b;\n        }\n        for (var c = 0; c < this.cd.count; c++) {\n            var d = this.cd._inner[c];\n            if (d.f.count > a) {\n                var e = d.f._inner[a].l;\n                if (!isNaN_(e)) {\n                    b.add(e);\n                }\n            }\n        }\n        return b;\n    };\n    XamDataLegend.prototype.fk = function (a) {\n    };\n    XamDataLegend.prototype.h2 = function (a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (this.b5 && c != null) {\n            return c;\n        }\n        return b;\n    };\n    XamDataLegend.prototype.dy = function (a, b) {\n        return stringIsNullOrEmpty(a) ? b : a;\n    };\n    XamDataLegend.prototype.d1 = function (a, b) {\n        var c = a.d;\n        if (b == null || isNaN_(c) || isInfinity(c)) {\n            return this.fe;\n        }\n        var d;\n        var e = b.d ? a.d : a.g;\n        if (this.ak != null) {\n            d = this.ak.i(e);\n        }\n        else {\n            var f = this.a3;\n            if (f == 0) {\n                f = 1;\n            }\n            var g = new NumberFormatSpecifier();\n            g.useGrouping = this.b3;\n            g.locale = this.dy(this.ex, null);\n            g.currencyCode = this.ez;\n            if (b.d) {\n                g.minimumFractionDigits = a.i;\n                g.maximumFractionDigits = a.h;\n                if (b.n >= 0 && b.n > a.i) {\n                    g.minimumFractionDigits = b.n;\n                }\n                else if (this.cu >= 0) {\n                    g.minimumFractionDigits = this.cu;\n                }\n                if (b.m >= 0 && b.m > a.h) {\n                    g.maximumFractionDigits = b.m;\n                }\n                else if (this.ct >= 0) {\n                    g.maximumFractionDigits = this.ct;\n                }\n            }\n            else {\n                g.minimumFractionDigits = b.n;\n                g.maximumFractionDigits = b.m;\n            }\n            if (g.minimumFractionDigits > g.maximumFractionDigits) {\n                g.maximumFractionDigits = g.minimumFractionDigits;\n            }\n            if (f == 2 && b.e) {\n                g.style = \"currency\";\n            }\n            if (this.al == null) {\n                this.al = new BindingFormatter();\n            }\n            this.al.j = \"{0}\";\n            this.al.d = [g];\n            d = this.al.i(e);\n            if (e > 0) {\n                d = b.v + d;\n            }\n            else if (e < 0) {\n                d = b.t + d;\n            }\n            if (e >= 0) {\n                d += b.w;\n            }\n            else {\n                d += b.u;\n            }\n        }\n        return d;\n    };\n    XamDataLegend.prototype.fi = function (a, b, c) {\n        if (this.b4 == false) {\n            return;\n        }\n        var d = this.cd._inner[c];\n        var e = this.dz(b);\n        var f = new DataLegendRowInfo(this.a5, false, false, c);\n        f.f = d.a();\n        f.m = e;\n        f.n = e;\n        f.q = this.h7 || f.q;\n        f.i = this.br || f.i;\n        for (var g = 0; g < d.f.count; g++) {\n            var h = d.f._inner[g];\n            var i = this.b6.item(g).a.item(c);\n            var j = this.b6.item(g).f.item(c);\n            var k = new DataLegendRowCell(this.a5, false, false, c);\n            k.s = f.k.count;\n            k.i = this.bt || k.i;\n            k.w = j;\n            k.aa = this.h2(this.h9, k.aa, h.x);\n            k.v = h.p;\n            k.r = h.l;\n            k.f = i.a;\n            k.u = this.d0(k.s, h.r, i.l, h.d);\n            k.m = !stringIsNullOrEmpty(k.u);\n            k.z = this.h8 || k.z;\n            k.h = this.bs || k.h;\n            k.t = this.dx(k.s, h.q, h.b);\n            k.j = !stringIsNullOrEmpty(k.t);\n            k.y = this.h1 || k.y;\n            k.g = this.bm || k.g;\n            f.k.add(k);\n        }\n        f.h = this.a9(b);\n        this.fk(f);\n        this.fz(f);\n        this.ga(f);\n        if (f.b) {\n            if (f.j) {\n                this.gd(b, f.h);\n                var l = this.gh(b);\n                var m = this.cw(b);\n                f.p = l;\n                f.l = m;\n            }\n            a.e(f);\n        }\n    };\n    XamDataLegend.prototype.cw = function (a) {\n        return a.getDataLegendBadgeContext();\n    };\n    XamDataLegend.prototype.a9 = function (a) {\n        if (this.a8 != 0) {\n            return this.a8;\n        }\n        return a.legendItemBadgeShape;\n    };\n    XamDataLegend.prototype.gd = function (a, b) {\n        if (b == 0) {\n            return;\n        }\n        if (a.legendItemBadgeShape != b) {\n            a.legendItemBadgeShape = b;\n        }\n    };\n    XamDataLegend.prototype.by = function () {\n        return !isNaN_(this.cl) && !isNaN_(this.cm);\n    };\n    XamDataLegend.prototype.gh = function (a) {\n        return a.getDataLegendBadge();\n    };\n    XamDataLegend.prototype.dz = function (a) {\n        return a.getDataLegendSeriesTitle();\n    };\n    XamDataLegend.prototype.fh = function (a, b) {\n        if (this.bz == false) {\n            return;\n        }\n        var c = this.dw(b);\n        if (c == null) {\n            c = this.cx;\n        }\n        else {\n            this.cx = c;\n        }\n        if (stringIsNullOrEmpty(c)) {\n            return;\n        }\n        var d = new DataLegendRowInfo(this.a5, false, true, -1);\n        d.n = c;\n        d.q = this.h0 || d.q;\n        d.i = this.bl || d.i;\n        this.fk(d);\n        this.fz(d);\n        this.f9(d);\n        if (d.b) {\n            a.e(d);\n        }\n    };\n    XamDataLegend.prototype.iq = function (a) {\n        var b = new Thickness(0, 0);\n        if (a.top >= 0) {\n            b.top = a.top;\n        }\n        if (a.bottom >= 0) {\n            b.bottom = a.bottom;\n        }\n        if (a.left >= 0) {\n            b.left = a.left;\n        }\n        if (a.right >= 0) {\n            b.right = a.right;\n        }\n        return b;\n    };\n    XamDataLegend.prototype.fz = function (a) {\n        var e_14, _a;\n        if (a.c) {\n            a.x = this.iq(this.io);\n            a.w = this.iq(this.ir);\n        }\n        else if (a.a) {\n            a.x = this.iq(this.ij);\n            a.w = this.iq(this.ii);\n        }\n        else {\n            a.x = this.iq(this.im);\n            a.w = this.iq(this.il);\n        }\n        try {\n            for (var _b = __values(fromEnum(a.k)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var b = _c.value;\n                b.am = this.iq(this.is);\n                b.al = this.iq(this.ip);\n                b.ak = this.iq(this.ik);\n            }\n        }\n        catch (e_14_1) {\n            e_14 = { error: e_14_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_14)\n                    throw e_14.error;\n            }\n        }\n        if (a.c) {\n            a.v = this.iq(this.ih);\n            a.t = new Size(1, 20, 15);\n        }\n    };\n    XamDataLegend.prototype.dw = function (a) {\n        if (this.dh != null) {\n            return this.dh;\n        }\n        var b = true;\n        var c = null;\n        for (var d = 0; d < a.count; d++) {\n            var e = a._inner[d];\n            var f = this.du(e);\n            if (f == null) {\n                continue;\n            }\n            if (c == null) {\n                c = f;\n            }\n            else {\n                if (!Base.equalsStatic(c, f)) {\n                    b = false;\n                    break;\n                }\n            }\n        }\n        if (b || !stringIsNullOrEmpty(c)) {\n            return c;\n        }\n        return null;\n    };\n    XamDataLegend.prototype.du = function (a) {\n        if (this.by()) {\n            var b = a.getDataLegendAxisLabelFromCursorPosition(this.cl, this.cm);\n            if (typeCast(Date_$type, b) !== null) {\n                var c = b;\n                b = this.dv(c);\n            }\n            return b == null ? \"\" : b.toString();\n        }\n        else {\n            return null;\n        }\n    };\n    XamDataLegend.prototype.dv = function (a) {\n        if (this.ai != null) {\n            var b = this.ai.i(a);\n            return b;\n        }\n        else {\n            var c = new DateTimeFormatSpecifier();\n            c.dateStyle = \"short\";\n            c.timeStyle = \"full\";\n            var d = this.ap;\n            if (d == 0) {\n                d = 1;\n            }\n            if (d == 3) {\n                c.dateStyle = \"medium\";\n            }\n            if (d == 1) {\n                c.dateStyle = \"short\";\n            }\n            if (d == 4) {\n                c.dateStyle = \"full\";\n            }\n            if (d == 2) {\n                c.dateStyle = \"long\";\n            }\n            if (d == 5) {\n                c.dateStyle = null;\n            }\n            var e = this.aq;\n            if (e == 0) {\n                e = 1;\n            }\n            if (e == 3) {\n                c.timeStyle = \"medium\";\n            }\n            if (e == 1) {\n                c.timeStyle = \"short\";\n            }\n            if (e == 4) {\n                c.timeStyle = \"full\";\n            }\n            if (e == 2) {\n                c.timeStyle = \"long\";\n            }\n            if (e == 5) {\n                c.timeStyle = null;\n            }\n            c.locale = this.dy(this.c8, \"en-US\");\n            if (this.aj == null) {\n                this.aj = new BindingFormatter();\n            }\n            this.aj.j = \"{0}\";\n            this.aj.d = [c];\n            var f = this.aj.i(a);\n            return f;\n        }\n    };\n    XamDataLegend.prototype.fm = function () {\n    };\n    XamDataLegend.$t = markType(XamDataLegend, 'XamDataLegend', Control.$, [INotifyPropertyChanged_$type, IDataLegend_$type, IOnDemandRender_$type]);\n    XamDataLegend.$$p = markDep(DependencyProperty, PropertyMetadata, XamDataLegend, 'fx', ['BadgeMargin:ih:gi', [Thickness.$, new Thickness(1, 0, 0, 0, 0)], 'BadgeShape:a8:gj', [LegendItemBadgeShape_$type, enumGetBox(LegendItemBadgeShape_$type, 0)], 'ExcludedColumns::gk', [Array_$type, null], 'ExcludedSeries::gl', [Array_$type, null], 'HeaderFormatCulture:c8:gm', [2, stringEmpty()], 'HeaderFormatDate:ap:gn', [DataLegendHeaderDateMode_$type, enumGetBox(DataLegendHeaderDateMode_$type, 0)], 'HeaderFormatSpecifiers:ag:go', [Array_$type, null], 'HeaderFormatString:dc:gp', [2, null], 'HeaderFormatTime:aq:gq', [DataLegendHeaderTimeMode_$type, enumGetBox(DataLegendHeaderTimeMode_$type, 0)], 'HeaderRowMargin:ii:gr', [Thickness.$, new Thickness(0, 5)], 'HeaderRowVisible:bz:gs', [0, true], 'HeaderTextColor:h0:gt', [Brush.$, null], 'HeaderTextMargin:ij:gu', [Thickness.$, new Thickness(1, 2, 0, 0, 0)], 'HeaderText:dh:gv', [2, null], 'IncludedColumns::gw', [Array_$type, null], 'IncludedSeries::gx', [Array_$type, null], 'LabelDisplayMode:ar:gy', [DataLegendLabelMode_$type, enumGetBox(DataLegendLabelMode_$type, 0)], 'LabelTextColor:h1:gz', [Brush.$, null], 'LabelTextMargin:ik:g0', [Thickness.$, new Thickness(1, 12, 0, 0, 0)], 'ShouldUpdateWhenSeriesDataChanges:b2:g1', [0, true], 'SummaryLabelTextColor:h3:g2', [Brush.$, null], 'SummaryLabelText:d3:g3', [2, null], 'SummaryRowMargin:il:g4', [Thickness.$, new Thickness(0, 5)], 'SummaryTitleTextColor:h4:g5', [Brush.$, null], 'SummaryTitleTextMargin:im:g6', [Thickness.$, new Thickness(1, 2, 0, 4, 0)], 'SummaryTitleText:d8:g7', [2, null], 'SummaryType:a1:g8', [DataLegendSummaryType_$type, enumGetBox(DataLegendSummaryType_$type, 0)], 'SummaryUnitsTextColor:h5:g9', [Brush.$, null], 'SummaryUnitsText:ee:ha', [2, null], 'SummaryValueTextColor:h6:hb', [Brush.$, null], 'TargetCursorPositionX::hc', [1, NaN], 'TargetCursorPositionY::hd', [1, NaN], 'Target::he', [4, null], 'TitleTextColor:h7:hf', [Brush.$, null], 'TitleTextMargin:io:hg', [Thickness.$, new Thickness(1, 0, 0, 4, 0)], 'UnitsDisplayMode:a2:hh', [DataLegendUnitsMode_$type, enumGetBox(DataLegendUnitsMode_$type, 0)], 'UnitsTextColor:h8:hi', [Brush.$, null], 'UnitsTextMargin:ip:hj', [Thickness.$, new Thickness(1, 0, 0, 0, 0)], 'UnitsText:er:hk', [2, null], 'ValueFormatAbbreviation:an:hl', [DataAbbreviationMode_$type, enumGetBox(DataAbbreviationMode_$type, 0)], 'ValueFormatCulture:ex:hm', [2, stringEmpty()], 'ValueFormatCurrencyCode:ez:hn', [2, null], 'ValueFormatMaxFractions:ct:ho', [1, -1], 'ValueFormatMinFractions:cu:hp', [1, -1], 'ValueFormatMode:a3:hq', [DataLegendValueMode_$type, enumGetBox(DataLegendValueMode_$type, 0)], 'ValueFormatSpecifiers:ah:hr', [Array_$type, null], 'ValueFormatString:e5:hs', [2, null], 'ValueFormatUseGrouping:b3:ht', [0, true], 'ValueRowMargin:ir:hu', [Thickness.$, new Thickness(0, 5)], 'ValueRowVisible:b4:hv', [0, true], 'ValueTextColor:h9:hw', [Brush.$, null], 'ValueTextMargin:is:hx', [Thickness.$, new Thickness(1, 2, 0, 2, 0)], 'ValueTextUseSeriesColors:b5:hy', [0, false], 'ValueTextWhenMissingData:fe:hz', [2, \"N/A\"]]);\n    return XamDataLegend;\n}(Control));\nexport { XamDataLegend };\n/**\n * @hidden\n */\nvar DataLegendView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(DataLegendView, _super);\n    function DataLegendView(a) {\n        var _this = _super.call(this) || this;\n        _this.z = null;\n        _this.ab = null;\n        _this.ad = null;\n        _this.ac = null;\n        _this.aa = null;\n        _this.o = null;\n        _this.q = null;\n        _this.s = null;\n        _this.r = null;\n        _this.p = null;\n        _this.a = null;\n        _this.ai = null;\n        _this.ah = null;\n        _this.t = null;\n        _this.b = null;\n        _this.ae = 1;\n        _this.ak = -1;\n        _this.aj = -1;\n        _this.x = new Dictionary$2(FontInfo.$, Tuple$2.$.specialize(Number_$type, FontInfo.$), 0);\n        _this.v = false;\n        _this.y = new List$1(FrameworkElement.$, 0);\n        _this.af = 0;\n        _this.f = null;\n        _this.h = null;\n        _this.g = null;\n        _this.d = null;\n        _this.e = null;\n        _this.c = null;\n        _this.u = null;\n        _this.a = a;\n        _this.q = ((function () {\n            var $ret = new Pool$1(TextBlock.$);\n            $ret.create = runOn(_this, _this.bl);\n            $ret.activate = runOn(_this, _this.ba);\n            $ret.disactivate = runOn(_this, _this.bc);\n            $ret.destroy = runOn(_this, _this.bb);\n            return $ret;\n        })());\n        _this.s = ((function () {\n            var $ret = new Pool$1(TextBlock.$);\n            $ret.create = runOn(_this, _this.bn);\n            $ret.activate = runOn(_this, _this.bg);\n            $ret.disactivate = runOn(_this, _this.bi);\n            $ret.destroy = runOn(_this, _this.bh);\n            return $ret;\n        })());\n        _this.r = ((function () {\n            var $ret = new Pool$1(TextBlock.$);\n            $ret.create = runOn(_this, _this.bm);\n            $ret.activate = runOn(_this, _this.bd);\n            $ret.disactivate = runOn(_this, _this.bf);\n            $ret.destroy = runOn(_this, _this.be);\n            return $ret;\n        })());\n        _this.p = ((function () {\n            var $ret = new Pool$1(ContentControl.$);\n            $ret.create = runOn(_this, _this.bj);\n            $ret.activate = runOn(_this, _this.ay);\n            $ret.disactivate = runOn(_this, _this.a0);\n            $ret.destroy = runOn(_this, _this.az);\n            return $ret;\n        })());\n        _this.o = ((function () {\n            var $ret = new Pool$1(TextBlock.$);\n            $ret.create = runOn(_this, _this.bk);\n            $ret.activate = runOn(_this, _this.av);\n            $ret.disactivate = runOn(_this, _this.ax);\n            $ret.destroy = runOn(_this, _this.aw);\n            return $ret;\n        })());\n        _this.z = new List$1(TextBlock.$, 0);\n        _this.ab = new List$1(TextBlock.$, 0);\n        _this.ad = new List$1(TextBlock.$, 0);\n        _this.ac = new List$1(TextBlock.$, 0);\n        _this.aa = new List$1(ContentControl.$, 0);\n        return _this;\n    }\n    DataLegendView.prototype.ar = function () {\n        this.a.fo();\n    };\n    DataLegendView.prototype.bl = function () {\n        var a = new TextBlock();\n        this.ab.add(a);\n        return a;\n    };\n    DataLegendView.prototype.ba = function (a) {\n        a._visibility = 0;\n    };\n    DataLegendView.prototype.bc = function (a) {\n        a._visibility = 1;\n    };\n    DataLegendView.prototype.bb = function (a) {\n        this.ab.remove(a);\n    };\n    DataLegendView.prototype.bn = function () {\n        var a = new TextBlock();\n        this.ad.add(a);\n        return a;\n    };\n    DataLegendView.prototype.bg = function (a) {\n        a._visibility = 0;\n    };\n    DataLegendView.prototype.bi = function (a) {\n        a._visibility = 1;\n    };\n    DataLegendView.prototype.bh = function (a) {\n        this.ad.remove(a);\n    };\n    DataLegendView.prototype.bm = function () {\n        var a = new TextBlock();\n        this.ac.add(a);\n        return a;\n    };\n    DataLegendView.prototype.bd = function (a) {\n        a._visibility = 0;\n    };\n    DataLegendView.prototype.bf = function (a) {\n        a._visibility = 1;\n    };\n    DataLegendView.prototype.be = function (a) {\n        this.ac.remove(a);\n    };\n    DataLegendView.prototype.bk = function () {\n        var a = new TextBlock();\n        this.z.add(a);\n        return a;\n    };\n    DataLegendView.prototype.av = function (a) {\n        a._visibility = 0;\n    };\n    DataLegendView.prototype.ax = function (a) {\n        a._visibility = 1;\n    };\n    DataLegendView.prototype.aw = function (a) {\n        this.z.remove(a);\n    };\n    DataLegendView.prototype.bj = function () {\n        var a = new ContentControl();\n        this.aa.add(a);\n        return a;\n    };\n    DataLegendView.prototype.ay = function (a) {\n        a._visibility = 0;\n    };\n    DataLegendView.prototype.a0 = function (a) {\n        a._visibility = 1;\n    };\n    DataLegendView.prototype.az = function (a) {\n    };\n    DataLegendView.prototype.au = function () {\n        var a = this.a.pixelScalingRatio;\n        var b = this.a.cn;\n        if (!isNaN_(a) && a != 0) {\n            return;\n        }\n        if (window.devicePixelRatio != undefined && window.devicePixelRatio != b) {\n            this.a.cn = window.devicePixelRatio;\n        }\n    };\n    DataLegendView.prototype.a3 = function () {\n        this.au();\n        var a = Math.round(this.ah.rootWrapper.width());\n        var b = Math.round(this.ah.rootWrapper.height());\n        this.a.ib = new Rect(0, 0, 0, a, b);\n        if (this.b != null) {\n            this.b.bl = this.a.ib;\n        }\n        this.a.f2();\n    };\n    DataLegendView.prototype.al = function () {\n        if (this.b != null) {\n            this.b.ao = null;\n            this.b.av();\n        }\n    };\n    DataLegendView.prototype.a2 = function (a) {\n        if (a == null) {\n            this.ai = null;\n            this.ah = null;\n            this.t = null;\n            this.al();\n            return;\n        }\n        this.ae = (isNaN_(this.a.pixelScalingRatio) ? this.a.cn : this.a.pixelScalingRatio);\n        var b = a;\n        this.ah = b;\n        var c = this.ae;\n        var d = Math.round(b.rootWrapper.width());\n        var e = Math.round(b.rootWrapper.height());\n        var f = d * c;\n        var g = e * c;\n        this.ah.rootWrapper.setStyleProperty(\"position\", \"relative\");\n        var h = this.ah.createElement(\"canvas\");\n        h.setStyleProperty(\"position\", \"absolute\");\n        this.ah.append(h);\n        this.ak = truncate(Math.round(f));\n        this.aj = truncate(Math.round(g));\n        h.setAttribute(\"width\", f.toString());\n        h.setAttribute(\"height\", g.toString());\n        h.setStyleProperty(\"width\", d.toString() + \"px\");\n        h.setStyleProperty(\"height\", e.toString() + \"px\");\n        this.a.ib = new Rect(0, 0, 0, d, e);\n        this.ai = h;\n        var i = this.ah.get2DCanvasContext(this.ai);\n        this.t = new RenderingContext(new CanvasViewRenderer(), i);\n        this.al();\n        if (TypeRegistrar.isRegistered(\"CanvasGestureDOMEventProxy\")) {\n            this.b = typeCast(EventProxy.$, TypeRegistrar.create(\"CanvasGestureDOMEventProxy\", this.ah.rootWrapper, this.ah, false));\n        }\n        if (this.b != null) {\n        }\n    };\n    DataLegendView.prototype.at = function (a, b) {\n        this.a3();\n    };\n    DataLegendView.prototype.as = function (a) {\n    };\n    DataLegendView.prototype.a6 = function () {\n        var a = this.a.ib.width;\n        var b = this.a.ib.height;\n        var c = Math.round(a * this.ae);\n        var d = Math.round(b * this.ae);\n        if (this.ak != c || this.aj != d) {\n            this.ai.setAttribute(\"width\", c.toString());\n            this.ai.setAttribute(\"height\", d.toString());\n            this.ai.setStyleProperty(\"width\", a.toString() + \"px\");\n            this.ai.setStyleProperty(\"height\", b.toString() + \"px\");\n            this.ak = truncate(Math.round(c));\n            this.aj = truncate(Math.round(d));\n        }\n        this.a7(this.t, this.ae);\n    };\n    DataLegendView.prototype.a7 = function (a, b) {\n        if (a.d && b != 1) {\n            a.z();\n            a.aa(b, b);\n        }\n        if (a == this.t) {\n            a.k(this.a.ib.left, this.a.ib.top, this.a.ib.width, this.a.ib.height);\n        }\n        var c = new DataTemplatePassInfo();\n        c.passID = \"LegendItem\";\n        for (var d = 0; d < this.aa.count; d++) {\n            var e = this.aa._inner[d];\n            if (e == null) {\n                continue;\n            }\n            var f = e.ah;\n            if (f == null) {\n                continue;\n            }\n            var g = new DataTemplateMeasureInfo();\n            g.passInfo = c;\n            g.context = this.t.g();\n            g.width = e.width;\n            g.height = e.height;\n            g.data = e.content;\n            g.renderContext = a;\n            f.measure(g);\n            var h = new DataTemplateRenderInfo();\n            h.availableWidth = e.width;\n            h.availableHeight = e.height;\n            h.passInfo = c;\n            h.context = a.g();\n            h.renderContext = a;\n            h.data = e.content;\n            h.xPosition = e.n;\n            h.yPosition = e.o;\n            a.z();\n            a.af(e.n, e.o);\n            f.render(h);\n            a.y();\n        }\n        for (var i = 0; i < this.ab.count; i++) {\n            var j = this.ab._inner[i];\n            a.ac(j.dataContext);\n            a.w(j);\n        }\n        for (var k = 0; k < this.z.count; k++) {\n            var l = this.z._inner[k];\n            a.ac(l.dataContext);\n            a.w(l);\n        }\n        for (var m = 0; m < this.ad.count; m++) {\n            var n = this.ad._inner[m];\n            a.ac(n.dataContext);\n            a.w(n);\n        }\n        for (var o = 0; o < this.ac.count; o++) {\n            var p = this.ac._inner[o];\n            a.ac(p.dataContext);\n            a.w(p);\n        }\n        if (a.d && b != 1) {\n            a.y();\n        }\n    };\n    DataLegendView.prototype.w = function () {\n        if (this.ah != null) {\n            this.ah.setTimeout(runOn(this.a, this.a.fo), 0);\n            return true;\n        }\n        return false;\n    };\n    DataLegendView.prototype.bu = function (a, b) {\n        this.t.ac(b);\n        var c = new TextBlock();\n        c.al = a;\n        var d = this.t.ag(c, this.ag(b), true);\n        return new Size(1, d.c, d.b);\n    };\n    DataLegendView.prototype.ag = function (a) {\n        if (this.x.containsKey(a)) {\n            var b = this.x.item(a);\n            if (b.d.g == a.g) {\n                return b.c;\n            }\n        }\n        var c = FontUtil.getCurrentFontHeight(this.ah, a);\n        var d = new Tuple$2(Number_$type, FontInfo.$, c, a);\n        this.x.item(a, d);\n        return c;\n    };\n    DataLegendView.prototype.a8 = function (a, b, c) {\n        if (this.v) {\n            this.y.add(a);\n        }\n        a.n = b;\n        a.o = c;\n    };\n    DataLegendView.prototype.aq = function (a) {\n        this.a6();\n    };\n    DataLegendView.prototype.ao = function (a, b) {\n        a.dataContext = b;\n    };\n    DataLegendView.prototype.bt = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.br = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.bs = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.bp = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.bq = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.bo = function () {\n        return FontDefaults.dataLegendFontBrush;\n    };\n    DataLegendView.prototype.l = function () {\n        if (this.f == null) {\n            this.f = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.f;\n    };\n    DataLegendView.prototype.n = function () {\n        if (this.h == null) {\n            this.h = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.h;\n    };\n    DataLegendView.prototype.m = function () {\n        if (this.g == null) {\n            this.g = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.g;\n    };\n    DataLegendView.prototype.j = function () {\n        if (this.d == null) {\n            this.d = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.d;\n    };\n    DataLegendView.prototype.k = function () {\n        if (this.e == null) {\n            this.e = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.e;\n    };\n    DataLegendView.prototype.i = function () {\n        if (this.c == null) {\n            this.c = ((function () {\n                var $ret = new FontInfo();\n                $ret.n = FontDefaults.dataLegendFontFamily;\n                $ret.d = FontDefaults.dataLegendFontSize;\n                $ret.q = FontDefaults.dataLegendFontStyle;\n                $ret.s = FontDefaults.dataLegendHeaderFontWeight;\n                $ret.o = FontDefaults.dataLegendFontStretch;\n                $ret.r = FontDefaults.dataLegendFontVariant;\n                return $ret;\n            })());\n        }\n        return this.c;\n    };\n    DataLegendView.prototype.am = function (a, b) {\n        var model_ = this.a;\n        var ext_ = model_.externalObject;\n        if (ext_ != null) {\n            var width_ = a;\n            var height_ = b;\n            this.ah.rootWrapper.setStyleProperty(\"min-height\", b + \"px\");\n            this.ah.rootWrapper.setStyleProperty(\"min-width\", a + \"px\");\n            this.a.notifySizeChanged();\n        }\n    };\n    DataLegendView.prototype.a5 = function (a) {\n        this.ae = a;\n    };\n    DataLegendView.prototype.a1 = function () {\n        if (this.b != null) {\n            this.b.at(this.ai, \"\");\n        }\n    };\n    DataLegendView.prototype.a4 = function () {\n        if (this.b != null) {\n            this.b.bh(this.ai, \"\");\n        }\n    };\n    DataLegendView.prototype.ap = function (a, b) {\n        a.ag = true;\n        var c = this.t.ag(a, this.ag(b), true);\n    };\n    DataLegendView.prototype.a9 = function () {\n        this.y.clear();\n        this.v = true;\n        this.af = 0;\n    };\n    DataLegendView.prototype.an = function () {\n        for (var a = 0; a < this.y.count; a++) {\n            this.af = Math.max(this.af, this.y._inner[a].ah);\n        }\n        if (this.af > 0) {\n            for (var b = 0; b < this.y.count; b++) {\n                this.y._inner[b].ah = this.af;\n            }\n        }\n        this.v = false;\n        this.af = 0;\n    };\n    DataLegendView.$t = markType(DataLegendView, 'DataLegendView');\n    return DataLegendView;\n}(Base));\nexport { DataLegendView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}