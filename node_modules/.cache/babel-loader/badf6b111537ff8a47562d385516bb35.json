{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, String_$type, Number_$type, Delegate_$type, markType } from \"./type\";\nimport { ITileGenerator_$type } from \"./ITileGenerator\";\nimport { Color } from \"./Color\";\nimport { HeatTileScaler } from \"./HeatTileScaler\";\nimport { Rect } from \"./Rect\";\nimport { HeatTileGeneratorWorkerManager } from \"./HeatTileGeneratorWorkerManager\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { Tuple$2 } from \"./Tuple$2\";\nimport { List$1 } from \"./List$1\";\nimport { TileImageZoomChangingEventArgs } from \"./TileImageZoomChangingEventArgs\";\nimport { TileWorkSettings } from \"./TileWorkSettings\";\nimport { truncate, isNaN_ } from \"./number\";\n/**\n * @hidden\n */\n\nvar HeatTileGenerator =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(HeatTileGenerator, _super);\n\n  function HeatTileGenerator() {\n    var _this = _super.call(this) || this;\n\n    _this.m = new HeatTileScaler();\n    _this.bz = new Rect(0, 0, 0, 256, 256);\n    _this.l = new HeatTileGeneratorWorkerManager();\n    _this.e = null;\n    _this.d = null;\n    _this.c = null;\n    _this.bw = new Color();\n    _this.bv = new Color();\n    _this.b = null;\n    _this.a = null;\n    _this.ac = 0;\n    _this.am = NaN;\n    _this.p = false;\n    _this.q = false;\n    _this.r = false;\n    _this.ao = NaN;\n    _this.an = NaN;\n    _this.al = 10;\n    _this.s = false;\n    _this.t = true;\n    _this.a0 = null;\n    _this.ax = null;\n    _this.ad = NaN;\n    _this.ag = NaN;\n    _this.aw = {};\n    _this.au = -1;\n    _this.ay = {};\n    _this.ak = 0;\n    _this.aj = 0;\n    _this.z = new Dictionary$2(String_$type, Tuple$2.$.specialize(Number_$type, Number_$type), 0);\n    _this.aa = new Dictionary$2(String_$type, List$1.$.specialize(Delegate_$type), 0);\n    _this.ah = 0;\n    _this.ai = 0;\n    _this.ae = 0;\n    _this.af = 0;\n    _this.n = false;\n    _this.ab = new List$1(Delegate_$type, 0);\n    _this.o = false;\n    _this.m = new HeatTileScaler();\n    return _this;\n  }\n\n  Object.defineProperty(HeatTileGenerator.prototype, \"k\", {\n    get: function get() {\n      return this.e;\n    },\n    set: function set(a) {\n      var b = this.e;\n      this.e = a;\n\n      if (this.e != b) {\n        this.br(\"YValues\", b, this.e);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"j\", {\n    get: function get() {\n      return this.d;\n    },\n    set: function set(a) {\n      var b = this.d;\n      this.d = a;\n\n      if (this.d != b) {\n        this.br(\"XValues\", b, this.d);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"i\", {\n    get: function get() {\n      return this.c;\n    },\n    set: function set(a) {\n      var b = this.c;\n      this.c = a;\n\n      if (this.c != b) {\n        this.br(\"Values\", b, this.c);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"by\", {\n    get: function get() {\n      return this.bw;\n    },\n    set: function set(a) {\n      var b = this.bw;\n      this.bw = a;\n\n      if (Color.d(this.bw, b)) {\n        this.br(\"MinimumColor\", b, this.bw);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"bx\", {\n    get: function get() {\n      return this.bv;\n    },\n    set: function set(a) {\n      var b = this.bv;\n      this.bv = a;\n\n      if (Color.d(this.bv, b)) {\n        this.br(\"MaximumColor\", b, this.bv);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"scaleColors\", {\n    get: function get() {\n      return this.b;\n    },\n    set: function set(a) {\n      var b = this.b;\n      this.b = a;\n\n      if (this.b != b) {\n        this.br(\"ScaleColors\", b, this.b);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"g\", {\n    get: function get() {\n      return this.a;\n    },\n    set: function set(a) {\n      var b = this.a;\n      this.a = a;\n\n      if (this.a != b) {\n        this.br(\"ScaleColorOffsets\", b, this.a);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"ap\", {\n    get: function get() {\n      return this.ac;\n    },\n    set: function set(a) {\n      var b = this.ac;\n      this.ac = a;\n\n      if (this.ac != b) {\n        this.br(\"BlurRadius\", b, this.ac);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"ar\", {\n    get: function get() {\n      return this.am;\n    },\n    set: function set(a) {\n      var b = this.am;\n      this.am = a;\n\n      if (this.am != b) {\n        this.br(\"MaxBlurRadius\", b, this.am);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"u\", {\n    get: function get() {\n      return this.p;\n    },\n    set: function set(a) {\n      var b = this.p;\n      this.p = a;\n\n      if (this.p != b) {\n        this.br(\"UseBlurRadiusAdjustedForZoom\", b, this.p);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"v\", {\n    get: function get() {\n      return this.q;\n    },\n    set: function set(a) {\n      var b = this.q;\n      this.q = a;\n\n      if (this.q != b) {\n        this.br(\"UseGlobalMinMax\", b, this.q);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"w\", {\n    get: function get() {\n      return this.r;\n    },\n    set: function set(a) {\n      var b = this.r;\n      this.r = a;\n\n      if (this.r != b) {\n        this.br(\"UseGlobalMinMaxAdjustedForZoom\", b, this.r);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"at\", {\n    get: function get() {\n      return this.ao;\n    },\n    set: function set(a) {\n      var b = this.ao;\n      this.ao = a;\n\n      if (this.ao != b) {\n        this.br(\"MinimumValue\", b, this.ao);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"as\", {\n    get: function get() {\n      return this.an;\n    },\n    set: function set(a) {\n      var b = this.an;\n      this.an = a;\n\n      if (this.an != b) {\n        this.br(\"MaximumValue\", b, this.an);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"aq\", {\n    get: function get() {\n      return this.al;\n    },\n    set: function set(a) {\n      var b = this.al;\n      this.al = a;\n\n      if (this.al != b) {\n        this.br(\"LogarithmBase\", b, this.al);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"x\", {\n    get: function get() {\n      return this.s;\n    },\n    set: function set(a) {\n      var b = this.s;\n      this.s = a;\n\n      if (this.s != b) {\n        this.br(\"UseLogarithmicScale\", b, this.s);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"y\", {\n    get: function get() {\n      return this.t;\n    },\n    set: function set(a) {\n      var b = this.t;\n      this.t = a;\n\n      if (this.t != b) {\n        this.br(\"UseWebWorkers\", b, this.t);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"bi\", {\n    get: function get() {\n      return this.a0;\n    },\n    set: function set(a) {\n      var b = this.a0;\n      this.a0 = a;\n\n      if (this.a0 != b) {\n        this.br(\"WebWorkerScriptPath\", b, this.a0);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HeatTileGenerator.prototype, \"az\", {\n    get: function get() {\n      return this.ax;\n    },\n    set: function set(a) {\n      var b = this.ax;\n      this.ax = a;\n\n      if (this.ax != b) {\n        this.br(\"WebWorkerInstance\", b, this.ax);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HeatTileGenerator.prototype.bo = function () {\n    this.e = null;\n    this.d = null;\n    this.c = null;\n    this.l.w();\n  };\n\n  HeatTileGenerator.prototype.br = function (a, b, c) {\n    this.bs(a, b, c);\n  };\n\n  HeatTileGenerator.prototype.bs = function (a, b, c) {\n    switch (a) {\n      case \"XValues\":\n      case \"YValues\":\n      case \"Values\":\n        this.bq();\n        break;\n\n      case \"UseWebWorkers\":\n        this.l.e = this.y;\n        break;\n\n      case \"WebWorkerScriptPath\":\n        this.l.p = this.bi;\n        break;\n\n      case \"WebWorkerInstance\":\n        this.l.n = this.az;\n        break;\n    }\n  };\n\n  HeatTileGenerator.prototype.getTile = function (a, b, c, d, e, f, g) {\n    this.getTile1(a, b, c, d, e, f, g, false);\n  };\n\n  HeatTileGenerator.prototype.getTile1 = function (a, b, c, d, e, f, g, h) {\n    var _this = this;\n\n    var i = NaN;\n    var j = NaN;\n\n    if (!h && this.v && (isNaN_(this.ag) || isNaN_(this.ad))) {\n      var k = false;\n\n      if ((isNaN_(this.ag) || isNaN_(this.ad)) && !this.n) {\n        k = true;\n        this.n = true;\n      } else {\n        this.ab.add(function () {\n          return _this.bm(a, b, c, h, j, i, d, e, f, g);\n        });\n        return;\n      }\n\n      if (k) {\n        var l_1 = 1.7976931348623157E+308;\n        var m_1 = -1.7976931348623157E+308;\n        var n_1 = 0;\n        var o_1 = 0;\n        var p_1 = 0;\n        var q_1 = 0;\n        this.getTile1(0, 0, 0, function (r, s) {\n          var t = s;\n          l_1 = t.globalMinimumValue;\n          m_1 = t.globalMaximumValue;\n          n_1 = t.globalMinimumValueLongitude;\n          o_1 = t.globalMinimumValueLatitude;\n          p_1 = t.globalMaximumValueLongitude;\n          q_1 = t.globalMaximumValueLatitude;\n          var u = new Rect(0, 0, 0, 1, 1);\n          var v = _this.bz;\n          i = l_1;\n          j = m_1;\n          var w = new List$1(Delegate_$type, 0);\n          _this.ag = i;\n          _this.ad = j;\n          _this.ah = o_1;\n          _this.ai = n_1;\n          _this.ae = q_1;\n          _this.af = p_1;\n\n          for (var x = 0; x < _this.ab.count; x++) {\n            w.add(_this.ab._inner[x]);\n          }\n\n          _this.ab.clear();\n\n          _this.bm(a, b, c, h, j, i, d, e, f, g);\n\n          for (var y = 0; y < w.count; y++) {\n            w._inner[y]();\n          }\n        }, function (r, s) {}, function (r, s) {}, g, true);\n        return;\n      } else {\n        i = this.ag;\n        j = this.ad;\n      }\n    } else {\n      i = this.ag;\n      j = this.ad;\n    }\n\n    this.bm(a, b, c, h, j, i, d, e, f, g);\n  };\n\n  HeatTileGenerator.prototype.cancelTile = function (a, b, c) {\n    this.l.s(a, b, c);\n  };\n\n  HeatTileGenerator.prototype.bm = function (a, b, c, d, e, f, g, h, i, j) {\n    var _this = this;\n\n    this.bn(a, b, c, d, i, function () {\n      if (_this.w && !d) {\n        if (a > 0 && _this.z.containsKey(a.toString())) {\n          var k = _this.z.item(a.toString());\n\n          e = k.c;\n          f = k.d;\n        }\n      }\n\n      var l = _this.b0(a, b, c);\n\n      var m = new TileWorkSettings();\n      m.window = l;\n      m.z = a;\n      m.x = b;\n      m.y = c;\n      m.globalMinimum = f;\n      m.globalMaximum = e;\n      m.useGlobalMinMax = _this.v;\n      m.minimumValue = _this.at;\n      m.maximumValue = _this.as;\n      m.useLogarithmicScale = _this.x;\n      m.logarithmBase = _this.aq;\n\n      if (m.logarithmBase <= 0) {\n        m.logarithmBase = 10;\n      }\n\n      m.tileViewport = _this.bz;\n      m.maximumColor = _this.bx;\n      m.minimumColor = _this.by;\n      m.scaler = _this.m;\n      m.values = _this.c;\n      m.blurRadius = _this.ap;\n\n      if (m.blurRadius <= 0) {\n        m.blurRadius = 1;\n      }\n\n      m.useBlurRadiusAdjustedForZoom = _this.u;\n      m.maxBlurRadius = _this.ar;\n\n      if (m.maxBlurRadius <= 0) {\n        m.maxBlurRadius = 1;\n      }\n\n      m.values = _this.i;\n      m.scaleColors = _this.scaleColors;\n      m.scaleColorOffsets = _this.g;\n      m.minimumVisibleLatitude = _this.m.i(l, _this.bz);\n      m.maximumVisibleLatitude = _this.m.g(l, _this.bz);\n      m.minimumVisibleLongitude = _this.m.j(l, _this.bz);\n      m.maximumVisibleLongitude = _this.m.h(l, _this.bz);\n      m.yValues = _this.e;\n      m.xValues = _this.d;\n\n      if (_this.c == null && _this.e != null) {\n        _this.c = new Array(_this.e.length);\n\n        for (var n = 0; n < _this.e.length; n++) {\n          _this.c[n] = 1;\n        }\n\n        m.values = _this.c;\n      }\n\n      if (!_this.o) {\n        _this.o = true;\n        m.isNewData = true;\n      }\n\n      m.image = j;\n      m.testRun = d;\n\n      _this.l.y(m, function (o, p) {\n        p.url = _this.a2(p.imageData);\n        p.imageData = _this.f(p.imageData);\n        g(_this, p);\n      }, h);\n    });\n  };\n\n  HeatTileGenerator.prototype.bn = function (a, b, c, d, e, f) {\n    var g = false;\n    g = this.au != a;\n\n    if (!g || d) {\n      f();\n      return;\n    }\n\n    var h = false;\n    var i = false;\n\n    if (a != this.au) {\n      if (this.z.containsKey(a.toString()) && !isNaN_(this.z.item(a.toString()).c) && !isNaN_(this.z.item(a.toString()).d)) {\n        this.au = a;\n        e(this, function () {\n          var $ret = new TileImageZoomChangingEventArgs();\n          $ret.z = a;\n          $ret.x = b;\n          $ret.y = c;\n          return $ret;\n        }());\n        h = true;\n      } else if (this.z.containsKey(a.toString())) {\n        if (a > 0 && this.w) {\n          var j = void 0;\n\n          if (this.aa.containsKey(a.toString())) {\n            j = this.aa.item(a.toString());\n          } else {\n            j = new List$1(Delegate_$type, 0);\n            this.aa.addItem(a.toString(), j);\n          }\n\n          j.add(f);\n        }\n      } else {\n        if (a > 0 && this.w) {\n          this.z.addItem(a.toString(), new Tuple$2(Number_$type, Number_$type, NaN, NaN));\n          i = true;\n        }\n      }\n    }\n\n    if (i) {\n      if (a > 0 && this.w) {\n        this.bt(a, f);\n      }\n    }\n\n    if (h) {\n      f();\n    }\n  };\n\n  HeatTileGenerator.prototype.a2 = function (a) {\n    if (a == null) {\n      return null;\n    }\n\n    var b = document.createElement(\"canvas\");\n    b.setAttribute(\"width\", \"256\");\n    b.setAttribute(\"height\", \"256\");\n    var c = b.getContext(\"2d\");\n    var d = c.getImageData(0, 0, 256, 256);\n    var e = d.data;\n    var f = e.length / 4;\n\n    for (var g = 0; g < f; g++) {\n      var h = a[g * 4];\n      var i = a[g * 4 + 1];\n      var j = a[g * 4 + 2];\n      var k = a[g * 4 + 3];\n      e[g * 4] = i;\n      e[g * 4 + 1] = j;\n      e[g * 4 + 2] = k;\n      e[g * 4 + 3] = h;\n    }\n\n    c.putImageData(d, 0, 0);\n    var ele_ = b;\n    return ele_.toDataURL();\n  };\n\n  HeatTileGenerator.prototype.f = function (a) {\n    if (a == null) {\n      return null;\n    }\n\n    return a;\n  };\n\n  HeatTileGenerator.prototype.bt = function (a, b) {\n    var _this = this;\n\n    var c = 0;\n    var d = 0;\n    var e = 0;\n    var f = 0;\n    var g = new Rect(0, 0, 0, 256 * Math.pow(2, a), 256 * Math.pow(2, a));\n    var h = new Rect(0, 0, 0, 1, 1);\n    var i = this.m.s(this.af, h, g);\n    var j = this.m.r(this.ae, h, g);\n    var k = this.m.s(this.ai, h, g);\n    var l = this.m.r(this.ah, h, g);\n    c = truncate(Math.floor(k / 256));\n    d = truncate(Math.floor(l / 256));\n    e = truncate(Math.floor(i / 256));\n    f = truncate(Math.floor(j / 256));\n    var m = 0;\n    var n = 0;\n    this.getTile1(a, c, d, function (o, p) {\n      var q = p;\n      m = q.globalMinimumValue;\n      n = q.globalMaximumValue;\n\n      if (e != c && f != d) {\n        _this.getTile1(a, e, f, function (r, s) {\n          var t = s;\n          n = t.globalMaximumValue;\n\n          _this.bu(a, n, m, b);\n        }, function (r, s) {}, function (r, s) {}, null, true);\n      } else {\n        _this.bu(a, n, m, b);\n      }\n    }, function (o, p) {}, function (o, p) {}, null, true);\n  };\n\n  HeatTileGenerator.prototype.bu = function (a, b, c, d) {\n    if (b < this.aj) {\n      b = this.aj;\n    }\n\n    if (isNaN_(c) || c > this.ak) {\n      c = this.ak;\n    }\n\n    var e = new List$1(Delegate_$type, 0);\n    this.z.item(a.toString(), new Tuple$2(Number_$type, Number_$type, b, c));\n\n    if (this.aa.containsKey(a.toString())) {\n      var f = this.aa.item(a.toString());\n\n      for (var g = 0; g < f.count; g++) {\n        e.add(f._inner[g]);\n      }\n    }\n\n    this.aa.removeItem(a.toString());\n    this.au = a;\n    d();\n\n    for (var h = 0; h < e.count; h++) {\n      e._inner[h]();\n    }\n  };\n\n  HeatTileGenerator.prototype.b0 = function (a, b, c) {\n    var d = truncate(Math.pow(2, a)) * 256;\n    var e = b * 256 / d;\n    var f = c * 256 / d;\n    var g = 256 / d;\n    var h = 256 / d;\n    return new Rect(0, e, f, g, h);\n  };\n\n  HeatTileGenerator.prototype.bq = function () {\n    var a = -1.7976931348623157E+308;\n    var b = 1.7976931348623157E+308;\n\n    if (this.c != null) {\n      for (var c = 0; c < this.c.length; c++) {\n        var d = this.c[c];\n        a = d > a ? d : a;\n        b = d < b ? d : b;\n      }\n    }\n\n    var e = this.ak = b * 0.01;\n    this.aj = a;\n    this.o = false;\n  };\n\n  HeatTileGenerator.$t = markType(HeatTileGenerator, 'HeatTileGenerator', Base.$, [ITileGenerator_$type]);\n  return HeatTileGenerator;\n}(Base);\n\nexport { HeatTileGenerator };","map":{"version":3,"names":["__extends","Base","String_$type","Number_$type","Delegate_$type","markType","ITileGenerator_$type","Color","HeatTileScaler","Rect","HeatTileGeneratorWorkerManager","Dictionary$2","Tuple$2","List$1","TileImageZoomChangingEventArgs","TileWorkSettings","truncate","isNaN_","HeatTileGenerator","_super","_this","call","m","bz","l","e","d","c","bw","bv","b","a","ac","am","NaN","p","q","r","ao","an","al","s","t","a0","ax","ad","ag","aw","au","ay","ak","aj","z","$","specialize","aa","ah","ai","ae","af","n","ab","o","Object","defineProperty","prototype","get","set","br","enumerable","configurable","bo","w","bs","bq","y","bi","az","getTile","f","g","getTile1","h","i","j","v","k","add","bm","l_1","m_1","n_1","o_1","p_1","q_1","globalMinimumValue","globalMaximumValue","globalMinimumValueLongitude","globalMinimumValueLatitude","globalMaximumValueLongitude","globalMaximumValueLatitude","u","x","count","_inner","clear","cancelTile","bn","containsKey","toString","item","b0","window","globalMinimum","globalMaximum","useGlobalMinMax","minimumValue","at","maximumValue","as","useLogarithmicScale","logarithmBase","aq","tileViewport","maximumColor","bx","minimumColor","by","scaler","values","blurRadius","ap","useBlurRadiusAdjustedForZoom","maxBlurRadius","ar","scaleColors","scaleColorOffsets","minimumVisibleLatitude","maximumVisibleLatitude","minimumVisibleLongitude","maximumVisibleLongitude","yValues","xValues","Array","length","isNewData","image","testRun","url","a2","imageData","$ret","addItem","bt","document","createElement","setAttribute","getContext","getImageData","data","putImageData","ele_","toDataURL","Math","pow","floor","bu","removeItem","$t"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-core/esm5/lib/HeatTileGenerator.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, String_$type, Number_$type, Delegate_$type, markType } from \"./type\";\nimport { ITileGenerator_$type } from \"./ITileGenerator\";\nimport { Color } from \"./Color\";\nimport { HeatTileScaler } from \"./HeatTileScaler\";\nimport { Rect } from \"./Rect\";\nimport { HeatTileGeneratorWorkerManager } from \"./HeatTileGeneratorWorkerManager\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { Tuple$2 } from \"./Tuple$2\";\nimport { List$1 } from \"./List$1\";\nimport { TileImageZoomChangingEventArgs } from \"./TileImageZoomChangingEventArgs\";\nimport { TileWorkSettings } from \"./TileWorkSettings\";\nimport { truncate, isNaN_ } from \"./number\";\n/**\n * @hidden\n */\nvar HeatTileGenerator = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(HeatTileGenerator, _super);\n    function HeatTileGenerator() {\n        var _this = _super.call(this) || this;\n        _this.m = new HeatTileScaler();\n        _this.bz = new Rect(0, 0, 0, 256, 256);\n        _this.l = new HeatTileGeneratorWorkerManager();\n        _this.e = null;\n        _this.d = null;\n        _this.c = null;\n        _this.bw = new Color();\n        _this.bv = new Color();\n        _this.b = null;\n        _this.a = null;\n        _this.ac = 0;\n        _this.am = NaN;\n        _this.p = false;\n        _this.q = false;\n        _this.r = false;\n        _this.ao = NaN;\n        _this.an = NaN;\n        _this.al = 10;\n        _this.s = false;\n        _this.t = true;\n        _this.a0 = null;\n        _this.ax = null;\n        _this.ad = NaN;\n        _this.ag = NaN;\n        _this.aw = {};\n        _this.au = -1;\n        _this.ay = {};\n        _this.ak = 0;\n        _this.aj = 0;\n        _this.z = new Dictionary$2(String_$type, Tuple$2.$.specialize(Number_$type, Number_$type), 0);\n        _this.aa = new Dictionary$2(String_$type, List$1.$.specialize(Delegate_$type), 0);\n        _this.ah = 0;\n        _this.ai = 0;\n        _this.ae = 0;\n        _this.af = 0;\n        _this.n = false;\n        _this.ab = new List$1(Delegate_$type, 0);\n        _this.o = false;\n        _this.m = new HeatTileScaler();\n        return _this;\n    }\n    Object.defineProperty(HeatTileGenerator.prototype, \"k\", {\n        get: function () {\n            return this.e;\n        },\n        set: function (a) {\n            var b = this.e;\n            this.e = a;\n            if (this.e != b) {\n                this.br(\"YValues\", b, this.e);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"j\", {\n        get: function () {\n            return this.d;\n        },\n        set: function (a) {\n            var b = this.d;\n            this.d = a;\n            if (this.d != b) {\n                this.br(\"XValues\", b, this.d);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"i\", {\n        get: function () {\n            return this.c;\n        },\n        set: function (a) {\n            var b = this.c;\n            this.c = a;\n            if (this.c != b) {\n                this.br(\"Values\", b, this.c);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"by\", {\n        get: function () {\n            return this.bw;\n        },\n        set: function (a) {\n            var b = this.bw;\n            this.bw = a;\n            if (Color.d(this.bw, b)) {\n                this.br(\"MinimumColor\", b, this.bw);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"bx\", {\n        get: function () {\n            return this.bv;\n        },\n        set: function (a) {\n            var b = this.bv;\n            this.bv = a;\n            if (Color.d(this.bv, b)) {\n                this.br(\"MaximumColor\", b, this.bv);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"scaleColors\", {\n        get: function () {\n            return this.b;\n        },\n        set: function (a) {\n            var b = this.b;\n            this.b = a;\n            if (this.b != b) {\n                this.br(\"ScaleColors\", b, this.b);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"g\", {\n        get: function () {\n            return this.a;\n        },\n        set: function (a) {\n            var b = this.a;\n            this.a = a;\n            if (this.a != b) {\n                this.br(\"ScaleColorOffsets\", b, this.a);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"ap\", {\n        get: function () {\n            return this.ac;\n        },\n        set: function (a) {\n            var b = this.ac;\n            this.ac = a;\n            if (this.ac != b) {\n                this.br(\"BlurRadius\", b, this.ac);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"ar\", {\n        get: function () {\n            return this.am;\n        },\n        set: function (a) {\n            var b = this.am;\n            this.am = a;\n            if (this.am != b) {\n                this.br(\"MaxBlurRadius\", b, this.am);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"u\", {\n        get: function () {\n            return this.p;\n        },\n        set: function (a) {\n            var b = this.p;\n            this.p = a;\n            if (this.p != b) {\n                this.br(\"UseBlurRadiusAdjustedForZoom\", b, this.p);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"v\", {\n        get: function () {\n            return this.q;\n        },\n        set: function (a) {\n            var b = this.q;\n            this.q = a;\n            if (this.q != b) {\n                this.br(\"UseGlobalMinMax\", b, this.q);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"w\", {\n        get: function () {\n            return this.r;\n        },\n        set: function (a) {\n            var b = this.r;\n            this.r = a;\n            if (this.r != b) {\n                this.br(\"UseGlobalMinMaxAdjustedForZoom\", b, this.r);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"at\", {\n        get: function () {\n            return this.ao;\n        },\n        set: function (a) {\n            var b = this.ao;\n            this.ao = a;\n            if (this.ao != b) {\n                this.br(\"MinimumValue\", b, this.ao);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"as\", {\n        get: function () {\n            return this.an;\n        },\n        set: function (a) {\n            var b = this.an;\n            this.an = a;\n            if (this.an != b) {\n                this.br(\"MaximumValue\", b, this.an);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"aq\", {\n        get: function () {\n            return this.al;\n        },\n        set: function (a) {\n            var b = this.al;\n            this.al = a;\n            if (this.al != b) {\n                this.br(\"LogarithmBase\", b, this.al);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"x\", {\n        get: function () {\n            return this.s;\n        },\n        set: function (a) {\n            var b = this.s;\n            this.s = a;\n            if (this.s != b) {\n                this.br(\"UseLogarithmicScale\", b, this.s);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"y\", {\n        get: function () {\n            return this.t;\n        },\n        set: function (a) {\n            var b = this.t;\n            this.t = a;\n            if (this.t != b) {\n                this.br(\"UseWebWorkers\", b, this.t);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"bi\", {\n        get: function () {\n            return this.a0;\n        },\n        set: function (a) {\n            var b = this.a0;\n            this.a0 = a;\n            if (this.a0 != b) {\n                this.br(\"WebWorkerScriptPath\", b, this.a0);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HeatTileGenerator.prototype, \"az\", {\n        get: function () {\n            return this.ax;\n        },\n        set: function (a) {\n            var b = this.ax;\n            this.ax = a;\n            if (this.ax != b) {\n                this.br(\"WebWorkerInstance\", b, this.ax);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HeatTileGenerator.prototype.bo = function () {\n        this.e = null;\n        this.d = null;\n        this.c = null;\n        this.l.w();\n    };\n    HeatTileGenerator.prototype.br = function (a, b, c) {\n        this.bs(a, b, c);\n    };\n    HeatTileGenerator.prototype.bs = function (a, b, c) {\n        switch (a) {\n            case \"XValues\":\n            case \"YValues\":\n            case \"Values\":\n                this.bq();\n                break;\n            case \"UseWebWorkers\":\n                this.l.e = this.y;\n                break;\n            case \"WebWorkerScriptPath\":\n                this.l.p = this.bi;\n                break;\n            case \"WebWorkerInstance\":\n                this.l.n = this.az;\n                break;\n        }\n    };\n    HeatTileGenerator.prototype.getTile = function (a, b, c, d, e, f, g) {\n        this.getTile1(a, b, c, d, e, f, g, false);\n    };\n    HeatTileGenerator.prototype.getTile1 = function (a, b, c, d, e, f, g, h) {\n        var _this = this;\n        var i = NaN;\n        var j = NaN;\n        if (!h && this.v && (isNaN_(this.ag) || isNaN_(this.ad))) {\n            var k = false;\n            if ((isNaN_(this.ag) || isNaN_(this.ad)) && !this.n) {\n                k = true;\n                this.n = true;\n            }\n            else {\n                this.ab.add(function () { return _this.bm(a, b, c, h, j, i, d, e, f, g); });\n                return;\n            }\n            if (k) {\n                var l_1 = 1.7976931348623157E+308;\n                var m_1 = -1.7976931348623157E+308;\n                var n_1 = 0;\n                var o_1 = 0;\n                var p_1 = 0;\n                var q_1 = 0;\n                this.getTile1(0, 0, 0, function (r, s) {\n                    var t = s;\n                    l_1 = t.globalMinimumValue;\n                    m_1 = t.globalMaximumValue;\n                    n_1 = t.globalMinimumValueLongitude;\n                    o_1 = t.globalMinimumValueLatitude;\n                    p_1 = t.globalMaximumValueLongitude;\n                    q_1 = t.globalMaximumValueLatitude;\n                    var u = new Rect(0, 0, 0, 1, 1);\n                    var v = _this.bz;\n                    i = l_1;\n                    j = m_1;\n                    var w = new List$1(Delegate_$type, 0);\n                    _this.ag = i;\n                    _this.ad = j;\n                    _this.ah = o_1;\n                    _this.ai = n_1;\n                    _this.ae = q_1;\n                    _this.af = p_1;\n                    for (var x = 0; x < _this.ab.count; x++) {\n                        w.add(_this.ab._inner[x]);\n                    }\n                    _this.ab.clear();\n                    _this.bm(a, b, c, h, j, i, d, e, f, g);\n                    for (var y = 0; y < w.count; y++) {\n                        w._inner[y]();\n                    }\n                }, function (r, s) {\n                }, function (r, s) {\n                }, g, true);\n                return;\n            }\n            else {\n                i = this.ag;\n                j = this.ad;\n            }\n        }\n        else {\n            i = this.ag;\n            j = this.ad;\n        }\n        this.bm(a, b, c, h, j, i, d, e, f, g);\n    };\n    HeatTileGenerator.prototype.cancelTile = function (a, b, c) {\n        this.l.s(a, b, c);\n    };\n    HeatTileGenerator.prototype.bm = function (a, b, c, d, e, f, g, h, i, j) {\n        var _this = this;\n        this.bn(a, b, c, d, i, function () {\n            if (_this.w && !d) {\n                if (a > 0 && _this.z.containsKey(a.toString())) {\n                    var k = _this.z.item(a.toString());\n                    e = k.c;\n                    f = k.d;\n                }\n            }\n            var l = _this.b0(a, b, c);\n            var m = new TileWorkSettings();\n            m.window = l;\n            m.z = a;\n            m.x = b;\n            m.y = c;\n            m.globalMinimum = f;\n            m.globalMaximum = e;\n            m.useGlobalMinMax = _this.v;\n            m.minimumValue = _this.at;\n            m.maximumValue = _this.as;\n            m.useLogarithmicScale = _this.x;\n            m.logarithmBase = _this.aq;\n            if (m.logarithmBase <= 0) {\n                m.logarithmBase = 10;\n            }\n            m.tileViewport = _this.bz;\n            m.maximumColor = _this.bx;\n            m.minimumColor = _this.by;\n            m.scaler = _this.m;\n            m.values = _this.c;\n            m.blurRadius = _this.ap;\n            if (m.blurRadius <= 0) {\n                m.blurRadius = 1;\n            }\n            m.useBlurRadiusAdjustedForZoom = _this.u;\n            m.maxBlurRadius = _this.ar;\n            if (m.maxBlurRadius <= 0) {\n                m.maxBlurRadius = 1;\n            }\n            m.values = _this.i;\n            m.scaleColors = _this.scaleColors;\n            m.scaleColorOffsets = _this.g;\n            m.minimumVisibleLatitude = _this.m.i(l, _this.bz);\n            m.maximumVisibleLatitude = _this.m.g(l, _this.bz);\n            m.minimumVisibleLongitude = _this.m.j(l, _this.bz);\n            m.maximumVisibleLongitude = _this.m.h(l, _this.bz);\n            m.yValues = _this.e;\n            m.xValues = _this.d;\n            if (_this.c == null && _this.e != null) {\n                _this.c = new Array(_this.e.length);\n                for (var n = 0; n < _this.e.length; n++) {\n                    _this.c[n] = 1;\n                }\n                m.values = _this.c;\n            }\n            if (!_this.o) {\n                _this.o = true;\n                m.isNewData = true;\n            }\n            m.image = j;\n            m.testRun = d;\n            _this.l.y(m, function (o, p) {\n                p.url = _this.a2(p.imageData);\n                p.imageData = _this.f(p.imageData);\n                g(_this, p);\n            }, h);\n        });\n    };\n    HeatTileGenerator.prototype.bn = function (a, b, c, d, e, f) {\n        var g = false;\n        g = this.au != a;\n        if (!g || d) {\n            f();\n            return;\n        }\n        var h = false;\n        var i = false;\n        if (a != this.au) {\n            if (this.z.containsKey(a.toString()) && !isNaN_(this.z.item(a.toString()).c) && !isNaN_(this.z.item(a.toString()).d)) {\n                this.au = a;\n                e(this, ((function () {\n                    var $ret = new TileImageZoomChangingEventArgs();\n                    $ret.z = a;\n                    $ret.x = b;\n                    $ret.y = c;\n                    return $ret;\n                })()));\n                h = true;\n            }\n            else if (this.z.containsKey(a.toString())) {\n                if (a > 0 && this.w) {\n                    var j = void 0;\n                    if (this.aa.containsKey(a.toString())) {\n                        j = this.aa.item(a.toString());\n                    }\n                    else {\n                        j = new List$1(Delegate_$type, 0);\n                        this.aa.addItem(a.toString(), j);\n                    }\n                    j.add(f);\n                }\n            }\n            else {\n                if (a > 0 && this.w) {\n                    this.z.addItem(a.toString(), new Tuple$2(Number_$type, Number_$type, NaN, NaN));\n                    i = true;\n                }\n            }\n        }\n        if (i) {\n            if (a > 0 && this.w) {\n                this.bt(a, f);\n            }\n        }\n        if (h) {\n            f();\n        }\n    };\n    HeatTileGenerator.prototype.a2 = function (a) {\n        if (a == null) {\n            return null;\n        }\n        var b = document.createElement(\"canvas\");\n        b.setAttribute(\"width\", \"256\");\n        b.setAttribute(\"height\", \"256\");\n        var c = b.getContext(\"2d\");\n        var d = c.getImageData(0, 0, 256, 256);\n        var e = d.data;\n        var f = e.length / 4;\n        for (var g = 0; g < f; g++) {\n            var h = a[g * 4];\n            var i = a[g * 4 + 1];\n            var j = a[g * 4 + 2];\n            var k = a[g * 4 + 3];\n            e[g * 4] = i;\n            e[g * 4 + 1] = j;\n            e[g * 4 + 2] = k;\n            e[g * 4 + 3] = h;\n        }\n        c.putImageData(d, 0, 0);\n        var ele_ = b;\n        return (ele_.toDataURL());\n    };\n    HeatTileGenerator.prototype.f = function (a) {\n        if (a == null) {\n            return null;\n        }\n        return a;\n    };\n    HeatTileGenerator.prototype.bt = function (a, b) {\n        var _this = this;\n        var c = 0;\n        var d = 0;\n        var e = 0;\n        var f = 0;\n        var g = new Rect(0, 0, 0, 256 * Math.pow(2, a), 256 * Math.pow(2, a));\n        var h = new Rect(0, 0, 0, 1, 1);\n        var i = this.m.s(this.af, h, g);\n        var j = this.m.r(this.ae, h, g);\n        var k = this.m.s(this.ai, h, g);\n        var l = this.m.r(this.ah, h, g);\n        c = truncate(Math.floor(k / 256));\n        d = truncate(Math.floor(l / 256));\n        e = truncate(Math.floor(i / 256));\n        f = truncate(Math.floor(j / 256));\n        var m = 0;\n        var n = 0;\n        this.getTile1(a, c, d, function (o, p) {\n            var q = p;\n            m = q.globalMinimumValue;\n            n = q.globalMaximumValue;\n            if (e != c && f != d) {\n                _this.getTile1(a, e, f, function (r, s) {\n                    var t = s;\n                    n = t.globalMaximumValue;\n                    _this.bu(a, n, m, b);\n                }, function (r, s) {\n                }, function (r, s) {\n                }, null, true);\n            }\n            else {\n                _this.bu(a, n, m, b);\n            }\n        }, function (o, p) {\n        }, function (o, p) {\n        }, null, true);\n    };\n    HeatTileGenerator.prototype.bu = function (a, b, c, d) {\n        if (b < this.aj) {\n            b = this.aj;\n        }\n        if (isNaN_(c) || c > this.ak) {\n            c = this.ak;\n        }\n        var e = new List$1(Delegate_$type, 0);\n        this.z.item(a.toString(), new Tuple$2(Number_$type, Number_$type, b, c));\n        if (this.aa.containsKey(a.toString())) {\n            var f = this.aa.item(a.toString());\n            for (var g = 0; g < f.count; g++) {\n                e.add(f._inner[g]);\n            }\n        }\n        this.aa.removeItem(a.toString());\n        this.au = a;\n        d();\n        for (var h = 0; h < e.count; h++) {\n            e._inner[h]();\n        }\n    };\n    HeatTileGenerator.prototype.b0 = function (a, b, c) {\n        var d = truncate(Math.pow(2, a)) * 256;\n        var e = (b * 256) / d;\n        var f = (c * 256) / d;\n        var g = 256 / d;\n        var h = 256 / d;\n        return new Rect(0, e, f, g, h);\n    };\n    HeatTileGenerator.prototype.bq = function () {\n        var a = -1.7976931348623157E+308;\n        var b = 1.7976931348623157E+308;\n        if (this.c != null) {\n            for (var c = 0; c < this.c.length; c++) {\n                var d = this.c[c];\n                a = d > a ? d : a;\n                b = d < b ? d : b;\n            }\n        }\n        var e = this.ak = b * 0.01;\n        this.aj = a;\n        this.o = false;\n    };\n    HeatTileGenerator.$t = markType(HeatTileGenerator, 'HeatTileGenerator', Base.$, [ITileGenerator_$type]);\n    return HeatTileGenerator;\n}(Base));\nexport { HeatTileGenerator };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}