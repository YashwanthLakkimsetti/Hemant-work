{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { ItemTooltipLayerFrame } from \"./ItemTooltipLayerFrame\";\nimport { Base, String_$type, fromEnum, Point_$type, markType, markDep, runOn, typeCast } from \"igniteui-react-core\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { ItemTooltipCollisionInfo } from \"./ItemTooltipCollisionInfo\";\nimport { Rect } from \"igniteui-react-core\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { Size } from \"igniteui-react-core\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { PointerTooltip } from \"./PointerTooltip\";\nimport { DomWrapper_$type } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar ItemToolTipLayer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(ItemToolTipLayer, _super);\n\n  function ItemToolTipLayer() {\n    var _this = _super.call(this) || this;\n\n    var a = new ItemTooltipLayerFrame();\n    var b = new ItemTooltipLayerFrame();\n    var c = new ItemTooltipLayerFrame();\n    var d = _this.hm / 1000;\n    _this.p5 = a;\n    _this.p4 = b;\n    _this.p6 = c;\n    _this.ab = ItemToolTipLayer.$;\n    return _this;\n  }\n\n  ItemToolTipLayer.prototype.get_db = function () {\n    return true;\n  };\n\n  ItemToolTipLayer.prototype.bx = function () {\n    return new ItemToolTipLayerView(this);\n  };\n\n  ItemToolTipLayer.prototype.ly = function (a) {\n    _super.prototype.ly.call(this, a);\n\n    this.q7 = a;\n  };\n\n  ItemToolTipLayer.prototype.get_dk = function () {\n    return true;\n  };\n\n  ItemToolTipLayer.prototype.l3 = function (a, b, c, d) {\n    _super.prototype.l3.call(this, a, b, c, d);\n\n    switch (b) {\n      case ItemToolTipLayer.$$p[1]:\n      case ItemToolTipLayer.$$p[2]:\n        this.mh(true);\n        break;\n\n      case ItemToolTipLayer.$$p[3]:\n        this.mh(true);\n        break;\n\n      case ItemToolTipLayer.$$p[0]:\n        this.mh(true);\n        break;\n    }\n  };\n\n  ItemToolTipLayer.prototype.qo = function (a, b) {\n    if (this.q8 == null || this.q8 == a) {\n      if (!this.as.c) {\n        this.mh(b);\n      }\n    }\n  };\n\n  ItemToolTipLayer.prototype.qb = function (a) {\n    if (!_super.prototype.qb.call(this, a)) {\n      return false;\n    }\n\n    if (this.re != null) {\n      if (a.du) {\n        var b = a.jp();\n\n        if (!Base.equalsStatic(this.re, b)) {\n          return false;\n        }\n      } else {\n        if (!Base.equalsStatic(this.re, a.name)) {\n          return false;\n        }\n      }\n    }\n\n    var c = this.qj(a);\n\n    if (!c.c) {\n      return false;\n    }\n\n    return true;\n  };\n\n  ItemToolTipLayer.prototype.qq = function (a, b) {\n    var e_1, _a;\n\n    var _this = this;\n\n    _super.prototype.qq.call(this, a, b);\n\n    var c = a;\n    var d = this.q7.b5;\n    var e = this.rb;\n    var f = this.ra;\n    c.o.clear();\n    c.i.clear();\n    c.n.clear();\n    c.g.clear();\n    c.f.clear();\n    c.l.clear();\n    c.j.clear();\n    c.m.clear();\n    c.k.clear();\n    c.h.clear();\n\n    if (isNaN_(this.q4.x) && isNaN_(this.q4.y)) {\n      d.count = 0;\n      return;\n    }\n\n    var g = 0;\n\n    if (this.qb(this.q8)) {\n      this.rj(this.q8, c, e, f, 0);\n      g++;\n    } else {\n      try {\n        for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var h = _c.value;\n\n          if (this.qb(h)) {\n            this.rj(h, c, e, f, g);\n            g++;\n          }\n\n          if (h.isStacked) {\n            h.la(function (i) {\n              if (_this.qb(i)) {\n                _this.rj(i, c, e, f, g);\n\n                g++;\n              }\n\n              return true;\n            });\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      this.ri(c);\n    }\n\n    d.count = g;\n  };\n\n  ItemToolTipLayer.prototype.ri = function (a) {\n    var b = new List$1(ItemTooltipCollisionInfo.$, 0);\n\n    for (var c = 0; c < a.f.count; c++) {\n      var d = new ItemTooltipCollisionInfo();\n      d.d = c;\n      d.e = {\n        $type: Point_$type,\n        x: a.f._inner[c],\n        y: a.g._inner[c]\n      };\n      d.c = a.m._inner[c];\n      d.a = a.k._inner[c];\n      d.b = a.o._inner[c];\n\n      if (isNaN_(d.e.x) || isNaN_(d.e.y)) {\n        continue;\n      }\n\n      b.add(d);\n    }\n\n    b.aa(function (e, f) {\n      if (e.e.y < f.e.y) {\n        return -1;\n      }\n\n      if (e.e.y > f.e.y) {\n        return 1;\n      }\n\n      if (e.b < f.b) {\n        return -1;\n      }\n\n      if (e.b > f.b) {\n        return 1;\n      }\n\n      return 0;\n    });\n    var e = this.q9(b);\n\n    if (!e) {\n      return;\n    }\n\n    for (var f = 0; f < b.count - 1; f++) {\n      var g = b._inner[f];\n      var h = b._inner[f + 1];\n      var i = new Rect(0, g.e.x, g.e.y, g.c, g.a);\n      var j = new Rect(0, h.e.x, h.e.y, h.c, h.a);\n\n      if (i.intersectsWith(j) || i.top > j.bottom) {\n        h.e = {\n          $type: Point_$type,\n          x: h.e.x,\n          y: i.bottom + 1\n        };\n      }\n    }\n\n    if (b._inner[b.count - 1].e.y + b._inner[b.count - 1].a > this.b0.bu.height) {\n      b._inner[b.count - 1].e = {\n        $type: Point_$type,\n        x: b._inner[b.count - 1].e.x,\n        y: b._inner[b.count - 1].e.y - (b._inner[b.count - 1].e.y + b._inner[b.count - 1].a - this.b0.bu.height)\n      };\n    }\n\n    for (var k = b.count - 1; k >= 1; k--) {\n      var l = b._inner[k];\n      var m = b._inner[k - 1];\n      var n = new Rect(0, l.e.x, l.e.y, l.c, l.a);\n      var o = new Rect(0, m.e.x, m.e.y, m.c, m.a);\n\n      if (n.intersectsWith(o) || n.top < o.bottom) {\n        m.e = {\n          $type: Point_$type,\n          x: m.e.x,\n          y: n.top - (o.height + 1)\n        };\n      }\n    }\n\n    for (var p = 0; p < b.count; p++) {\n      var q = b._inner[p].d;\n      var r = b._inner[p];\n      a.f._inner[q] = r.e.x;\n      a.g._inner[q] = r.e.y;\n    }\n  };\n\n  ItemToolTipLayer.prototype.q9 = function (a) {\n    if (a.count <= 1) {\n      return false;\n    }\n\n    var b = this.b0.bu;\n\n    for (var c = 0; c < a.count - 1; c++) {\n      var d = a._inner[c];\n      var e = a._inner[c + 1];\n      var f = new Rect(0, d.e.x, d.e.y, d.c, d.a);\n      var g = new Rect(0, e.e.x, e.e.y, e.c, e.a);\n\n      if (f.intersectsWith(g)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  ItemToolTipLayer.prototype.rj = function (a, b, c, d, e) {\n    var f = this.qj(a);\n\n    if (!f.c) {\n      return;\n    }\n\n    var g = a.pl(f.d, c, d);\n    var h = this.q7.b5;\n    var i = this.rc(a);\n    var j = this.q4;\n\n    if (!c) {\n      j = this.po(g);\n    }\n\n    var k = a.ht(j);\n    var l = h.item(e);\n    var m = this.b0.bu;\n    var n = null;\n\n    if (a.dl && k != null) {\n      n = a.au(k);\n    } else {\n      n = new DataContext();\n      n.item = k;\n      n.series = a;\n    }\n\n    if (!this.q7.b6(a, l, i, n)) {\n      return;\n    }\n\n    var o = this.q7.cg(l, i, n);\n    b.i.add1(l);\n    b.j.add1(n);\n    b.l.add1(i);\n    var p = g.x;\n    var q = g.x;\n    q = Math.max(q, m.left);\n    q = Math.min(q, m.right);\n    b.n.add(q);\n    var r = g.y;\n    r = Math.max(r, m.top);\n    r = Math.min(r, m.bottom);\n    b.o.add(r);\n    var s = DeviceUtils.g(10);\n    var t = g.x + s;\n\n    if (t + o.width > m.right) {\n      t = p - o.width - s;\n    }\n\n    if (t < m.left) {\n      t = m.left;\n    }\n\n    b.f.add(t);\n    var u = g.y - o.height - s;\n\n    if (u + o.height > m.bottom) {\n      u = m.bottom - o.height - s;\n    }\n\n    if (u < m.top) {\n      u = m.top;\n    }\n\n    b.g.add(u);\n    b.m.add(o.width);\n    b.k.add(o.height);\n    var v = this.oy;\n\n    if (v == null) {\n      v = this.o2;\n    }\n\n    if (v == null) {\n      v = a.oy;\n    }\n\n    b.h.add(v);\n  };\n\n  ItemToolTipLayer.prototype.rc = function (a) {\n    return a.toolTip;\n  };\n\n  ItemToolTipLayer.prototype.ld = function () {\n    this.q4 = {\n      $type: Point_$type,\n      x: NaN,\n      y: NaN\n    };\n    this.q7.ce();\n  };\n\n  ItemToolTipLayer.prototype.qt = function (a, b) {\n    _super.prototype.qt.call(this, a, b);\n\n    var c = a;\n    var d = c.o.count;\n    var e = b.bu.left;\n    var f = b.bu.right;\n    var g = b.bu.top;\n    var h = b.bu.bottom;\n\n    for (var i = 0; i < d; i++) {\n      if (isNaN_(c.n._inner[i]) || isNaN_(c.o._inner[i]) || isNaN_(c.f._inner[i]) || isNaN_(c.g._inner[i]) || c.l._inner[i] == null || c.j._inner[i] == null) {\n        this.q7.cd(c.i._inner[i]);\n        continue;\n      }\n\n      var j = c.f._inner[i];\n      var k = c.g._inner[i];\n      var l = c.m._inner[i];\n      var m = c.k._inner[i];\n      var n = false;\n\n      if (j < e && Math.abs(j - e) > 1) {\n        n = true;\n      }\n\n      if (k < g && Math.abs(k - g) > 1) {\n        n = true;\n      }\n\n      if (j + l > f && Math.abs(j + l - f) > 1) {\n        n = true;\n      }\n\n      if (k + m > h && Math.abs(k + m - h) > 1) {\n        n = true;\n      }\n\n      if (n) {\n        this.q7.cd(c.i._inner[i]);\n        continue;\n      }\n\n      var o = c.i._inner[i];\n      var p = Math.min(c.f._inner[i], c.n._inner[i]);\n      var q = Math.min(c.g._inner[i], c.o._inner[i]);\n      var r = c.n._inner[i] - c.f._inner[i];\n      var s = c.o._inner[i] - c.g._inner[i];\n      this.q7.cf(o, p, q, r, s);\n    }\n  };\n\n  ItemToolTipLayer.prototype.em = function () {\n    return true;\n  };\n\n  ItemToolTipLayer.$t = markType(ItemToolTipLayer, 'ItemToolTipLayer', AnnotationLayer.$);\n  ItemToolTipLayer.$$p = markDep(DependencyProperty, PropertyMetadata, ItemToolTipLayer, 'raisePropertyChanged', ['SkipUnknownValues:ra:rk', [0, true], 'TargetSeriesName:re:rl', [2, null], 'TargetSeries:q8:rm', [Series.$, null], 'UseInterpolation:rb:rn', [0, false]]);\n  return ItemToolTipLayer;\n}(AnnotationLayer);\n\nexport { ItemToolTipLayer };\n/**\n * @hidden\n */\n\nvar ItemToolTipLayerView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(ItemToolTipLayerView, _super);\n\n  function ItemToolTipLayerView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b4 = null;\n    _this.b5 = null;\n    _this.b7 = null;\n    _this._htmlTest = null;\n    _this.b4 = a;\n    _this.b7 = new List$1(PointerTooltip.$, 0);\n    return _this;\n  }\n\n  ItemToolTipLayerView.prototype.as = function () {\n    var _this = this;\n\n    _super.prototype.as.call(this);\n\n    this.b5 = function () {\n      var $ret = new Pool$1(Base.$);\n      $ret.create = runOn(_this, _this.b8);\n      $ret.activate = runOn(_this, _this.ca);\n      $ret.disactivate = runOn(_this, _this.cc);\n      $ret.destroy = runOn(_this, _this.cb);\n      return $ret;\n    }();\n\n    this.htmlTest = /^[^<]*(<[\\w\\W]+>)[^>]*$/;\n  };\n\n  ItemToolTipLayerView.prototype.aj = function () {\n    _super.prototype.aj.call(this);\n\n    for (var a = 0; a < this.b5.a.count; a++) {\n      this.b5.a._inner[a].br();\n    }\n\n    for (var b = 0; b < this.b5.b.count; b++) {\n      this.b5.b._inner[b].br();\n    }\n\n    this.b5.clear();\n  };\n\n  ItemToolTipLayerView.prototype.b8 = function () {\n    var a = new PointerTooltip();\n    a.bv(this.e.g9);\n    a._visibility = 1;\n    a.ap = this.e.cd.cq.k;\n    this.b7.add(a);\n    return a;\n  };\n\n  ItemToolTipLayerView.prototype.ca = function (a) {\n    var b = a;\n  };\n\n  ItemToolTipLayerView.prototype.cc = function (a) {\n    var b = a;\n    b._visibility = 1;\n  };\n\n  ItemToolTipLayerView.prototype.cb = function (a) {\n    var b = a;\n    b.by();\n    b.content = null;\n    this.b7.remove1(a);\n  };\n\n  Object.defineProperty(ItemToolTipLayerView.prototype, \"htmlTest\", {\n    get: function get() {\n      return this._htmlTest;\n    },\n    set: function set(a) {\n      this._htmlTest = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ItemToolTipLayerView.prototype.b6 = function (a, b, c, d) {\n    var e = b;\n\n    if (a.h2 == \"default\") {\n      a.h2 = a.b0.getDefaultTooltipTemplate();\n    }\n\n    var template_ = a.h2;\n    var context_ = d;\n\n    if (a.toolTip == null) {\n      return false;\n    }\n\n    var tooltip_ = a.toolTip;\n\n    if (tooltip_.updateToolTip) {\n      tooltip_._inPointer = true;\n      tooltip_.updateToolTip(context_, true);\n      tooltip_.setStyleProperty('position', 'relative');\n      tooltip_.setStyleProperty('left', '');\n      tooltip_.setStyleProperty('top', '');\n    }\n\n    e.content = a.toolTip;\n    return true;\n  };\n\n  ItemToolTipLayerView.prototype.cg = function (a, b, c) {\n    var d = a;\n    var e = d.content;\n    var f = new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);\n    d.cx = 1;\n    var g = d.cw(new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY));\n    d.cx = 0;\n    return g;\n  };\n\n  ItemToolTipLayerView.prototype.cf = function (a, b, c, d, e) {\n    var f = null;\n\n    if (this.e.cd != null) {\n      f = this.e.cd.cq.j.i();\n    }\n\n    var g = a;\n    g.aq = f;\n    var h = g.content;\n    g.cr = {\n      $type: Point_$type,\n      x: d,\n      y: e\n    };\n    g._visibility = 0;\n    g.n = b;\n    g.o = c;\n  };\n\n  ItemToolTipLayerView.prototype.cd = function (a) {\n    if (a != null) {\n      var b = a;\n      b._visibility = 1;\n    }\n  };\n\n  ItemToolTipLayerView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    if (b) {\n      return;\n    }\n\n    var c = 0;\n    var d = 0;\n    var e = this.e.cd;\n\n    if (e != null) {\n      var f = e.cq.j.b7();\n      c += f.x;\n      d += f.y;\n    }\n\n    for (var g = 0; g < this.b7.count; g++) {\n      this.b7._inner[g].bx(this.b7._inner[g].n + c, this.b7._inner[g].o + d);\n    }\n  };\n\n  ItemToolTipLayerView.prototype.al = function (a) {\n    var e_2, _a;\n\n    _super.prototype.al.call(this, a);\n\n    try {\n      for (var _b = __values(fromEnum(this.b5.a)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var tooltip_ = _c.value;\n\n        if (tooltip_._visibility != 0) {\n          continue;\n        }\n\n        var b = tooltip_;\n        var c = b.a5();\n        var d = b.n;\n        var e = b.o;\n        var f = new List$1(String_$type, 0);\n        var g = typeCast(DomWrapper_$type, b.content);\n\n        if (g != null) {\n          var h = g.getText();\n          f.add(h);\n        }\n\n        this.e.a8.addPointerTooltipData(a, c, d, e, f);\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n\n  ItemToolTipLayerView.prototype.ce = function () {\n    for (var a = 0; a < this.b7.count; a++) {\n      this.cd(this.b7._inner[a]);\n    }\n  };\n\n  ItemToolTipLayerView.$t = markType(ItemToolTipLayerView, 'ItemToolTipLayerView', AnnotationLayerView.$);\n  return ItemToolTipLayerView;\n}(AnnotationLayerView);\n\nexport { ItemToolTipLayerView };","map":{"version":3,"names":["__extends","__values","AnnotationLayer","DependencyProperty","Series","ItemTooltipLayerFrame","Base","String_$type","fromEnum","Point_$type","markType","markDep","runOn","typeCast","Pool$1","List$1","ItemTooltipCollisionInfo","Rect","DataContext","Size","DeviceUtils","PropertyMetadata","isNaN_","AnnotationLayerView","PointerTooltip","DomWrapper_$type","ItemToolTipLayer","_super","_this","call","a","b","c","d","hm","p5","p4","p6","ab","$","prototype","get_db","bx","ItemToolTipLayerView","ly","q7","get_dk","l3","$$p","mh","qo","q8","as","qb","re","du","jp","equalsStatic","name","qj","qq","e_1","_a","b5","e","rb","f","ra","o","clear","i","n","g","l","j","m","k","h","q4","x","y","count","rj","_b","cd","series","_c","next","done","value","isStacked","la","e_1_1","error","return","ri","$type","_inner","add","aa","q9","intersectsWith","top","bottom","b0","bu","height","p","q","r","pl","rc","po","ht","item","dl","au","b6","cg","add1","Math","max","left","min","right","s","t","width","u","v","oy","o2","toolTip","ld","NaN","ce","qt","abs","cf","em","$t","b4","b7","_htmlTest","$ret","create","b8","activate","ca","disactivate","cc","destroy","cb","htmlTest","aj","br","bv","g9","_visibility","ap","cq","by","content","remove1","Object","defineProperty","get","set","enumerable","configurable","h2","getDefaultTooltipTemplate","template_","context_","tooltip_","updateToolTip","_inPointer","setStyleProperty","Number","POSITIVE_INFINITY","cx","cw","aq","cr","a6","al","e_2","a5","getText","a8","addPointerTooltipData","e_2_1"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-charts/esm5/lib/ItemToolTipLayer_combined.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { ItemTooltipLayerFrame } from \"./ItemTooltipLayerFrame\";\nimport { Base, String_$type, fromEnum, Point_$type, markType, markDep, runOn, typeCast } from \"igniteui-react-core\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { ItemTooltipCollisionInfo } from \"./ItemTooltipCollisionInfo\";\nimport { Rect } from \"igniteui-react-core\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { Size } from \"igniteui-react-core\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { PointerTooltip } from \"./PointerTooltip\";\nimport { DomWrapper_$type } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar ItemToolTipLayer = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(ItemToolTipLayer, _super);\n    function ItemToolTipLayer() {\n        var _this = _super.call(this) || this;\n        var a = new ItemTooltipLayerFrame();\n        var b = new ItemTooltipLayerFrame();\n        var c = new ItemTooltipLayerFrame();\n        var d = _this.hm / 1000;\n        _this.p5 = a;\n        _this.p4 = b;\n        _this.p6 = c;\n        _this.ab = ItemToolTipLayer.$;\n        return _this;\n    }\n    ItemToolTipLayer.prototype.get_db = function () {\n        return true;\n    };\n    ItemToolTipLayer.prototype.bx = function () {\n        return new ItemToolTipLayerView(this);\n    };\n    ItemToolTipLayer.prototype.ly = function (a) {\n        _super.prototype.ly.call(this, a);\n        this.q7 = a;\n    };\n    ItemToolTipLayer.prototype.get_dk = function () {\n        return true;\n    };\n    ItemToolTipLayer.prototype.l3 = function (a, b, c, d) {\n        _super.prototype.l3.call(this, a, b, c, d);\n        switch (b) {\n            case ItemToolTipLayer.$$p[1]:\n            case ItemToolTipLayer.$$p[2]:\n                this.mh(true);\n                break;\n            case ItemToolTipLayer.$$p[3]:\n                this.mh(true);\n                break;\n            case ItemToolTipLayer.$$p[0]:\n                this.mh(true);\n                break;\n        }\n    };\n    ItemToolTipLayer.prototype.qo = function (a, b) {\n        if (this.q8 == null || this.q8 == a) {\n            if (!this.as.c) {\n                this.mh(b);\n            }\n        }\n    };\n    ItemToolTipLayer.prototype.qb = function (a) {\n        if (!_super.prototype.qb.call(this, a)) {\n            return false;\n        }\n        if (this.re != null) {\n            if (a.du) {\n                var b = a.jp();\n                if (!Base.equalsStatic(this.re, b)) {\n                    return false;\n                }\n            }\n            else {\n                if (!Base.equalsStatic(this.re, a.name)) {\n                    return false;\n                }\n            }\n        }\n        var c = this.qj(a);\n        if (!c.c) {\n            return false;\n        }\n        return true;\n    };\n    ItemToolTipLayer.prototype.qq = function (a, b) {\n        var e_1, _a;\n        var _this = this;\n        _super.prototype.qq.call(this, a, b);\n        var c = a;\n        var d = this.q7.b5;\n        var e = this.rb;\n        var f = this.ra;\n        c.o.clear();\n        c.i.clear();\n        c.n.clear();\n        c.g.clear();\n        c.f.clear();\n        c.l.clear();\n        c.j.clear();\n        c.m.clear();\n        c.k.clear();\n        c.h.clear();\n        if (isNaN_(this.q4.x) && isNaN_(this.q4.y)) {\n            d.count = 0;\n            return;\n        }\n        var g = 0;\n        if (this.qb(this.q8)) {\n            this.rj(this.q8, c, e, f, 0);\n            g++;\n        }\n        else {\n            try {\n                for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var h = _c.value;\n                    if (this.qb(h)) {\n                        this.rj(h, c, e, f, g);\n                        g++;\n                    }\n                    if (h.isStacked) {\n                        h.la(function (i) {\n                            if (_this.qb(i)) {\n                                _this.rj(i, c, e, f, g);\n                                g++;\n                            }\n                            return true;\n                        });\n                    }\n                }\n            }\n            catch (e_1_1) {\n                e_1 = { error: e_1_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_1)\n                        throw e_1.error;\n                }\n            }\n            this.ri(c);\n        }\n        d.count = g;\n    };\n    ItemToolTipLayer.prototype.ri = function (a) {\n        var b = new List$1(ItemTooltipCollisionInfo.$, 0);\n        for (var c = 0; c < a.f.count; c++) {\n            var d = new ItemTooltipCollisionInfo();\n            d.d = c;\n            d.e = { $type: Point_$type, x: a.f._inner[c], y: a.g._inner[c] };\n            d.c = a.m._inner[c];\n            d.a = a.k._inner[c];\n            d.b = a.o._inner[c];\n            if (isNaN_(d.e.x) || isNaN_(d.e.y)) {\n                continue;\n            }\n            b.add(d);\n        }\n        b.aa(function (e, f) {\n            if (e.e.y < f.e.y) {\n                return -1;\n            }\n            if (e.e.y > f.e.y) {\n                return 1;\n            }\n            if (e.b < f.b) {\n                return -1;\n            }\n            if (e.b > f.b) {\n                return 1;\n            }\n            return 0;\n        });\n        var e = this.q9(b);\n        if (!e) {\n            return;\n        }\n        for (var f = 0; f < b.count - 1; f++) {\n            var g = b._inner[f];\n            var h = b._inner[f + 1];\n            var i = new Rect(0, g.e.x, g.e.y, g.c, g.a);\n            var j = new Rect(0, h.e.x, h.e.y, h.c, h.a);\n            if (i.intersectsWith(j) || i.top > j.bottom) {\n                h.e = { $type: Point_$type, x: h.e.x, y: i.bottom + 1 };\n            }\n        }\n        if (b._inner[b.count - 1].e.y + b._inner[b.count - 1].a > this.b0.bu.height) {\n            b._inner[b.count - 1].e = { $type: Point_$type, x: b._inner[b.count - 1].e.x, y: b._inner[b.count - 1].e.y - ((b._inner[b.count - 1].e.y + b._inner[b.count - 1].a) - this.b0.bu.height) };\n        }\n        for (var k = b.count - 1; k >= 1; k--) {\n            var l = b._inner[k];\n            var m = b._inner[k - 1];\n            var n = new Rect(0, l.e.x, l.e.y, l.c, l.a);\n            var o = new Rect(0, m.e.x, m.e.y, m.c, m.a);\n            if (n.intersectsWith(o) || n.top < o.bottom) {\n                m.e = { $type: Point_$type, x: m.e.x, y: n.top - (o.height + 1) };\n            }\n        }\n        for (var p = 0; p < b.count; p++) {\n            var q = b._inner[p].d;\n            var r = b._inner[p];\n            a.f._inner[q] = r.e.x;\n            a.g._inner[q] = r.e.y;\n        }\n    };\n    ItemToolTipLayer.prototype.q9 = function (a) {\n        if (a.count <= 1) {\n            return false;\n        }\n        var b = this.b0.bu;\n        for (var c = 0; c < a.count - 1; c++) {\n            var d = a._inner[c];\n            var e = a._inner[c + 1];\n            var f = new Rect(0, d.e.x, d.e.y, d.c, d.a);\n            var g = new Rect(0, e.e.x, e.e.y, e.c, e.a);\n            if (f.intersectsWith(g)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    ItemToolTipLayer.prototype.rj = function (a, b, c, d, e) {\n        var f = this.qj(a);\n        if (!f.c) {\n            return;\n        }\n        var g = a.pl(f.d, c, d);\n        var h = this.q7.b5;\n        var i = this.rc(a);\n        var j = this.q4;\n        if (!c) {\n            j = this.po(g);\n        }\n        var k = a.ht(j);\n        var l = h.item(e);\n        var m = this.b0.bu;\n        var n = null;\n        if (a.dl && k != null) {\n            n = a.au(k);\n        }\n        else {\n            n = new DataContext();\n            n.item = k;\n            n.series = a;\n        }\n        if (!this.q7.b6(a, l, i, n)) {\n            return;\n        }\n        var o = this.q7.cg(l, i, n);\n        b.i.add1(l);\n        b.j.add1(n);\n        b.l.add1(i);\n        var p = g.x;\n        var q = g.x;\n        q = Math.max(q, m.left);\n        q = Math.min(q, m.right);\n        b.n.add(q);\n        var r = g.y;\n        r = Math.max(r, m.top);\n        r = Math.min(r, m.bottom);\n        b.o.add(r);\n        var s = DeviceUtils.g(10);\n        var t = g.x + s;\n        if (t + o.width > m.right) {\n            t = (p - o.width) - s;\n        }\n        if (t < m.left) {\n            t = m.left;\n        }\n        b.f.add(t);\n        var u = (g.y - o.height) - s;\n        if (u + o.height > m.bottom) {\n            u = (m.bottom - o.height) - s;\n        }\n        if (u < m.top) {\n            u = m.top;\n        }\n        b.g.add(u);\n        b.m.add(o.width);\n        b.k.add(o.height);\n        var v = this.oy;\n        if (v == null) {\n            v = this.o2;\n        }\n        if (v == null) {\n            v = a.oy;\n        }\n        b.h.add(v);\n    };\n    ItemToolTipLayer.prototype.rc = function (a) {\n        return a.toolTip;\n    };\n    ItemToolTipLayer.prototype.ld = function () {\n        this.q4 = { $type: Point_$type, x: NaN, y: NaN };\n        this.q7.ce();\n    };\n    ItemToolTipLayer.prototype.qt = function (a, b) {\n        _super.prototype.qt.call(this, a, b);\n        var c = a;\n        var d = c.o.count;\n        var e = b.bu.left;\n        var f = b.bu.right;\n        var g = b.bu.top;\n        var h = b.bu.bottom;\n        for (var i = 0; i < d; i++) {\n            if (isNaN_(c.n._inner[i]) || isNaN_(c.o._inner[i]) || isNaN_(c.f._inner[i]) || isNaN_(c.g._inner[i]) || c.l._inner[i] == null || c.j._inner[i] == null) {\n                this.q7.cd(c.i._inner[i]);\n                continue;\n            }\n            var j = c.f._inner[i];\n            var k = c.g._inner[i];\n            var l = c.m._inner[i];\n            var m = c.k._inner[i];\n            var n = false;\n            if (j < e && Math.abs(j - e) > 1) {\n                n = true;\n            }\n            if (k < g && Math.abs(k - g) > 1) {\n                n = true;\n            }\n            if ((j + l) > f && Math.abs((j + l) - f) > 1) {\n                n = true;\n            }\n            if ((k + m) > h && Math.abs((k + m) - h) > 1) {\n                n = true;\n            }\n            if (n) {\n                this.q7.cd(c.i._inner[i]);\n                continue;\n            }\n            var o = c.i._inner[i];\n            var p = Math.min(c.f._inner[i], c.n._inner[i]);\n            var q = Math.min(c.g._inner[i], c.o._inner[i]);\n            var r = c.n._inner[i] - c.f._inner[i];\n            var s = c.o._inner[i] - c.g._inner[i];\n            this.q7.cf(o, p, q, r, s);\n        }\n    };\n    ItemToolTipLayer.prototype.em = function () {\n        return true;\n    };\n    ItemToolTipLayer.$t = markType(ItemToolTipLayer, 'ItemToolTipLayer', AnnotationLayer.$);\n    ItemToolTipLayer.$$p = markDep(DependencyProperty, PropertyMetadata, ItemToolTipLayer, 'raisePropertyChanged', ['SkipUnknownValues:ra:rk', [0, true], 'TargetSeriesName:re:rl', [2, null], 'TargetSeries:q8:rm', [Series.$, null], 'UseInterpolation:rb:rn', [0, false]]);\n    return ItemToolTipLayer;\n}(AnnotationLayer));\nexport { ItemToolTipLayer };\n/**\n * @hidden\n */\nvar ItemToolTipLayerView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(ItemToolTipLayerView, _super);\n    function ItemToolTipLayerView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b4 = null;\n        _this.b5 = null;\n        _this.b7 = null;\n        _this._htmlTest = null;\n        _this.b4 = a;\n        _this.b7 = new List$1(PointerTooltip.$, 0);\n        return _this;\n    }\n    ItemToolTipLayerView.prototype.as = function () {\n        var _this = this;\n        _super.prototype.as.call(this);\n        this.b5 = ((function () {\n            var $ret = new Pool$1(Base.$);\n            $ret.create = runOn(_this, _this.b8);\n            $ret.activate = runOn(_this, _this.ca);\n            $ret.disactivate = runOn(_this, _this.cc);\n            $ret.destroy = runOn(_this, _this.cb);\n            return $ret;\n        })());\n        this.htmlTest = /^[^<]*(<[\\w\\W]+>)[^>]*$/;\n    };\n    ItemToolTipLayerView.prototype.aj = function () {\n        _super.prototype.aj.call(this);\n        for (var a = 0; a < this.b5.a.count; a++) {\n            this.b5.a._inner[a].br();\n        }\n        for (var b = 0; b < this.b5.b.count; b++) {\n            this.b5.b._inner[b].br();\n        }\n        this.b5.clear();\n    };\n    ItemToolTipLayerView.prototype.b8 = function () {\n        var a = new PointerTooltip();\n        a.bv(this.e.g9);\n        a._visibility = 1;\n        a.ap = this.e.cd.cq.k;\n        this.b7.add(a);\n        return a;\n    };\n    ItemToolTipLayerView.prototype.ca = function (a) {\n        var b = a;\n    };\n    ItemToolTipLayerView.prototype.cc = function (a) {\n        var b = a;\n        b._visibility = 1;\n    };\n    ItemToolTipLayerView.prototype.cb = function (a) {\n        var b = a;\n        b.by();\n        b.content = null;\n        this.b7.remove1(a);\n    };\n    Object.defineProperty(ItemToolTipLayerView.prototype, \"htmlTest\", {\n        get: function () {\n            return this._htmlTest;\n        },\n        set: function (a) {\n            this._htmlTest = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ItemToolTipLayerView.prototype.b6 = function (a, b, c, d) {\n        var e = b;\n        if (a.h2 == \"default\") {\n            a.h2 = a.b0.getDefaultTooltipTemplate();\n        }\n        var template_ = a.h2;\n        var context_ = d;\n        if (a.toolTip == null) {\n            return false;\n        }\n        var tooltip_ = a.toolTip;\n        if ((tooltip_.updateToolTip)) {\n            tooltip_._inPointer = true;\n            tooltip_.updateToolTip(context_, true);\n            tooltip_.setStyleProperty('position', 'relative');\n            tooltip_.setStyleProperty('left', '');\n            tooltip_.setStyleProperty('top', '');\n        }\n        e.content = a.toolTip;\n        return true;\n    };\n    ItemToolTipLayerView.prototype.cg = function (a, b, c) {\n        var d = a;\n        var e = d.content;\n        var f = new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);\n        d.cx = 1;\n        var g = d.cw(new Size(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY));\n        d.cx = 0;\n        return g;\n    };\n    ItemToolTipLayerView.prototype.cf = function (a, b, c, d, e) {\n        var f = null;\n        if (this.e.cd != null) {\n            f = this.e.cd.cq.j.i();\n        }\n        var g = a;\n        g.aq = f;\n        var h = g.content;\n        g.cr = { $type: Point_$type, x: d, y: e };\n        g._visibility = 0;\n        g.n = b;\n        g.o = c;\n    };\n    ItemToolTipLayerView.prototype.cd = function (a) {\n        if (a != null) {\n            var b = a;\n            b._visibility = 1;\n        }\n    };\n    ItemToolTipLayerView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        if (b) {\n            return;\n        }\n        var c = 0;\n        var d = 0;\n        var e = this.e.cd;\n        if (e != null) {\n            var f = e.cq.j.b7();\n            c += f.x;\n            d += f.y;\n        }\n        for (var g = 0; g < this.b7.count; g++) {\n            this.b7._inner[g].bx(this.b7._inner[g].n + c, this.b7._inner[g].o + d);\n        }\n    };\n    ItemToolTipLayerView.prototype.al = function (a) {\n        var e_2, _a;\n        _super.prototype.al.call(this, a);\n        try {\n            for (var _b = __values(fromEnum(this.b5.a)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var tooltip_ = _c.value;\n                if (tooltip_._visibility != 0) {\n                    continue;\n                }\n                var b = tooltip_;\n                var c = b.a5();\n                var d = b.n;\n                var e = b.o;\n                var f = new List$1(String_$type, 0);\n                var g = typeCast(DomWrapper_$type, b.content);\n                if (g != null) {\n                    var h = g.getText();\n                    f.add(h);\n                }\n                this.e.a8.addPointerTooltipData(a, c, d, e, f);\n            }\n        }\n        catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_2)\n                    throw e_2.error;\n            }\n        }\n    };\n    ItemToolTipLayerView.prototype.ce = function () {\n        for (var a = 0; a < this.b7.count; a++) {\n            this.cd(this.b7._inner[a]);\n        }\n    };\n    ItemToolTipLayerView.$t = markType(ItemToolTipLayerView, 'ItemToolTipLayerView', AnnotationLayerView.$);\n    return ItemToolTipLayerView;\n}(AnnotationLayerView));\nexport { ItemToolTipLayerView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}