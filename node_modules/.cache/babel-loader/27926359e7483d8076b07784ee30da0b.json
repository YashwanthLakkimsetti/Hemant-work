{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Base, runOn, delegateCombine, String_$type, enumGetBox, EnumUtil, typeCast, fromEnum, delegateRemove, Point_$type, Date_$type, markType, markDep } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { CalloutPlacementPositionsCollection } from \"./CalloutPlacementPositionsCollection\";\nimport { AutoCalloutVisibilityMode_$type } from \"./AutoCalloutVisibilityMode\";\nimport { Brush } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { CalloutCollisionMode_$type } from \"./CalloutCollisionMode\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { CalloutLayerFrame } from \"./CalloutLayerFrame\";\nimport { HashSet$1 } from \"igniteui-react-core\";\nimport { CalloutAnnotationWrapper } from \"./CalloutAnnotationWrapper\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { LinkedList$1 } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { LinkedListNode$1 } from \"igniteui-react-core\";\nimport { LabelCollisionManager } from \"igniteui-react-core\";\nimport { SeriesPointOfInterest } from \"./SeriesPointOfInterest\";\nimport { CalloutAnnotation } from \"./CalloutAnnotation\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { CalloutLabelUpdatingEventArgs } from \"./CalloutLabelUpdatingEventArgs\";\nimport { CalloutSeriesSelectingEventArgs } from \"./CalloutSeriesSelectingEventArgs\";\nimport { CalloutStyleUpdatingEventArgs } from \"./CalloutStyleUpdatingEventArgs\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { CalloutRenderStyleUpdatingEventArgs } from \"./CalloutRenderStyleUpdatingEventArgs\";\nimport { LabelCollisionInfo } from \"igniteui-react-core\";\nimport { QuadTreeBoundingBox } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ViewportUtils } from \"./ViewportUtils\";\nimport { Size } from \"igniteui-react-core\";\nimport { CalloutContentUpdatingEventArgs } from \"./CalloutContentUpdatingEventArgs\";\nimport { CalloutKey } from \"./CalloutKey\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { HashPool$2 } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { FastItemObjectColumn } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { Color } from \"igniteui-react-core\";\nimport { Line } from \"igniteui-react-core\";\nimport { CalloutViewHelper } from \"./CalloutViewHelper\";\nimport { Rectangle } from \"igniteui-react-core\";\nimport { TranslateTransform } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar CalloutLayer =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CalloutLayer, _super);\n\n  function CalloutLayer() {\n    var _this = _super.call(this) || this;\n\n    _this.calloutStyleUpdating = null;\n    _this.calloutRenderStyleUpdating = null;\n    _this.rr = null;\n    _this.rs = null;\n    _this.rt = null;\n    _this.rq = null;\n    _this.rp = null;\n    _this.sj = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    _this.sm = new List$1(CalloutAnnotationWrapper.$, 0);\n    _this.sn = new List$1(CalloutAnnotationWrapper.$, 0);\n    _this.rh = null;\n    _this.q7 = null;\n    _this.rn = null;\n    _this.sk = new LinkedList$1(CalloutAnnotationWrapper.$);\n    _this.sh = new Dictionary$2(CalloutAnnotationWrapper.$, LinkedListNode$1.$.specialize(CalloutAnnotationWrapper.$), 0);\n    _this.rz = null;\n    _this.vt = new Rect(0, 0, 0, 1, 1);\n    _this.r6 = false;\n    _this.sy = 0;\n    _this.vs = Rect.empty;\n    _this.r4 = false;\n    _this.r5 = false;\n    _this.calloutContentUpdating = null;\n    _this.calloutLabelUpdating = null;\n    _this.calloutSeriesSelecting = null;\n    _this.sl = new List$1(SeriesPointOfInterest.$, 0);\n    _this.r8 = false;\n    _this.r9 = false;\n    _this.sp = 0;\n    _this.r7 = false;\n    _this.r3 = true;\n    _this.q9 = 1;\n    FastItemObjectColumn.m();\n    _this.q7 = null;\n    _this.rh = new CalloutPlacementPositionsCollection();\n    var a = _this.rh;\n    a.collectionChanged = delegateCombine(a.collectionChanged, runOn(_this, _this.ud));\n    _this.qd = true;\n    var b = new CalloutLayerFrame();\n    var c = new CalloutLayerFrame();\n    var d = new CalloutLayerFrame();\n    var e = _this.hm / 1000;\n    _this.p5 = b;\n    _this.p4 = c;\n    _this.p6 = d;\n    _this.ab = CalloutLayer.$;\n    return _this;\n  }\n\n  CalloutLayer.prototype.get_c8 = function () {\n    return true;\n  };\n\n  CalloutLayer.prototype.ud = function (a, b) {\n    this.um();\n  };\n\n  CalloutLayer.prototype.um = function () {\n    this.q7 = this.q8(this.ri);\n    this.uj();\n  };\n\n  CalloutLayer.prototype.ue = function (a, b) {\n    this.sn.clear();\n    this.mh(false);\n  };\n\n  CalloutLayer.prototype.k0 = function (a, b, c, d) {\n    _super.prototype.k0.call(this, a, b, c, d);\n\n    var e = this.si();\n\n    switch (a) {\n      case 3:\n        this.ur(b, e);\n        break;\n\n      case 1:\n        for (var f = b; f < b + c; f++) {\n          var g = new CalloutAnnotation();\n          var h = new CalloutAnnotationWrapper();\n          h.b = g;\n          h.b.series = this.rm;\n          this.sn.insert(f, h);\n          this.ur(f, e);\n        }\n\n        break;\n\n      case 0:\n        this.sn.v(b, c);\n        break;\n\n      case 2:\n        for (var i = b; i < b + c; i++) {\n          this.ur(i, e);\n        }\n\n        break;\n\n      case 4:\n        this.sn.clear();\n\n        for (var j = 0; j < this.ck.count; j++) {\n          var k = new CalloutAnnotation();\n          var l = new CalloutAnnotationWrapper();\n          l.b = k;\n          l.b.series = this.rm;\n          this.sn.add(l);\n          this.ur(j, e);\n        }\n\n        break;\n    }\n\n    this.mh(true);\n  };\n\n  CalloutLayer.prototype.eo = function (a) {\n    return false;\n  };\n\n  CalloutLayer.prototype.si = function () {\n    var a = new Dictionary$2(String_$type, Series.$, 0);\n\n    if (this.cd != null) {\n      for (var b = 0; b < this.cd.series.count; b++) {\n        var c = this.cd.series._inner[b];\n\n        if (c.name != null && !a.containsKey(c.name)) {\n          a.addItem(c.name, c);\n        }\n      }\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.ur = function (a, b) {\n    var _this = this;\n\n    if (this.ry == null || this.rw == null) {\n      return;\n    }\n\n    var c = a;\n\n    if (this.rx != null) {\n      c = this.rx.item(a);\n    }\n\n    var d = this.ry.item(a);\n    var e = this.rw.item(a);\n    var f = this.sn._inner[a];\n\n    if (this.rv != null) {\n      if (f.b.ab != this.rv.item(a)) {\n        f.b.key = this.rv.item(a);\n      }\n    }\n\n    if (this.sh.containsKey(f)) {\n      f.b = this.sh.item(f).c.b;\n    }\n\n    f.b.xValue = c;\n    f.b.yValue = d;\n\n    if (this.calloutLabelUpdating != null) {\n      var g = function () {\n        var $ret = new CalloutLabelUpdatingEventArgs();\n        $ret.c = c;\n        $ret.d = d;\n        $ret.item = _this.ck.item(a);\n        return $ret;\n      }();\n\n      this.calloutLabelUpdating(this, g);\n\n      if (g.b != null && !Base.equalsStatic(g.b, f.b.ao)) {\n        var h = g.b;\n        f.b.text = h != null ? h.toString() : \"\";\n      }\n    } else {\n      f.b.text = e != null ? e.toString() : \"\";\n    }\n\n    if (this.ru != null) {\n      f.b.content = this.ru.item(a);\n    } else {\n      f.b.content = this.ck.item(a);\n    }\n\n    if (this.calloutSeriesSelecting != null) {\n      var i = function () {\n        var $ret = new CalloutSeriesSelectingEventArgs();\n        $ret.c = c;\n        $ret.d = d;\n        $ret.item = _this.ck.item(a);\n        return $ret;\n      }();\n\n      this.calloutSeriesSelecting(this, i);\n\n      if (i.a != null) {\n        f.b.series = i.a;\n      } else if (i.e != null) {\n        if (b.containsKey(i.e)) {\n          f.b.series = b.item(i.e);\n        }\n      }\n    }\n\n    this.us(f);\n  };\n\n  CalloutLayer.prototype.us = function (a) {\n    var b = new Thickness(0, DeviceUtils.g(3));\n\n    if (isNaN_(this.vv.left) || isNaN_(this.vv.top) || isNaN_(this.vv.right) || isNaN_(this.vv.bottom)) {\n      b = new Thickness(0, DeviceUtils.g(3));\n    } else {\n      b = this.vv;\n    }\n\n    var c = DeviceUtils.g(3);\n\n    if (isNaN_(this.sq)) {\n      c = DeviceUtils.g(3);\n    } else {\n      c = this.sq;\n    }\n\n    var d = this.vo != null ? this.vo : this.rg.ci(a.b.l);\n    var e = this.vr != null ? this.vr : this.rg.cl();\n    var f = this.vq != null ? this.vq : this.rg.ck(a.b.l);\n    var g = this.vp != null ? this.vp : this.rg.cj(a.b.l);\n    var h = isNaN_(this.sw) ? 0 : this.sw;\n\n    if (this.sd && this.calloutStyleUpdating != null) {\n      var i = new CalloutStyleUpdatingEventArgs();\n      i.item = a.b.aa;\n      i.xValue = a.b.ac;\n      i.yValue = a.b.ad;\n      i.series = a.b.l;\n      i.background = d;\n      i.textColor = e;\n      i.outline = f;\n      i.leaderBrush = g;\n      i.strokeThickness = h;\n      this.calloutStyleUpdating(this, i);\n      d = i.background;\n      e = i.textColor;\n      f = i.outline;\n      g = i.leaderBrush;\n      h = i.strokeThickness;\n    }\n\n    a.b.backgroundPadding = b;\n    a.b.backgroundCornerRadius = c;\n    a.b.background = d;\n    a.b.textColor = e;\n    a.b.outline = f;\n    a.b.leaderBrush = g;\n    a.b.strokeThickness = h;\n  };\n\n  CalloutLayer.prototype.hw = function (a, b) {\n    var c = this.jq(b);\n\n    if (c == CalloutLayer.$$p[21]) {\n      return this.hx(a, b, this.tx);\n    }\n\n    if (c == CalloutLayer.$$p[28]) {\n      return this.hx(a, b, this.t8);\n    }\n\n    if (c == CalloutLayer.$$p[29]) {\n      return this.hx(a, b, this.ub);\n    }\n\n    if (c == CalloutLayer.$$p[20]) {\n      return this.hx(a, b, this.tu);\n    }\n\n    if (c == CalloutLayer.$$p[15]) {\n      return this.hx(a, b, this.tn);\n    }\n\n    return _super.prototype.hw.call(this, a, b);\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"rw\", {\n    get: function get() {\n      return this.rr;\n    },\n    set: function set(a) {\n      if (this.rr != a) {\n        var b = this.rr;\n        this.rr = a;\n        this.raisePropertyChanged(\"LabelColumn\", b, this.rr);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"rx\", {\n    get: function get() {\n      return this.rs;\n    },\n    set: function set(a) {\n      if (this.rs != a) {\n        var b = this.rs;\n        this.rs = a;\n        this.raisePropertyChanged(\"XColumn\", b, this.rs);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"ry\", {\n    get: function get() {\n      return this.rt;\n    },\n    set: function set(a) {\n      if (this.rt != a) {\n        var b = this.rt;\n        this.rt = a;\n        this.raisePropertyChanged(\"YColumn\", b, this.rt);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"rv\", {\n    get: function get() {\n      return this.rq;\n    },\n    set: function set(a) {\n      if (this.rq != a) {\n        var b = this.rq;\n        this.rq = a;\n        this.raisePropertyChanged(\"KeyColumn\", b, this.rq);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"ru\", {\n    get: function get() {\n      return this.rp;\n    },\n    set: function set(a) {\n      if (this.rp != a) {\n        var b = this.rp;\n        this.rp = a;\n        this.raisePropertyChanged(\"ContentColumn\", b, this.rp);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.ug = function (a, b) {\n    if (b.propertyName == CalloutAnnotation.$$p[14] || b.propertyName == CalloutAnnotation.$$p[15]) {\n      var c = a.k;\n\n      if (!this.sj.contains(c)) {\n        this.sj.add_1(c);\n        this.sm.add(c);\n        this.mh(false);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.bx = function () {\n    return new CalloutLayerView(this);\n  };\n\n  CalloutLayer.prototype.ly = function (a) {\n    _super.prototype.ly.call(this, a);\n\n    this.rg = a;\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"ri\", {\n    get: function get() {\n      return this.rh;\n    },\n    set: function set(a) {\n      var b = this.ri;\n\n      if (a != b) {\n        this.rh = a;\n        this.raisePropertyChanged(\"AllowedPositions\", b, this.ri);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"rb\", {\n    get: function get() {\n      return EnumUtil.getEnumValue(AutoCalloutVisibilityMode_$type, this.c(CalloutLayer.u7));\n    },\n    set: function set(a) {\n      this.h(CalloutLayer.u7, enumGetBox(AutoCalloutVisibilityMode_$type, a));\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"ra\", {\n    get: function get() {\n      return this.q9;\n    },\n    set: function set(a) {\n      this.q9 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"vv\", {\n    get: function get() {\n      return new Thickness(1, this.ss, this.su, this.st, this.sr);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutLayer.prototype, \"ro\", {\n    get: function get() {\n      if (this.rn == null) {\n        this.rn = FontUtil.toFontInfo(this.g9, this.t2);\n      }\n\n      return this.rn;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.qo = function (a, b) {\n    if (this.rm == null || this.rm == a) {\n      if (!this.as.c) {\n        this.mh(b);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.qq = function (a, b) {\n    var e_1, _a;\n\n    _super.prototype.qq.call(this, a, b);\n\n    var c = a;\n    c.q.clear();\n    c.r.clear();\n    c.n.clear();\n    c.f.clear();\n    c.i.clear();\n    c.h.clear();\n    c.k.clear();\n    c.m.clear();\n    c.l.clear();\n    c.j.clear();\n    c.g.clear();\n    c.o.clear();\n    c.p.clear();\n    c.u.clear();\n    c.v.clear();\n    c.s.clear();\n    c.t.clear();\n    var d = this.so();\n    var e = new List$1(CalloutAnnotationWrapper.$, 0);\n    var f = true;\n\n    if (this.sa) {\n      if (this.qb(this.rm)) {\n        this.uo(this.rm, c, e);\n      } else {\n        try {\n          for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var g = _c.value;\n\n            if (this.qb(g)) {\n              if (!g.dc) {\n                if (!g.isVertical) {\n                  f = false;\n                }\n              }\n\n              this.uo(g, c, e);\n            }\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    }\n\n    if (this.sa && this.ra == 2) {\n      var h = 0;\n      var i = 0;\n      var j = 1.7976931348623157E+308;\n      var k = 1.7976931348623157E+308;\n      var l = -1.7976931348623157E+308;\n      var m = -1.7976931348623157E+308;\n\n      if (e.count > 0) {\n        if (e._inner[0].c != null) {\n          h = e._inner[0].e;\n          i = e._inner[0].f;\n        }\n\n        for (var n = 0; n < e.count; n++) {\n          var o = e._inner[n];\n\n          if (o.c != null) {\n            var p = o.e;\n            var q = o.f;\n\n            if (p != h) {\n              j = Math.min(j, Math.abs(p - h));\n            }\n\n            if (q != i) {\n              k = Math.min(k, Math.abs(q - i));\n            }\n\n            l = Math.max(o.c.l + o.c.l, l);\n            m = Math.max(o.c.k + o.c.k, m);\n          }\n        }\n\n        if (f) {\n          if (m > k) {\n            e.clear();\n          }\n        } else {\n          if (l > j) {\n            e.clear();\n          }\n        }\n      }\n    }\n\n    this.un(c, d, e);\n  };\n\n  CalloutLayer.prototype.m5 = function (a, b) {\n    _super.prototype.m5.call(this, a, b);\n\n    var c = b.width - this.vt.width;\n    var d = b.height - this.vt.height;\n    var e = 0;\n\n    if (Math.abs(c) > Math.abs(d)) {\n      e = c;\n      this.sp = c * this.py.width;\n    } else {\n      e = d;\n      this.sp = d * this.py.height;\n    }\n\n    if (e > 0 && this.sp > 5) {\n      this.r9 = true;\n    }\n\n    if (e < 0 && this.sp > 5) {\n      this.r8 = true;\n    }\n  };\n\n  CalloutLayer.prototype.m4 = function (a, b) {\n    _super.prototype.m4.call(this, a, b);\n\n    if (!a.equals1(b)) {\n      this.r7 = true;\n    }\n  };\n\n  Object.defineProperty(CalloutLayer.prototype, \"vu\", {\n    get: function get() {\n      return this.vs;\n    },\n    set: function set(a) {\n      this.vs = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutLayer.prototype.un = function (a, b, c) {\n    var e_2, _a;\n\n    if (this.cd != null) {\n      this.vt = this.cd.sf;\n    }\n\n    if (this.py.isEmpty) {\n      return;\n    }\n\n    this.vu = new Rect(0, this.py.left, this.py.top, this.py.width, this.py.height);\n\n    if (this.rz != null && this.tk != null && this.tk != this.rz.ap) {\n      this.ui();\n    }\n\n    if (this.rz == null) {\n      var d = this.r0();\n\n      if (d != null) {\n        this.rz = d;\n        var e = this.rz;\n        e.labelsMoved = delegateCombine(e.labelsMoved, runOn(this, this.uf));\n      } else {\n        var f = this.pq(this.b0);\n        var g = new Array(2);\n        g[0] = 0;\n        g[1] = 3;\n\n        if (this.rm != null) {\n          if (this.rm.isVertical) {\n            g = new Array(2);\n            g[0] = 2;\n            g[1] = 1;\n          }\n        } else {\n          var h = false;\n\n          if (this.cd != null && this.cd.series.count > 0) {\n            h = true;\n\n            try {\n              for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n\n                if (!i.dc) {\n                  if (!i.isVertical) {\n                    h = false;\n                  }\n                }\n              }\n            } catch (e_2_1) {\n              e_2 = {\n                error: e_2_1\n              };\n            } finally {\n              try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n              } finally {\n                if (e_2) throw e_2.error;\n              }\n            }\n          }\n\n          if (h) {\n            g = new Array(2);\n            g[0] = 2;\n            g[1] = 1;\n          }\n        }\n\n        this.rz = new LabelCollisionManager(this.py.right, this.py.bottom, this.py, this.rg.j(), this.sv, this.r1(), g, this.s2(), this.s1(), this.sb, this.q7);\n\n        if (this.tk != null) {\n          this.rz.ap = this.tk;\n          this.rz.an = this;\n        }\n\n        var j = this.rz;\n        j.labelsMoved = delegateCombine(j.labelsMoved, runOn(this, this.uf));\n      }\n    }\n\n    if (this.r8) {\n      this.r8 = false;\n\n      if (this.rz.al > 2) {\n        this.r6 = true;\n      }\n    }\n\n    if (this.r9) {\n      this.r9 = false;\n\n      if (this.sp > 5) {\n        this.r6 = true;\n      }\n    }\n\n    if (this.r7) {\n      this.r7 = false;\n      this.rz.a3(this.py.right, this.py.bottom, this.py);\n      this.r6 = true;\n    }\n\n    var k = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    var l = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n    var m = new List$1(CalloutAnnotationWrapper.$, 0);\n    var n = new List$1(CalloutAnnotationWrapper.$, 0);\n    var o = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n\n    for (var p = 0; p < b.count; p++) {\n      o.add_1(b._inner[p]);\n    }\n\n    for (var q = 0; q < c.count; q++) {\n      o.add_1(c._inner[q]);\n    }\n\n    var r = this.sk.c;\n\n    while (r != null) {\n      var s = r.a;\n\n      if (!o.contains(r.c)) {\n        n.add(r.c);\n        l.add_1(r.c);\n        var t = r.c.b;\n        t.propertyChanged = delegateRemove(t.propertyChanged, runOn(this, this.ug));\n        this.sk.h(r);\n        this.sh.removeItem(r.c);\n        this.rz.a2(r.c.c);\n      }\n\n      r = s;\n    }\n\n    for (var u = 0; u < b.count; u++) {\n      if (!this.sh.containsKey(b._inner[u])) {\n        this.sk.f(b._inner[u]);\n        var v = b._inner[u].b;\n        v.propertyChanged = delegateCombine(v.propertyChanged, runOn(this, this.ug));\n        this.sh.addItem(b._inner[u], this.sk.d);\n        m.add(b._inner[u]);\n        k.add_1(b._inner[u]);\n        this.r6 = true;\n      }\n    }\n\n    for (var w = 0; w < c.count; w++) {\n      if (!this.sh.containsKey(c._inner[w])) {\n        this.sk.f(c._inner[w]);\n        this.sh.addItem(c._inner[w], this.sk.d);\n        var x = c._inner[w].b;\n        x.propertyChanged = delegateCombine(x.propertyChanged, runOn(this, this.ug));\n        m.add(c._inner[w]);\n        k.add_1(c._inner[w]);\n        this.r6 = true;\n      }\n    }\n\n    if (this.r4 == true) {\n      this.r4 = false;\n      this.r6 = true;\n    }\n\n    if (this.sm.count > 0) {\n      this.r6 = true;\n      this.sm.clear();\n      this.sj.clear();\n    }\n\n    r = this.sk.c;\n\n    while (r != null) {\n      var y = this.r2(r.c);\n\n      if (y == null) {\n        return;\n      }\n\n      if (!Base.equalsStatic(y, r.c.c.c)) {\n        var z = false;\n\n        if (r.c.c.c == null) {\n          z = true;\n        }\n\n        var aa = r.c.c;\n        aa.o = y.b;\n        aa.p = y.c;\n\n        if (!isNaN_(aa.o) && !isNaN_(aa.p)) {\n          aa.n = y.e;\n          aa.m = y.d;\n\n          if (aa.b == null) {\n            this.rz.t(aa, false);\n          }\n\n          if (z) {\n            this.rz.aq(aa);\n          } else {\n            this.rz.az(aa);\n          }\n        }\n      }\n\n      r = r.a;\n    }\n\n    var ab = this.rz.am();\n    var ac = this.rz.u();\n\n    if (ac) {\n      if (this.rz.q()) {\n        this.r6 = true;\n      }\n    }\n\n    if (this.r6 && (ab != 0 || ac)) {\n      this.r6 = false;\n      this.sy = 0x7FFFFFFF;\n\n      if (this.tk != null) {\n        var ad = true;\n\n        for (var ae = 0; ae < this.cd.series.count; ae++) {\n          var af = this.cd.series._inner[ae];\n\n          if (af.dc && typeCast(CalloutLayer.$, af) !== null) {\n            var ag = af;\n\n            if (ag.tk == this.tk) {\n              if (!ag.vu.equals1(this.rz.a5)) {\n                ad = false;\n                break;\n              }\n            }\n          }\n        }\n\n        if (ad) {\n          this.rz.a4();\n        } else {\n          this.rz.ar();\n          this.rz.as();\n        }\n      } else {\n        this.rz.a4();\n      }\n    } else {\n      this.rz.as();\n    }\n\n    var ah = this.sk.c;\n    var ai;\n    var aj;\n    var ak;\n    var al;\n    var am;\n    var an;\n    var ao;\n    var ap;\n    var aq;\n    var ar;\n    var as;\n    var at;\n    var au;\n    var av;\n    var aw;\n    var ax;\n    var ay = this.sc;\n\n    while (ah != null) {\n      var az = ah.c;\n      var a0 = az.b;\n      ai = a0.bk;\n      aj = a0.bm;\n      ak = a0.bl;\n      al = a0.backgroundPadding.left;\n      am = a0.backgroundPadding.top;\n      an = a0.backgroundPadding.right;\n      ao = a0.backgroundPadding.bottom;\n      aq = a0.backgroundCornerRadius;\n      ap = a0.y;\n      ar = a0.bn;\n      as = a0.ao;\n      at = a0.aa;\n      var a1 = az.c;\n      au = a1.o - (a1.g - a1.l);\n      av = a1.p - (a1.h - a1.k);\n      aw = a1.g - a1.l;\n      ax = a1.h - a1.k;\n\n      if (ay) {\n        var a2 = new CalloutRenderStyleUpdatingEventArgs();\n        a2.background = ai;\n        a2.outline = aj;\n        a2.leaderBrush = ak;\n        a2.strokeThickness = ap;\n        a2.textColor = ar;\n        a2.item = at;\n        a2.series = a0.l;\n        a2.actualPosition = a1.a;\n        a2.xValue = a0.ac;\n        a2.yValue = a0.ad;\n\n        if (this.calloutRenderStyleUpdating != null) {\n          this.calloutRenderStyleUpdating(this, a2);\n          ai = a2.background;\n          aj = a2.outline;\n          ak = a2.leaderBrush;\n          ap = a2.strokeThickness;\n          ar = a2.textColor;\n        }\n      }\n\n      a.n.add1(az);\n      a.f.add(ai);\n      a.i.add(aj);\n      a.h.add(ak);\n      a.k.add(al);\n      a.m.add(am);\n      a.l.add(an);\n      a.j.add(ao);\n      a.g.add(aq);\n      a.o.add(ap);\n      a.p.add(ar);\n      a.q.add1(as);\n      a.r.add1(at);\n      a.u.add(au);\n      a.v.add(av);\n      a.s.add(aw);\n      a.t.add(ax);\n      ah = ah.a;\n    }\n  };\n\n  CalloutLayer.prototype.ui = function () {\n    if (this.rz != null) {\n      var a = this.sk.c;\n\n      while (a != null) {\n        var b = a.c.c;\n\n        if (b != null) {\n          this.rz.a2(b);\n        }\n\n        a = a.a;\n      }\n\n      var c = this.rz;\n      c.labelsMoved = delegateRemove(c.labelsMoved, runOn(this, this.uf));\n      this.rz = null;\n    }\n\n    this.uh();\n  };\n\n  CalloutLayer.prototype.r0 = function () {\n    if (this.cd == null) {\n      return null;\n    }\n\n    for (var a = 0; a < this.cd.series.count; a++) {\n      var b = this.cd.series._inner[a];\n\n      if (b.dc && typeCast(CalloutLayer.$, b) !== null) {\n        var c = b;\n\n        if (c != this) {\n          if (c.tk != null && c.tk == this.tk) {\n            if (c.rz != null) {\n              return c.rz;\n            }\n          }\n        }\n      }\n    }\n\n    return null;\n  };\n\n  CalloutLayer.prototype.s1 = function () {\n    return 20000;\n  };\n\n  CalloutLayer.prototype.s2 = function () {\n    return 300;\n  };\n\n  CalloutLayer.prototype.r1 = function () {\n    switch (this.rd) {\n      case 0:\n        return 2;\n\n      case 2:\n        return 1;\n\n      case 3:\n        return 2;\n\n      case 1:\n        return 0;\n    }\n\n    return 2;\n  };\n\n  CalloutLayer.prototype.uf = function (a) {\n    var b = this.rz.am();\n\n    if (b < this.sy) {\n      this.sy = b;\n      this.mh(false);\n    }\n  };\n\n  CalloutLayer.prototype.r2 = function (a) {\n    var b = this.rm;\n\n    if (a.b.l != null) {\n      b = a.b.l;\n    }\n\n    if (b == null) {\n      for (var c = 0; c < this.cd.series.count; c++) {\n        var d = this.cd.series._inner[c];\n\n        if (!d.dc) {\n          b = d;\n          break;\n        }\n      }\n    }\n\n    if (b == null) {\n      return null;\n    }\n\n    var e = b.ag();\n    var f = b.gc();\n    var g = null;\n    var h = null;\n    var i = false;\n\n    for (var j = 0; j < e.length; j++) {\n      if (e[j].b8) {\n        i = true;\n        g = e[j];\n      } else if (e[j].cl) {\n        i = true;\n        h = e[j];\n      } else if (e[j].co) {\n        h = e[j];\n      } else {\n        g = e[j];\n      }\n    }\n\n    if (g == null || h == null) {\n      return null;\n    }\n\n    if (!g.cn() || !h.cn()) {\n      return null;\n    }\n\n    var k = 0;\n    var l = 0;\n\n    if (g.ca && g.categoryMode != 0) {\n      if (b.dp) {\n        k = b.getOffsetValue();\n      } else if (b.dg) {\n        k = b.getOffsetValue();\n      }\n    }\n\n    if (h.ca && h.categoryMode != 0) {\n      if (b.dg) {\n        l = b.getOffsetValue();\n      }\n    }\n\n    var m = new ScalerParams(0, this.cd.sf, g.kc, g.cg, g.j7());\n    m.b = f;\n    var n = new ScalerParams(0, this.cd.sf, h.kc, h.cg, h.j7());\n    n.b = f;\n    var o = 0;\n    var p = 0;\n\n    if (i) {\n      o = g.ei(this.sx(a.b.ac), m) + k;\n      p = h.ei(this.sx(a.b.ad), n) + l;\n      var q = o;\n      var r = p;\n      var s = {\n        $type: Point_$type,\n        x: 0.5,\n        y: 0.5\n      };\n      var t = s.x + r * Math.cos(q);\n      o = ViewportUtils.c(t, m.e, m.d);\n      var u = s.y + r * Math.sin(q);\n      p = ViewportUtils.f(u, n.e, n.d);\n    } else {\n      o = g.ei(this.sx(a.b.ac), m) + k;\n      p = h.ei(this.sx(a.b.ad), n) + l;\n    }\n\n    var v = new QuadTreeBoundingBox();\n    v.b = o;\n    v.c = p;\n    v.e = 3;\n    v.d = 3;\n    v.g = a.b;\n    return v;\n  };\n\n  CalloutLayer.prototype.sx = function (a) {\n    if (typeCast(Date_$type, a) !== null) {\n      return a.getTime();\n    }\n\n    if (a == null) {\n      return 0;\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.so = function () {\n    var a = new List$1(CalloutAnnotationWrapper.$, 0);\n\n    for (var b = 0; b < this.sn.count; b++) {\n      if (stringIsNullOrEmpty(this.sn._inner[b].b.ao)) {\n        continue;\n      }\n\n      if (this.sn._inner[b].c == null) {\n        var c = new LabelCollisionInfo();\n        this.sn._inner[b].c = c;\n        var d = this.rg.cn(this.s3(this.sn._inner[b]), this.sn._inner[b].b.backgroundPadding);\n        c.k = d.height / 2;\n        c.l = d.width / 2;\n      }\n\n      var e = this.r2(this.sn._inner[b]);\n\n      if (e == null || e.b < this.py.left || e.b > this.py.right || e.c < this.py.top || e.c > this.py.bottom) {\n        continue;\n      }\n\n      a.add(this.sn._inner[b]);\n    }\n\n    return a;\n  };\n\n  CalloutLayer.prototype.s3 = function (a) {\n    return a.b.ao;\n  };\n\n  CalloutLayer.prototype.qb = function (a) {\n    if (!_super.prototype.qb.call(this, a)) {\n      return false;\n    }\n\n    if (this.tz != null) {\n      if (a.du) {\n        var b = a.jp();\n\n        if (!Base.equalsStatic(this.tz, b)) {\n          return false;\n        }\n      } else {\n        if (!Base.equalsStatic(this.tz, a.name)) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  CalloutLayer.prototype.lr = function () {\n    _super.prototype.lr.call(this);\n\n    if (!this.as.c && !this.cv()) {\n      return;\n    }\n\n    if (this.r3) {\n      this.r3 = false;\n      this.uk();\n    }\n\n    if (this.cv()) {\n      this.uq(this.p6, false);\n    } else {\n      this.uq(this.p4, false);\n    }\n  };\n\n  CalloutLayer.prototype.ul = function () {\n    if (!this.r5) {\n      this.r5 = true;\n      this.mh(true);\n    }\n  };\n\n  CalloutLayer.prototype.uo = function (a, b, c) {\n    var d = false;\n\n    if (this.r5) {\n      this.r5 = false;\n      d = true;\n    }\n\n    if (a.c1(this.sl, this.sg, this.se, this.sz)) {\n      var e = this.sl;\n\n      var _loop_1 = function _loop_1(f) {\n        var g = e._inner[f];\n        var h = g.a != null ? g.a.item : null;\n        var i = g.a.item != null ? g.a.item : g.a;\n        var j = a;\n        var k = new CalloutKey(i, j);\n        var l = new CalloutAnnotationWrapper();\n        var m = new CalloutAnnotation();\n        l.b = m;\n        m.key = k;\n        var n = false;\n\n        if (this_1.sh.containsKey(l)) {\n          l = this_1.sh.item(l).c;\n          m = l.b;\n          n = d;\n        } else {\n          n = true;\n        }\n\n        var o = m.ac;\n        var p = m.ad;\n\n        if (this_1.sx(o) != this_1.sx(g.b)) {\n          m.xValue = g.b;\n        }\n\n        if (this_1.sx(p) != this_1.sx(g.c)) {\n          m.yValue = g.c;\n        }\n\n        m.series = a;\n        var q = false;\n\n        if (g.d != m.ay) {\n          m.ay = g.d;\n          q = true;\n        }\n\n        if (n || q) {\n          if (this_1.calloutLabelUpdating != null) {\n            var r = function () {\n              var $ret = new CalloutLabelUpdatingEventArgs();\n              $ret.c = m.ac;\n              $ret.d = m.ad;\n              $ret.item = h;\n              return $ret;\n            }();\n\n            this_1.calloutLabelUpdating(this_1, r);\n\n            if (r.b != null && !Base.equalsStatic(r.b, l.b.ao)) {\n              var s = r.b;\n              l.b.text = s != null ? s.toString() : \"\";\n            }\n          } else {\n            if (g.d != null) {\n              m.text = g.d;\n            }\n          }\n        }\n\n        if (m.ao == null) {\n          return \"continue\";\n        }\n\n        if (n || q) {\n          if (this_1.calloutContentUpdating != null) {\n            var t = function () {\n              var $ret = new CalloutContentUpdatingEventArgs();\n              $ret.c = m.ac;\n              $ret.d = m.ad;\n              $ret.item = h;\n              $ret.a = i;\n              return $ret;\n            }();\n\n            this_1.calloutContentUpdating(this_1, t);\n\n            if (t.a != null && t.a != l.b.aa) {\n              l.b.content = t.a;\n            }\n          } else {\n            if (i != null && i != l.b.aa) {\n              l.b.content = i;\n            }\n          }\n        }\n\n        if (n) {\n          this_1.us(l);\n        }\n\n        if (l.c == null) {\n          var u = new LabelCollisionInfo();\n          l.c = u;\n          var v = this_1.rg.cn(this_1.s3(l), l.b.backgroundPadding);\n          u.k = v.height / 2;\n          u.l = v.width / 2;\n        }\n\n        var w = this_1.r2(l);\n\n        if (w == null || w.b < this_1.py.left || w.b > this_1.py.right || w.c < this_1.py.top || w.c > this_1.py.bottom) {\n          return \"continue\";\n        }\n\n        l.e = w.b;\n        l.f = w.c;\n        c.add(l);\n      };\n\n      var this_1 = this;\n\n      for (var f = 0; f < this.sl.count; f++) {\n        _loop_1(f);\n      }\n    }\n  };\n\n  CalloutLayer.prototype.bp = function () {\n    return 1;\n  };\n\n  CalloutLayer.prototype.at = function (a, b) {\n    var c = this.rz.f(a, b);\n\n    if (c == null) {\n      return null;\n    }\n\n    return c.u;\n  };\n\n  CalloutLayer.prototype.ev = function (a, b) {\n    if (this.rz == null) {\n      return false;\n    }\n\n    return this.rz.f(a, b) != null;\n  };\n\n  CalloutLayer.prototype.uq = function (a, b) {\n    var e_3, _a;\n\n    var c = 0;\n    var d = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n\n    for (c = 0; c < a.q.count; c++) {\n      var e = a.n._inner[c];\n\n      if (isNaN_(a.u._inner[c]) || isNaN_(a.v._inner[c])) {\n        continue;\n      }\n\n      var f = this.rg.b8.item(e);\n      d.add_1(e);\n\n      if (f.h != a.q._inner[c]) {\n        f.h = a.q._inner[c];\n        var g = f.u();\n      }\n\n      f.e = a.o._inner[c];\n      f.m = a.f._inner[c];\n      f.p = a.p._inner[c];\n      f.o = f.e > 0 ? a.i._inner[c] : this.b0.bq();\n      f.n = a.h._inner[c];\n      f.x = new Thickness(1, a.k._inner[c], a.m._inner[c], a.l._inner[c], a.j._inner[c]);\n      f.d = a.g._inner[c];\n      this.rg.cg(f, Math.min(a.s._inner[c], a.s._inner[c] + a.u._inner[c]), Math.min(a.t._inner[c], a.t._inner[c] + a.v._inner[c]));\n      this.rg.ch(f, e, a.r._inner[c]);\n      f.r = {\n        $type: Point_$type,\n        x: a.u._inner[c],\n        y: a.v._inner[c]\n      };\n    }\n\n    var h = new List$1(CalloutAnnotationWrapper.$, 0);\n\n    try {\n      for (var _b = __values(fromEnum(this.rg.b8.c)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var i = _c.value;\n\n        if (!d.contains(i)) {\n          h.add(i);\n        }\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    for (var j = 0; j < h.count; j++) {\n      this.rg.b8.h(h._inner[j]);\n    }\n  };\n\n  CalloutLayer.prototype.qt = function (a, b) {\n    _super.prototype.qt.call(this, a, b);\n\n    if (this.cv()) {\n      this.uq(this.p6, true);\n    } else {\n      this.uq(this.p4, false);\n    }\n  };\n\n  CalloutLayer.prototype.em = function () {\n    return true;\n  };\n\n  CalloutLayer.prototype.l3 = function (a, b, c, d) {\n    _super.prototype.l3.call(this, a, b, c, d);\n\n    switch (b) {\n      case CalloutLayer.$$p[24]:\n        this.rn = null;\n        this.rg.cf();\n        this.mh(true);\n        break;\n\n      case CalloutLayer.$$p[22]:\n      case CalloutLayer.$$p[23]:\n        this.mh(true);\n        break;\n\n      case CalloutLayer.$$p[14]:\n        this.mh(true);\n        break;\n\n      case \"SeriesViewer\":\n        if (c != null) {\n          var e = c;\n          e.seriesAnimating = delegateRemove(e.seriesAnimating, runOn(this, this.up));\n        }\n\n        if (d != null) {\n          var f = d;\n          f.seriesAnimating = delegateCombine(f.seriesAnimating, runOn(this, this.up));\n        }\n\n        if (d == null) {\n          this.ui();\n        }\n\n        break;\n\n      case \"AutoCalloutVisibilityMode\":\n        this.ra = this.rc();\n        this.uj();\n        break;\n\n      case \"AllowedPositions\":\n        if (c != null) {\n          var g = c;\n          g.collectionChanged = delegateRemove(g.collectionChanged, runOn(this, this.ud));\n        }\n\n        if (d != null) {\n          var h = d;\n          h.collectionChanged = delegateCombine(h.collectionChanged, runOn(this, this.ud));\n        }\n\n        this.q7 = this.q8(this.ri);\n        this.uj();\n        break;\n\n      case CalloutLayer.$$p[16]:\n      case CalloutLayer.$$p[17]:\n      case CalloutLayer.$$p[1]:\n      case CalloutLayer.$$p[6]:\n      case CalloutLayer.$$p[5]:\n      case CalloutLayer.$$p[25]:\n      case CalloutLayer.$$p[26]:\n      case CalloutLayer.$$p[19]:\n      case CalloutLayer.$$p[18]:\n      case CalloutLayer.$$p[8]:\n      case CalloutLayer.$$p[10]:\n      case CalloutLayer.$$p[9]:\n      case CalloutLayer.$$p[7]:\n      case CalloutLayer.$$p[12]:\n      case CalloutLayer.$$p[13]:\n        this.uj();\n        break;\n\n      case CalloutLayer.$$p[21]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.rw);\n          this.rw = this.cj(this.tx);\n        }\n\n        break;\n\n      case \"LabelColumn\":\n        this.uj();\n        break;\n\n      case CalloutLayer.$$p[15]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.ru);\n          this.ru = this.cj(this.tn);\n        }\n\n        break;\n\n      case \"ContentColumn\":\n        this.uj();\n        break;\n\n      case CalloutLayer.$$p[28]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.rx);\n          this.rx = stringIsNullOrEmpty(this.t8) == false ? this.cj(this.t8) : null;\n        }\n\n        break;\n\n      case \"XColumn\":\n        this.uj();\n        break;\n\n      case CalloutLayer.$$p[29]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.ry);\n          this.ry = this.cj(this.ub);\n        }\n\n        break;\n\n      case \"YColumn\":\n        this.uj();\n        break;\n\n      case CalloutLayer.$$p[20]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.rv);\n          this.rv = this.cj(this.tu);\n        }\n\n        break;\n\n      case \"KeyColumn\":\n        this.uj();\n        break;\n\n      case \"FastItemsSource\":\n        this.r4 = true;\n\n        if (typeCast(IFastItemsSource_$type, c) != null) {\n          c.deregisterColumn(this.rw);\n          c.deregisterColumn(this.ru);\n          c.deregisterColumn(this.rx);\n          c.deregisterColumn(this.ry);\n          c.deregisterColumn(this.rv);\n          this.rw = null;\n          this.ru = null;\n          this.rx = null;\n          this.ry = null;\n          this.rv = null;\n          this.sn.clear();\n        }\n\n        if (typeCast(IFastItemsSource_$type, d) != null) {\n          this.rw = this.cj(this.tx);\n          this.ru = this.cj(this.tn);\n\n          if (stringIsNullOrEmpty(this.t8) == false) {\n            this.rx = this.cj(this.t8);\n          }\n\n          this.ry = this.cj(this.ub);\n          this.rv = this.cj(this.tu);\n        }\n\n        this.uj();\n        break;\n    }\n  };\n\n  CalloutLayer.prototype.rc = function () {\n    if (this.rb == 0) {\n      return 1;\n    }\n\n    return this.rb;\n  };\n\n  CalloutLayer.prototype.q8 = function (a) {\n    if (a == null || a.count == 0) {\n      return null;\n    }\n\n    var b = new Array(a.count);\n\n    for (var c = 0; c < a.count; c++) {\n      b[c] = a._inner[c];\n    }\n\n    return b;\n  };\n\n  CalloutLayer.prototype.up = function (a) {\n    if (a.dc) {\n      return;\n    }\n\n    if ((a == this.rm || this.rm == null) && this.sa) {\n      this.mh(false);\n    }\n  };\n\n  CalloutLayer.prototype.uj = function () {\n    if (this.r3 == false) {\n      this.r3 = true;\n      this.mh(false);\n    }\n  };\n\n  CalloutLayer.prototype.uh = function () {\n    this.rg.b8.clear();\n    this.sk.g();\n    this.sh.clear();\n  };\n\n  CalloutLayer.prototype.uk = function () {\n    if (this.ry == null || this.rw == null) {\n      var a = this.sk.c;\n\n      while (a != null) {\n        this.us(a.c);\n        a = a.a;\n      }\n\n      return;\n    }\n\n    var b = this.si();\n\n    for (var c = 0; c < this.ry.count; c++) {\n      var d = void 0;\n\n      if (this.sn.count <= c) {\n        var e = new CalloutAnnotation();\n        d = new CalloutAnnotationWrapper();\n        d.b = e;\n        d.b.series = this.rm;\n        this.sn.add(d);\n      } else {\n        d = this.sn._inner[c];\n      }\n\n      this.ur(c, b);\n    }\n  };\n\n  CalloutLayer.$t = markType(CalloutLayer, 'CalloutLayer', AnnotationLayer.$);\n  CalloutLayer.u7 = DependencyProperty.i(\"AutoCalloutVisibilityMode\", AutoCalloutVisibilityMode_$type, CalloutLayer.$, new PropertyMetadata(2, enumGetBox(AutoCalloutVisibilityMode_$type, 0), function (a, b) {\n    return a.raisePropertyChanged(\"AutoCalloutVisibilityMode\", b.oldValue, b.newValue);\n  }));\n  CalloutLayer.$$p = markDep(DependencyProperty, PropertyMetadata, CalloutLayer, 'raisePropertyChanged', ['AutoCalloutLabelPrecision:sz:ut', [1, 5], 'CalloutBackground:vo:uu', [Brush.$, null], 'CalloutCollisionMode:rd:uv', [CalloutCollisionMode_$type, enumGetBox(CalloutCollisionMode_$type, 3)], 'CalloutCornerRadius:sq:uw', [1, NaN], 'CalloutInterpolatedValuePrecision:s0:ux', [1, -1], 'CalloutLeaderBrush:vp:uy', [Brush.$, null], 'CalloutOutline:vq:uz', [Brush.$, null], 'CalloutPaddingBottom:sr:u0', [1, NaN], 'CalloutPaddingLeft:ss:u1', [1, NaN], 'CalloutPaddingRight:st:u2', [1, NaN], 'CalloutPaddingTop:su:u3', [1, NaN], 'CalloutPositionPadding:sv:u4', [1, 10], 'CalloutStrokeThickness:sw:u5', [1, NaN], 'CalloutTextColor:vr:u6', [Brush.$, null], 'CollisionChannel:tk:u8', [2, null], 'ContentMemberPath:tn:u9', [2, null], 'IsAutoCalloutBehaviorEnabled:sa:va', [0, false], 'IsCalloutOffsettingEnabled:sb:vb', [0, true], 'IsCustomCalloutRenderStyleEnabled:sc:vc', [0, false], 'IsCustomCalloutStyleEnabled:sd:vd', [0, false], 'KeyMemberPath:tu:ve', [2, null], 'LabelMemberPath:tx:vf', [2, null], 'TargetSeriesName:tz:vg', [2, null], 'TargetSeries:rm:vh', [Series.$, null], 'TextStyle:t2:vi', [2, null], 'UseInterpolatedValueForAutoCalloutLabels:se:vj', [0, false], 'UseSeriesColorForOutline:sf:vk', [0, false], 'UseValueForAutoCalloutLabels:sg:vl', [0, true], 'XMemberPath:t8:vm', [2, null], 'YMemberPath:ub:vn', [2, null]]);\n  return CalloutLayer;\n}(AnnotationLayer);\n\nexport { CalloutLayer };\n/**\n * @hidden\n */\n\nvar CalloutLayerView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CalloutLayerView, _super);\n\n  function CalloutLayerView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b4 = null;\n    _this.b9 = null;\n    _this.b8 = null;\n    _this.ca = NaN;\n    _this.b5 = null;\n    _this.b4 = a;\n    _this.b9 = new List$1(CalloutView.$, 0);\n    return _this;\n  }\n\n  CalloutLayerView.prototype.as = function () {\n    var _this = this;\n\n    _super.prototype.as.call(this);\n\n    this.b8 = function () {\n      var $ret = new HashPool$2(CalloutAnnotationWrapper.$, CalloutView.$);\n      $ret.create = runOn(_this, _this.b6);\n      $ret.activate = runOn(_this, _this.cc);\n      $ret.disactivate = runOn(_this, _this.ce);\n      $ret.destroy = runOn(_this, _this.cd);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.b6 = function () {\n    var a = new CalloutView(this);\n    this.b9.add(a);\n    return a;\n  };\n\n  CalloutLayerView.prototype.cc = function (a) {\n    a.y = 0;\n  };\n\n  CalloutLayerView.prototype.ce = function (a) {\n    a.y = 1;\n  };\n\n  CalloutLayerView.prototype.cd = function (a) {\n    this.b9.remove(a);\n  };\n\n  CalloutLayerView.prototype.cm = function (a) {\n    if (a == null) {\n      return a;\n    }\n\n    return BrushUtil.l(a, 0.1);\n  };\n\n  CalloutLayerView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    a.ac(this.b7());\n\n    if (a.d && !b) {\n      for (var c = 0; c < this.b9.count; c++) {\n        var d = this.b9._inner[c];\n\n        if (d.y == 0) {\n          d.j(a);\n        }\n      }\n    }\n  };\n\n  CalloutLayerView.prototype.b7 = function () {\n    if (this.b4.ro != null) {\n      return this.b4.ro;\n    }\n\n    return this.e.cd.getFontInfo();\n  };\n\n  CalloutLayerView.prototype.al = function (a) {\n    _super.prototype.al.call(this, a);\n\n    for (var b = 0; b < this.b9.count; b++) {\n      var c = this.b9._inner[b];\n\n      if (c.y != 0) {\n        continue;\n      }\n\n      c.i(this.b4, this.b7(), a);\n    }\n  };\n\n  CalloutLayerView.prototype.co = function (a) {\n    this.k.ac(this.b7());\n    this.ca = this.cb();\n    var b = this.k.ag(a, this.ca, true);\n    return new Size(1, b.c, b.b);\n  };\n\n  CalloutLayerView.prototype.cb = function () {\n    var a = this.b7();\n\n    if (isNaN_(this.ca)) {\n      var b = FontUtil.getCurrentFontHeight(this.e.cd.cq.j.ae, a);\n      this.ca = b;\n    }\n\n    return this.ca;\n  };\n\n  CalloutLayerView.prototype.cn = function (a, b) {\n    if (this.b5 == null) {\n      this.b5 = new CalloutView(this);\n    }\n\n    this.b5.h = a;\n    this.b5.x = b;\n    var c = this.b5.u();\n    this.b5.h = null;\n    return c;\n  };\n\n  CalloutLayerView.prototype.cg = function (a, b, c) {\n    a.f = b;\n    a.g = c;\n  };\n\n  CalloutLayerView.prototype.ch = function (a, b, c) {\n    a.k(this.e, b, c);\n  };\n\n  CalloutLayerView.prototype.ci = function (a) {\n    if (a != null) {\n      return this.cm(a.o3);\n    }\n\n    return this.e.o3;\n  };\n\n  CalloutLayerView.prototype.cl = function () {\n    return function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 255, 255, 255);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.ck = function (a) {\n    if (this.b4.sf) {\n      if (a != null) {\n        return this.cm(a.o3);\n      }\n    }\n\n    return function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 255, 255, 255);\n      return $ret;\n    }();\n  };\n\n  CalloutLayerView.prototype.cj = function (a) {\n    if (a != null) {\n      return this.cm(a.oy);\n    }\n\n    return this.e.oy;\n  };\n\n  CalloutLayerView.prototype.cf = function () {\n    this.ca = NaN;\n  };\n\n  CalloutLayerView.$t = markType(CalloutLayerView, 'CalloutLayerView', AnnotationLayerView.$);\n  return CalloutLayerView;\n}(AnnotationLayerView);\n\nexport { CalloutLayerView };\n/**\n * @hidden\n */\n\nvar CalloutView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CalloutView, _super);\n\n  function CalloutView(a) {\n    var _this = _super.call(this) || this;\n\n    _this.a = null;\n    _this.y = 0;\n    _this.l = null;\n    _this.t = null;\n    _this.q = {\n      $type: Point_$type,\n      x: 0,\n      y: 0\n    };\n    _this.s = null;\n    _this.w = new Thickness(0, 0);\n    _this.v = null;\n    _this.c = 0;\n    _this.f = 0;\n    _this.g = 0;\n    _this.b = null;\n    _this.s = new Line();\n    _this.s.ab = false;\n\n    _this.s._stroke = function () {\n      var $ret = new Brush();\n      $ret.color = Color.u(255, 0, 0, 0);\n      return $ret;\n    }();\n\n    _this.s.ac = 2;\n    _this.l = new TextBlock();\n    _this.t = new Rectangle();\n    _this.t.ac = 0;\n    _this.a = a;\n    _this.y = 0;\n    return _this;\n  }\n\n  CalloutView.prototype.j = function (a) {\n    a.z();\n    a.af(this.f, this.g);\n    var b = new TranslateTransform();\n    b.j = this.v.left;\n    b.k = this.v.top;\n    this.t.j = b;\n    a.r(this.s);\n    a.z();\n    this.t.width = this.l.m + this.w.left + this.w.right;\n    this.t.height = this.l.l + this.w.top + this.w.bottom;\n    this.t.am = this.c;\n    this.t.an = this.c;\n    a.j(this.t.j);\n    a.v(this.t);\n    this.l.ag = true;\n    this.l.o = this.w.top;\n    this.l.n = this.w.left;\n    a.w(this.l);\n    a.y();\n    a.y();\n  };\n\n  Object.defineProperty(CalloutView.prototype, \"r\", {\n    get: function get() {\n      return this.q;\n    },\n    set: function set(a) {\n      if (this.q.x != a.x || this.q.y != a.y) {\n        var b = this.u();\n        var c = b.height;\n        var d = b.width;\n        this.q = a;\n        var e = CalloutViewHelper.b(this.r, d, c, this.s);\n        this.v = e;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"p\", {\n    get: function get() {\n      return this.l.ao;\n    },\n    set: function set(a) {\n      this.l.ao = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"o\", {\n    get: function get() {\n      return this.t._stroke;\n    },\n    set: function set(a) {\n      this.t._stroke = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"n\", {\n    get: function get() {\n      return this.s._stroke;\n    },\n    set: function set(a) {\n      this.s._stroke = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"m\", {\n    get: function get() {\n      return this.t._fill;\n    },\n    set: function set(a) {\n      this.t._fill = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"e\", {\n    get: function get() {\n      return this.t.ac;\n    },\n    set: function set(a) {\n      this.t.ac = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"x\", {\n    get: function get() {\n      return this.w;\n    },\n    set: function set(a) {\n      this.w = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"d\", {\n    get: function get() {\n      return this.c;\n    },\n    set: function set(a) {\n      this.c = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CalloutView.prototype, \"h\", {\n    get: function get() {\n      return this.l.al;\n    },\n    set: function set(a) {\n      if (a == null) {\n        this.l.al = \"\";\n      } else {\n        this.l.al = a.toString();\n      }\n\n      var b = this.u();\n      var c = b.height;\n      var d = b.width;\n      var e = CalloutViewHelper.b(this.r, d, c, this.s);\n      this.v = e;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CalloutView.prototype.u = function () {\n    var a = this.a.co(this.l);\n    this.l.m = a.width;\n    this.l.l = a.height;\n    return new Size(1, a.width + this.w.left + this.w.right, a.height + this.w.top + this.w.bottom);\n  };\n\n  CalloutView.prototype.k = function (a, b, c) {\n    if (this.b == null) {\n      this.b = new DataContext();\n    }\n\n    this.b.series = a;\n    this.b.item = c;\n\n    if (b.c != null) {\n      b.c.u = this.b;\n    }\n  };\n\n  CalloutView.prototype.i = function (a, b, c) {\n    a.a8.exportCalloutData(this.f, this.g, this.v.left, this.v.top, c, this.t, this.l, b, this.s, \"callout\", [\"Main\", \"Callout\"]);\n  };\n\n  CalloutView.$t = markType(CalloutView, 'CalloutView');\n  return CalloutView;\n}(Base);\n\nexport { CalloutView };","map":{"version":3,"names":["__extends","__values","AnnotationLayer","DependencyProperty","Base","runOn","delegateCombine","String_$type","enumGetBox","EnumUtil","typeCast","fromEnum","delegateRemove","Point_$type","Date_$type","markType","markDep","Series","CalloutPlacementPositionsCollection","AutoCalloutVisibilityMode_$type","Brush","Thickness","CalloutCollisionMode_$type","FontUtil","Rect","CalloutLayerFrame","HashSet$1","CalloutAnnotationWrapper","List$1","LinkedList$1","Dictionary$2","LinkedListNode$1","LabelCollisionManager","SeriesPointOfInterest","CalloutAnnotation","IFastItemsSource_$type","CalloutLabelUpdatingEventArgs","CalloutSeriesSelectingEventArgs","CalloutStyleUpdatingEventArgs","DeviceUtils","CalloutRenderStyleUpdatingEventArgs","LabelCollisionInfo","QuadTreeBoundingBox","ScalerParams","ViewportUtils","Size","CalloutContentUpdatingEventArgs","CalloutKey","DataContext","HashPool$2","PropertyMetadata","isNaN_","stringIsNullOrEmpty","FastItemObjectColumn","AnnotationLayerView","BrushUtil","TextBlock","Color","Line","CalloutViewHelper","Rectangle","TranslateTransform","CalloutLayer","_super","_this","call","calloutStyleUpdating","calloutRenderStyleUpdating","rr","rs","rt","rq","rp","sj","$","sm","sn","rh","q7","rn","sk","sh","specialize","rz","vt","r6","sy","vs","empty","r4","r5","calloutContentUpdating","calloutLabelUpdating","calloutSeriesSelecting","sl","r8","r9","sp","r7","r3","q9","m","a","collectionChanged","ud","qd","b","c","d","e","hm","p5","p4","p6","ab","prototype","get_c8","um","q8","ri","uj","ue","clear","mh","k0","si","ur","f","g","h","series","rm","insert","v","i","j","ck","count","k","l","add","eo","cd","_inner","name","containsKey","addItem","ry","rw","rx","item","rv","key","xValue","yValue","$ret","equalsStatic","ao","text","toString","ru","content","us","vv","left","top","right","bottom","sq","vo","rg","ci","vr","cl","vq","vp","cj","sw","sd","aa","ac","ad","background","textColor","outline","leaderBrush","strokeThickness","backgroundPadding","backgroundCornerRadius","hw","jq","$$p","hx","tx","t8","ub","tu","tn","Object","defineProperty","get","set","raisePropertyChanged","enumerable","configurable","ug","propertyName","contains","add_1","bx","CalloutLayerView","ly","getEnumValue","u7","ss","su","st","sr","toFontInfo","g9","t2","qo","as","qq","e_1","_a","q","r","n","o","p","u","s","t","so","sa","qb","uo","_b","_c","next","done","value","dc","isVertical","e_1_1","error","return","ra","Math","min","abs","max","un","m5","width","height","py","m4","equals1","e_2","sf","isEmpty","vu","tk","ap","ui","r0","labelsMoved","uf","pq","b0","Array","e_2_1","sv","r1","s2","s1","sb","an","al","a3","propertyChanged","removeItem","a2","w","x","y","r2","z","aq","az","am","ae","af","ag","a5","a4","ar","ah","ai","aj","ak","at","au","av","aw","ax","ay","sc","a0","bk","bm","bl","bn","a1","actualPosition","add1","uh","rd","gc","length","b8","co","cn","ca","categoryMode","dp","getOffsetValue","dg","kc","cg","j7","ei","sx","$type","cos","sin","getTime","s3","tz","du","jp","lr","cv","uk","uq","ul","c1","sg","se","sz","_loop_1","this_1","bp","ev","e_3","bq","ch","e_3_1","qt","em","l3","cf","seriesAnimating","up","rc","deregisterColumn","rb","$t","oldValue","newValue","NaN","b4","b9","b5","CalloutView","create","b6","activate","cc","disactivate","ce","destroy","remove","cm","a6","b7","ro","getFontInfo","cb","getCurrentFontHeight","cq","o3","color","oy","_stroke","_fill","a8","exportCalloutData"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-charts/esm5/lib/CalloutLayer_combined.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { AnnotationLayer } from \"./AnnotationLayer\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Base, runOn, delegateCombine, String_$type, enumGetBox, EnumUtil, typeCast, fromEnum, delegateRemove, Point_$type, Date_$type, markType, markDep } from \"igniteui-react-core\";\nimport { Series } from \"./Series\";\nimport { CalloutPlacementPositionsCollection } from \"./CalloutPlacementPositionsCollection\";\nimport { AutoCalloutVisibilityMode_$type } from \"./AutoCalloutVisibilityMode\";\nimport { Brush } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { CalloutCollisionMode_$type } from \"./CalloutCollisionMode\";\nimport { FontUtil } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { CalloutLayerFrame } from \"./CalloutLayerFrame\";\nimport { HashSet$1 } from \"igniteui-react-core\";\nimport { CalloutAnnotationWrapper } from \"./CalloutAnnotationWrapper\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { LinkedList$1 } from \"igniteui-react-core\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { LinkedListNode$1 } from \"igniteui-react-core\";\nimport { LabelCollisionManager } from \"igniteui-react-core\";\nimport { SeriesPointOfInterest } from \"./SeriesPointOfInterest\";\nimport { CalloutAnnotation } from \"./CalloutAnnotation\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { CalloutLabelUpdatingEventArgs } from \"./CalloutLabelUpdatingEventArgs\";\nimport { CalloutSeriesSelectingEventArgs } from \"./CalloutSeriesSelectingEventArgs\";\nimport { CalloutStyleUpdatingEventArgs } from \"./CalloutStyleUpdatingEventArgs\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { CalloutRenderStyleUpdatingEventArgs } from \"./CalloutRenderStyleUpdatingEventArgs\";\nimport { LabelCollisionInfo } from \"igniteui-react-core\";\nimport { QuadTreeBoundingBox } from \"igniteui-react-core\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ViewportUtils } from \"./ViewportUtils\";\nimport { Size } from \"igniteui-react-core\";\nimport { CalloutContentUpdatingEventArgs } from \"./CalloutContentUpdatingEventArgs\";\nimport { CalloutKey } from \"./CalloutKey\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { HashPool$2 } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_ } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { FastItemObjectColumn } from \"igniteui-react-core\";\nimport { AnnotationLayerView } from \"./AnnotationLayerView\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { TextBlock } from \"igniteui-react-core\";\nimport { Color } from \"igniteui-react-core\";\nimport { Line } from \"igniteui-react-core\";\nimport { CalloutViewHelper } from \"./CalloutViewHelper\";\nimport { Rectangle } from \"igniteui-react-core\";\nimport { TranslateTransform } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar CalloutLayer = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CalloutLayer, _super);\n    function CalloutLayer() {\n        var _this = _super.call(this) || this;\n        _this.calloutStyleUpdating = null;\n        _this.calloutRenderStyleUpdating = null;\n        _this.rr = null;\n        _this.rs = null;\n        _this.rt = null;\n        _this.rq = null;\n        _this.rp = null;\n        _this.sj = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        _this.sm = new List$1(CalloutAnnotationWrapper.$, 0);\n        _this.sn = new List$1(CalloutAnnotationWrapper.$, 0);\n        _this.rh = null;\n        _this.q7 = null;\n        _this.rn = null;\n        _this.sk = new LinkedList$1(CalloutAnnotationWrapper.$);\n        _this.sh = new Dictionary$2(CalloutAnnotationWrapper.$, LinkedListNode$1.$.specialize(CalloutAnnotationWrapper.$), 0);\n        _this.rz = null;\n        _this.vt = new Rect(0, 0, 0, 1, 1);\n        _this.r6 = false;\n        _this.sy = 0;\n        _this.vs = Rect.empty;\n        _this.r4 = false;\n        _this.r5 = false;\n        _this.calloutContentUpdating = null;\n        _this.calloutLabelUpdating = null;\n        _this.calloutSeriesSelecting = null;\n        _this.sl = new List$1(SeriesPointOfInterest.$, 0);\n        _this.r8 = false;\n        _this.r9 = false;\n        _this.sp = 0;\n        _this.r7 = false;\n        _this.r3 = true;\n        _this.q9 = 1;\n        FastItemObjectColumn.m();\n        _this.q7 = null;\n        _this.rh = new CalloutPlacementPositionsCollection();\n        var a = _this.rh;\n        a.collectionChanged = delegateCombine(a.collectionChanged, runOn(_this, _this.ud));\n        _this.qd = true;\n        var b = new CalloutLayerFrame();\n        var c = new CalloutLayerFrame();\n        var d = new CalloutLayerFrame();\n        var e = _this.hm / 1000;\n        _this.p5 = b;\n        _this.p4 = c;\n        _this.p6 = d;\n        _this.ab = CalloutLayer.$;\n        return _this;\n    }\n    CalloutLayer.prototype.get_c8 = function () {\n        return true;\n    };\n    CalloutLayer.prototype.ud = function (a, b) {\n        this.um();\n    };\n    CalloutLayer.prototype.um = function () {\n        this.q7 = this.q8(this.ri);\n        this.uj();\n    };\n    CalloutLayer.prototype.ue = function (a, b) {\n        this.sn.clear();\n        this.mh(false);\n    };\n    CalloutLayer.prototype.k0 = function (a, b, c, d) {\n        _super.prototype.k0.call(this, a, b, c, d);\n        var e = this.si();\n        switch (a) {\n            case 3:\n                this.ur(b, e);\n                break;\n            case 1:\n                for (var f = b; f < b + c; f++) {\n                    var g = new CalloutAnnotation();\n                    var h = new CalloutAnnotationWrapper();\n                    h.b = g;\n                    h.b.series = this.rm;\n                    this.sn.insert(f, h);\n                    this.ur(f, e);\n                }\n                break;\n            case 0:\n                this.sn.v(b, c);\n                break;\n            case 2:\n                for (var i = b; i < b + c; i++) {\n                    this.ur(i, e);\n                }\n                break;\n            case 4:\n                this.sn.clear();\n                for (var j = 0; j < this.ck.count; j++) {\n                    var k = new CalloutAnnotation();\n                    var l = new CalloutAnnotationWrapper();\n                    l.b = k;\n                    l.b.series = this.rm;\n                    this.sn.add(l);\n                    this.ur(j, e);\n                }\n                break;\n        }\n        this.mh(true);\n    };\n    CalloutLayer.prototype.eo = function (a) {\n        return false;\n    };\n    CalloutLayer.prototype.si = function () {\n        var a = new Dictionary$2(String_$type, Series.$, 0);\n        if (this.cd != null) {\n            for (var b = 0; b < this.cd.series.count; b++) {\n                var c = this.cd.series._inner[b];\n                if (c.name != null && !a.containsKey(c.name)) {\n                    a.addItem(c.name, c);\n                }\n            }\n        }\n        return a;\n    };\n    CalloutLayer.prototype.ur = function (a, b) {\n        var _this = this;\n        if (this.ry == null || this.rw == null) {\n            return;\n        }\n        var c = a;\n        if (this.rx != null) {\n            c = this.rx.item(a);\n        }\n        var d = this.ry.item(a);\n        var e = this.rw.item(a);\n        var f = this.sn._inner[a];\n        if (this.rv != null) {\n            if (f.b.ab != this.rv.item(a)) {\n                f.b.key = this.rv.item(a);\n            }\n        }\n        if (this.sh.containsKey(f)) {\n            f.b = this.sh.item(f).c.b;\n        }\n        f.b.xValue = c;\n        f.b.yValue = d;\n        if (this.calloutLabelUpdating != null) {\n            var g = ((function () {\n                var $ret = new CalloutLabelUpdatingEventArgs();\n                $ret.c = c;\n                $ret.d = d;\n                $ret.item = _this.ck.item(a);\n                return $ret;\n            })());\n            this.calloutLabelUpdating(this, g);\n            if (g.b != null && !Base.equalsStatic(g.b, f.b.ao)) {\n                var h = g.b;\n                f.b.text = h != null ? h.toString() : \"\";\n            }\n        }\n        else {\n            f.b.text = e != null ? e.toString() : \"\";\n        }\n        if (this.ru != null) {\n            f.b.content = this.ru.item(a);\n        }\n        else {\n            f.b.content = this.ck.item(a);\n        }\n        if (this.calloutSeriesSelecting != null) {\n            var i = ((function () {\n                var $ret = new CalloutSeriesSelectingEventArgs();\n                $ret.c = c;\n                $ret.d = d;\n                $ret.item = _this.ck.item(a);\n                return $ret;\n            })());\n            this.calloutSeriesSelecting(this, i);\n            if (i.a != null) {\n                f.b.series = i.a;\n            }\n            else if (i.e != null) {\n                if (b.containsKey(i.e)) {\n                    f.b.series = b.item(i.e);\n                }\n            }\n        }\n        this.us(f);\n    };\n    CalloutLayer.prototype.us = function (a) {\n        var b = new Thickness(0, DeviceUtils.g(3));\n        if (isNaN_(this.vv.left) || isNaN_(this.vv.top) || isNaN_(this.vv.right) || isNaN_(this.vv.bottom)) {\n            b = new Thickness(0, DeviceUtils.g(3));\n        }\n        else {\n            b = this.vv;\n        }\n        var c = DeviceUtils.g(3);\n        if (isNaN_(this.sq)) {\n            c = DeviceUtils.g(3);\n        }\n        else {\n            c = this.sq;\n        }\n        var d = this.vo != null ? this.vo : this.rg.ci(a.b.l);\n        var e = this.vr != null ? this.vr : this.rg.cl();\n        var f = this.vq != null ? this.vq : this.rg.ck(a.b.l);\n        var g = this.vp != null ? this.vp : this.rg.cj(a.b.l);\n        var h = isNaN_(this.sw) ? 0 : this.sw;\n        if (this.sd && this.calloutStyleUpdating != null) {\n            var i = new CalloutStyleUpdatingEventArgs();\n            i.item = a.b.aa;\n            i.xValue = a.b.ac;\n            i.yValue = a.b.ad;\n            i.series = a.b.l;\n            i.background = d;\n            i.textColor = e;\n            i.outline = f;\n            i.leaderBrush = g;\n            i.strokeThickness = h;\n            this.calloutStyleUpdating(this, i);\n            d = i.background;\n            e = i.textColor;\n            f = i.outline;\n            g = i.leaderBrush;\n            h = i.strokeThickness;\n        }\n        a.b.backgroundPadding = b;\n        a.b.backgroundCornerRadius = c;\n        a.b.background = d;\n        a.b.textColor = e;\n        a.b.outline = f;\n        a.b.leaderBrush = g;\n        a.b.strokeThickness = h;\n    };\n    CalloutLayer.prototype.hw = function (a, b) {\n        var c = this.jq(b);\n        if (c == CalloutLayer.$$p[21]) {\n            return this.hx(a, b, this.tx);\n        }\n        if (c == CalloutLayer.$$p[28]) {\n            return this.hx(a, b, this.t8);\n        }\n        if (c == CalloutLayer.$$p[29]) {\n            return this.hx(a, b, this.ub);\n        }\n        if (c == CalloutLayer.$$p[20]) {\n            return this.hx(a, b, this.tu);\n        }\n        if (c == CalloutLayer.$$p[15]) {\n            return this.hx(a, b, this.tn);\n        }\n        return _super.prototype.hw.call(this, a, b);\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"rw\", {\n        get: function () {\n            return this.rr;\n        },\n        set: function (a) {\n            if (this.rr != a) {\n                var b = this.rr;\n                this.rr = a;\n                this.raisePropertyChanged(\"LabelColumn\", b, this.rr);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"rx\", {\n        get: function () {\n            return this.rs;\n        },\n        set: function (a) {\n            if (this.rs != a) {\n                var b = this.rs;\n                this.rs = a;\n                this.raisePropertyChanged(\"XColumn\", b, this.rs);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"ry\", {\n        get: function () {\n            return this.rt;\n        },\n        set: function (a) {\n            if (this.rt != a) {\n                var b = this.rt;\n                this.rt = a;\n                this.raisePropertyChanged(\"YColumn\", b, this.rt);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"rv\", {\n        get: function () {\n            return this.rq;\n        },\n        set: function (a) {\n            if (this.rq != a) {\n                var b = this.rq;\n                this.rq = a;\n                this.raisePropertyChanged(\"KeyColumn\", b, this.rq);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"ru\", {\n        get: function () {\n            return this.rp;\n        },\n        set: function (a) {\n            if (this.rp != a) {\n                var b = this.rp;\n                this.rp = a;\n                this.raisePropertyChanged(\"ContentColumn\", b, this.rp);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutLayer.prototype.ug = function (a, b) {\n        if (b.propertyName == CalloutAnnotation.$$p[14] || b.propertyName == CalloutAnnotation.$$p[15]) {\n            var c = a.k;\n            if (!this.sj.contains(c)) {\n                this.sj.add_1(c);\n                this.sm.add(c);\n                this.mh(false);\n            }\n        }\n    };\n    CalloutLayer.prototype.bx = function () {\n        return new CalloutLayerView(this);\n    };\n    CalloutLayer.prototype.ly = function (a) {\n        _super.prototype.ly.call(this, a);\n        this.rg = a;\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"ri\", {\n        get: function () {\n            return this.rh;\n        },\n        set: function (a) {\n            var b = this.ri;\n            if (a != b) {\n                this.rh = a;\n                this.raisePropertyChanged(\"AllowedPositions\", b, this.ri);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"rb\", {\n        get: function () {\n            return EnumUtil.getEnumValue(AutoCalloutVisibilityMode_$type, this.c(CalloutLayer.u7));\n        },\n        set: function (a) {\n            this.h(CalloutLayer.u7, enumGetBox(AutoCalloutVisibilityMode_$type, a));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"ra\", {\n        get: function () {\n            return this.q9;\n        },\n        set: function (a) {\n            this.q9 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"vv\", {\n        get: function () {\n            return new Thickness(1, this.ss, this.su, this.st, this.sr);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutLayer.prototype, \"ro\", {\n        get: function () {\n            if (this.rn == null) {\n                this.rn = FontUtil.toFontInfo(this.g9, this.t2);\n            }\n            return this.rn;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutLayer.prototype.qo = function (a, b) {\n        if (this.rm == null || this.rm == a) {\n            if (!this.as.c) {\n                this.mh(b);\n            }\n        }\n    };\n    CalloutLayer.prototype.qq = function (a, b) {\n        var e_1, _a;\n        _super.prototype.qq.call(this, a, b);\n        var c = a;\n        c.q.clear();\n        c.r.clear();\n        c.n.clear();\n        c.f.clear();\n        c.i.clear();\n        c.h.clear();\n        c.k.clear();\n        c.m.clear();\n        c.l.clear();\n        c.j.clear();\n        c.g.clear();\n        c.o.clear();\n        c.p.clear();\n        c.u.clear();\n        c.v.clear();\n        c.s.clear();\n        c.t.clear();\n        var d = this.so();\n        var e = new List$1(CalloutAnnotationWrapper.$, 0);\n        var f = true;\n        if (this.sa) {\n            if (this.qb(this.rm)) {\n                this.uo(this.rm, c, e);\n            }\n            else {\n                try {\n                    for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var g = _c.value;\n                        if (this.qb(g)) {\n                            if (!g.dc) {\n                                if (!g.isVertical) {\n                                    f = false;\n                                }\n                            }\n                            this.uo(g, c, e);\n                        }\n                    }\n                }\n                catch (e_1_1) {\n                    e_1 = { error: e_1_1 };\n                }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return))\n                            _a.call(_b);\n                    }\n                    finally {\n                        if (e_1)\n                            throw e_1.error;\n                    }\n                }\n            }\n        }\n        if (this.sa && this.ra == 2) {\n            var h = 0;\n            var i = 0;\n            var j = 1.7976931348623157E+308;\n            var k = 1.7976931348623157E+308;\n            var l = -1.7976931348623157E+308;\n            var m = -1.7976931348623157E+308;\n            if (e.count > 0) {\n                if (e._inner[0].c != null) {\n                    h = e._inner[0].e;\n                    i = e._inner[0].f;\n                }\n                for (var n = 0; n < e.count; n++) {\n                    var o = e._inner[n];\n                    if (o.c != null) {\n                        var p = o.e;\n                        var q = o.f;\n                        if (p != h) {\n                            j = Math.min(j, Math.abs(p - h));\n                        }\n                        if (q != i) {\n                            k = Math.min(k, Math.abs(q - i));\n                        }\n                        l = Math.max(o.c.l + o.c.l, l);\n                        m = Math.max(o.c.k + o.c.k, m);\n                    }\n                }\n                if (f) {\n                    if (m > k) {\n                        e.clear();\n                    }\n                }\n                else {\n                    if (l > j) {\n                        e.clear();\n                    }\n                }\n            }\n        }\n        this.un(c, d, e);\n    };\n    CalloutLayer.prototype.m5 = function (a, b) {\n        _super.prototype.m5.call(this, a, b);\n        var c = b.width - this.vt.width;\n        var d = b.height - this.vt.height;\n        var e = 0;\n        if (Math.abs(c) > Math.abs(d)) {\n            e = c;\n            this.sp = c * this.py.width;\n        }\n        else {\n            e = d;\n            this.sp = d * this.py.height;\n        }\n        if (e > 0 && this.sp > 5) {\n            this.r9 = true;\n        }\n        if (e < 0 && this.sp > 5) {\n            this.r8 = true;\n        }\n    };\n    CalloutLayer.prototype.m4 = function (a, b) {\n        _super.prototype.m4.call(this, a, b);\n        if (!a.equals1(b)) {\n            this.r7 = true;\n        }\n    };\n    Object.defineProperty(CalloutLayer.prototype, \"vu\", {\n        get: function () {\n            return this.vs;\n        },\n        set: function (a) {\n            this.vs = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutLayer.prototype.un = function (a, b, c) {\n        var e_2, _a;\n        if (this.cd != null) {\n            this.vt = this.cd.sf;\n        }\n        if (this.py.isEmpty) {\n            return;\n        }\n        this.vu = new Rect(0, this.py.left, this.py.top, this.py.width, this.py.height);\n        if (this.rz != null && this.tk != null && this.tk != this.rz.ap) {\n            this.ui();\n        }\n        if (this.rz == null) {\n            var d = this.r0();\n            if (d != null) {\n                this.rz = d;\n                var e = this.rz;\n                e.labelsMoved = delegateCombine(e.labelsMoved, runOn(this, this.uf));\n            }\n            else {\n                var f = this.pq(this.b0);\n                var g = new Array(2);\n                g[0] = 0;\n                g[1] = 3;\n                if (this.rm != null) {\n                    if (this.rm.isVertical) {\n                        g = new Array(2);\n                        g[0] = 2;\n                        g[1] = 1;\n                    }\n                }\n                else {\n                    var h = false;\n                    if (this.cd != null && this.cd.series.count > 0) {\n                        h = true;\n                        try {\n                            for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                var i = _c.value;\n                                if (!i.dc) {\n                                    if (!i.isVertical) {\n                                        h = false;\n                                    }\n                                }\n                            }\n                        }\n                        catch (e_2_1) {\n                            e_2 = { error: e_2_1 };\n                        }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_a = _b.return))\n                                    _a.call(_b);\n                            }\n                            finally {\n                                if (e_2)\n                                    throw e_2.error;\n                            }\n                        }\n                    }\n                    if (h) {\n                        g = new Array(2);\n                        g[0] = 2;\n                        g[1] = 1;\n                    }\n                }\n                this.rz = new LabelCollisionManager(this.py.right, this.py.bottom, this.py, this.rg.j(), this.sv, this.r1(), g, this.s2(), this.s1(), this.sb, this.q7);\n                if (this.tk != null) {\n                    this.rz.ap = this.tk;\n                    this.rz.an = this;\n                }\n                var j = this.rz;\n                j.labelsMoved = delegateCombine(j.labelsMoved, runOn(this, this.uf));\n            }\n        }\n        if (this.r8) {\n            this.r8 = false;\n            if (this.rz.al > 2) {\n                this.r6 = true;\n            }\n        }\n        if (this.r9) {\n            this.r9 = false;\n            if (this.sp > 5) {\n                this.r6 = true;\n            }\n        }\n        if (this.r7) {\n            this.r7 = false;\n            this.rz.a3(this.py.right, this.py.bottom, this.py);\n            this.r6 = true;\n        }\n        var k = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        var l = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        var m = new List$1(CalloutAnnotationWrapper.$, 0);\n        var n = new List$1(CalloutAnnotationWrapper.$, 0);\n        var o = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        for (var p = 0; p < b.count; p++) {\n            o.add_1(b._inner[p]);\n        }\n        for (var q = 0; q < c.count; q++) {\n            o.add_1(c._inner[q]);\n        }\n        var r = this.sk.c;\n        while (r != null) {\n            var s = r.a;\n            if (!o.contains(r.c)) {\n                n.add(r.c);\n                l.add_1(r.c);\n                var t = r.c.b;\n                t.propertyChanged = delegateRemove(t.propertyChanged, runOn(this, this.ug));\n                this.sk.h(r);\n                this.sh.removeItem(r.c);\n                this.rz.a2(r.c.c);\n            }\n            r = s;\n        }\n        for (var u = 0; u < b.count; u++) {\n            if (!this.sh.containsKey(b._inner[u])) {\n                this.sk.f(b._inner[u]);\n                var v = b._inner[u].b;\n                v.propertyChanged = delegateCombine(v.propertyChanged, runOn(this, this.ug));\n                this.sh.addItem(b._inner[u], this.sk.d);\n                m.add(b._inner[u]);\n                k.add_1(b._inner[u]);\n                this.r6 = true;\n            }\n        }\n        for (var w = 0; w < c.count; w++) {\n            if (!this.sh.containsKey(c._inner[w])) {\n                this.sk.f(c._inner[w]);\n                this.sh.addItem(c._inner[w], this.sk.d);\n                var x = c._inner[w].b;\n                x.propertyChanged = delegateCombine(x.propertyChanged, runOn(this, this.ug));\n                m.add(c._inner[w]);\n                k.add_1(c._inner[w]);\n                this.r6 = true;\n            }\n        }\n        if (this.r4 == true) {\n            this.r4 = false;\n            this.r6 = true;\n        }\n        if (this.sm.count > 0) {\n            this.r6 = true;\n            this.sm.clear();\n            this.sj.clear();\n        }\n        r = this.sk.c;\n        while (r != null) {\n            var y = this.r2(r.c);\n            if (y == null) {\n                return;\n            }\n            if (!Base.equalsStatic(y, r.c.c.c)) {\n                var z = false;\n                if (r.c.c.c == null) {\n                    z = true;\n                }\n                var aa = r.c.c;\n                aa.o = y.b;\n                aa.p = y.c;\n                if (!isNaN_(aa.o) && !isNaN_(aa.p)) {\n                    aa.n = y.e;\n                    aa.m = y.d;\n                    if (aa.b == null) {\n                        this.rz.t(aa, false);\n                    }\n                    if (z) {\n                        this.rz.aq(aa);\n                    }\n                    else {\n                        this.rz.az(aa);\n                    }\n                }\n            }\n            r = r.a;\n        }\n        var ab = this.rz.am();\n        var ac = this.rz.u();\n        if (ac) {\n            if (this.rz.q()) {\n                this.r6 = true;\n            }\n        }\n        if (this.r6 && (ab != 0 || ac)) {\n            this.r6 = false;\n            this.sy = 0x7FFFFFFF;\n            if (this.tk != null) {\n                var ad = true;\n                for (var ae = 0; ae < this.cd.series.count; ae++) {\n                    var af = this.cd.series._inner[ae];\n                    if (af.dc && typeCast(CalloutLayer.$, af) !== null) {\n                        var ag = af;\n                        if (ag.tk == this.tk) {\n                            if (!ag.vu.equals1(this.rz.a5)) {\n                                ad = false;\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (ad) {\n                    this.rz.a4();\n                }\n                else {\n                    this.rz.ar();\n                    this.rz.as();\n                }\n            }\n            else {\n                this.rz.a4();\n            }\n        }\n        else {\n            this.rz.as();\n        }\n        var ah = this.sk.c;\n        var ai;\n        var aj;\n        var ak;\n        var al;\n        var am;\n        var an;\n        var ao;\n        var ap;\n        var aq;\n        var ar;\n        var as;\n        var at;\n        var au;\n        var av;\n        var aw;\n        var ax;\n        var ay = this.sc;\n        while (ah != null) {\n            var az = ah.c;\n            var a0 = az.b;\n            ai = a0.bk;\n            aj = a0.bm;\n            ak = a0.bl;\n            al = a0.backgroundPadding.left;\n            am = a0.backgroundPadding.top;\n            an = a0.backgroundPadding.right;\n            ao = a0.backgroundPadding.bottom;\n            aq = a0.backgroundCornerRadius;\n            ap = a0.y;\n            ar = a0.bn;\n            as = a0.ao;\n            at = a0.aa;\n            var a1 = az.c;\n            au = a1.o - (a1.g - a1.l);\n            av = a1.p - (a1.h - a1.k);\n            aw = a1.g - a1.l;\n            ax = a1.h - a1.k;\n            if (ay) {\n                var a2 = new CalloutRenderStyleUpdatingEventArgs();\n                a2.background = ai;\n                a2.outline = aj;\n                a2.leaderBrush = ak;\n                a2.strokeThickness = ap;\n                a2.textColor = ar;\n                a2.item = at;\n                a2.series = a0.l;\n                a2.actualPosition = a1.a;\n                a2.xValue = a0.ac;\n                a2.yValue = a0.ad;\n                if (this.calloutRenderStyleUpdating != null) {\n                    this.calloutRenderStyleUpdating(this, a2);\n                    ai = a2.background;\n                    aj = a2.outline;\n                    ak = a2.leaderBrush;\n                    ap = a2.strokeThickness;\n                    ar = a2.textColor;\n                }\n            }\n            a.n.add1(az);\n            a.f.add(ai);\n            a.i.add(aj);\n            a.h.add(ak);\n            a.k.add(al);\n            a.m.add(am);\n            a.l.add(an);\n            a.j.add(ao);\n            a.g.add(aq);\n            a.o.add(ap);\n            a.p.add(ar);\n            a.q.add1(as);\n            a.r.add1(at);\n            a.u.add(au);\n            a.v.add(av);\n            a.s.add(aw);\n            a.t.add(ax);\n            ah = ah.a;\n        }\n    };\n    CalloutLayer.prototype.ui = function () {\n        if (this.rz != null) {\n            var a = this.sk.c;\n            while (a != null) {\n                var b = a.c.c;\n                if (b != null) {\n                    this.rz.a2(b);\n                }\n                a = a.a;\n            }\n            var c = this.rz;\n            c.labelsMoved = delegateRemove(c.labelsMoved, runOn(this, this.uf));\n            this.rz = null;\n        }\n        this.uh();\n    };\n    CalloutLayer.prototype.r0 = function () {\n        if (this.cd == null) {\n            return null;\n        }\n        for (var a = 0; a < this.cd.series.count; a++) {\n            var b = this.cd.series._inner[a];\n            if (b.dc && typeCast(CalloutLayer.$, b) !== null) {\n                var c = b;\n                if (c != this) {\n                    if (c.tk != null && c.tk == this.tk) {\n                        if (c.rz != null) {\n                            return c.rz;\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalloutLayer.prototype.s1 = function () {\n        return 20000;\n    };\n    CalloutLayer.prototype.s2 = function () {\n        return 300;\n    };\n    CalloutLayer.prototype.r1 = function () {\n        switch (this.rd) {\n            case 0: return 2;\n            case 2: return 1;\n            case 3: return 2;\n            case 1: return 0;\n        }\n        return 2;\n    };\n    CalloutLayer.prototype.uf = function (a) {\n        var b = this.rz.am();\n        if (b < this.sy) {\n            this.sy = b;\n            this.mh(false);\n        }\n    };\n    CalloutLayer.prototype.r2 = function (a) {\n        var b = this.rm;\n        if (a.b.l != null) {\n            b = a.b.l;\n        }\n        if (b == null) {\n            for (var c = 0; c < this.cd.series.count; c++) {\n                var d = this.cd.series._inner[c];\n                if (!d.dc) {\n                    b = d;\n                    break;\n                }\n            }\n        }\n        if (b == null) {\n            return null;\n        }\n        var e = b.ag();\n        var f = b.gc();\n        var g = null;\n        var h = null;\n        var i = false;\n        for (var j = 0; j < e.length; j++) {\n            if (e[j].b8) {\n                i = true;\n                g = e[j];\n            }\n            else if (e[j].cl) {\n                i = true;\n                h = e[j];\n            }\n            else if (e[j].co) {\n                h = e[j];\n            }\n            else {\n                g = e[j];\n            }\n        }\n        if (g == null || h == null) {\n            return null;\n        }\n        if (!g.cn() || !h.cn()) {\n            return null;\n        }\n        var k = 0;\n        var l = 0;\n        if (g.ca && g.categoryMode != 0) {\n            if (b.dp) {\n                k = b.getOffsetValue();\n            }\n            else if (b.dg) {\n                k = b.getOffsetValue();\n            }\n        }\n        if (h.ca && h.categoryMode != 0) {\n            if (b.dg) {\n                l = b.getOffsetValue();\n            }\n        }\n        var m = new ScalerParams(0, this.cd.sf, g.kc, g.cg, g.j7());\n        m.b = f;\n        var n = new ScalerParams(0, this.cd.sf, h.kc, h.cg, h.j7());\n        n.b = f;\n        var o = 0;\n        var p = 0;\n        if (i) {\n            o = g.ei(this.sx(a.b.ac), m) + k;\n            p = h.ei(this.sx(a.b.ad), n) + l;\n            var q = o;\n            var r = p;\n            var s = { $type: Point_$type, x: 0.5, y: 0.5 };\n            var t = s.x + (r * Math.cos(q));\n            o = ViewportUtils.c(t, m.e, m.d);\n            var u = s.y + (r * Math.sin(q));\n            p = ViewportUtils.f(u, n.e, n.d);\n        }\n        else {\n            o = g.ei(this.sx(a.b.ac), m) + k;\n            p = h.ei(this.sx(a.b.ad), n) + l;\n        }\n        var v = new QuadTreeBoundingBox();\n        v.b = o;\n        v.c = p;\n        v.e = 3;\n        v.d = 3;\n        v.g = a.b;\n        return v;\n    };\n    CalloutLayer.prototype.sx = function (a) {\n        if (typeCast(Date_$type, a) !== null) {\n            return a.getTime();\n        }\n        if (a == null) {\n            return 0;\n        }\n        return a;\n    };\n    CalloutLayer.prototype.so = function () {\n        var a = new List$1(CalloutAnnotationWrapper.$, 0);\n        for (var b = 0; b < this.sn.count; b++) {\n            if (stringIsNullOrEmpty(this.sn._inner[b].b.ao)) {\n                continue;\n            }\n            if (this.sn._inner[b].c == null) {\n                var c = new LabelCollisionInfo();\n                this.sn._inner[b].c = c;\n                var d = this.rg.cn(this.s3(this.sn._inner[b]), this.sn._inner[b].b.backgroundPadding);\n                c.k = d.height / 2;\n                c.l = d.width / 2;\n            }\n            var e = this.r2(this.sn._inner[b]);\n            if (e == null || e.b < this.py.left || e.b > this.py.right || e.c < this.py.top || e.c > this.py.bottom) {\n                continue;\n            }\n            a.add(this.sn._inner[b]);\n        }\n        return a;\n    };\n    CalloutLayer.prototype.s3 = function (a) {\n        return a.b.ao;\n    };\n    CalloutLayer.prototype.qb = function (a) {\n        if (!_super.prototype.qb.call(this, a)) {\n            return false;\n        }\n        if (this.tz != null) {\n            if (a.du) {\n                var b = a.jp();\n                if (!Base.equalsStatic(this.tz, b)) {\n                    return false;\n                }\n            }\n            else {\n                if (!Base.equalsStatic(this.tz, a.name)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    CalloutLayer.prototype.lr = function () {\n        _super.prototype.lr.call(this);\n        if (!this.as.c && !this.cv()) {\n            return;\n        }\n        if (this.r3) {\n            this.r3 = false;\n            this.uk();\n        }\n        if (this.cv()) {\n            this.uq(this.p6, false);\n        }\n        else {\n            this.uq(this.p4, false);\n        }\n    };\n    CalloutLayer.prototype.ul = function () {\n        if (!this.r5) {\n            this.r5 = true;\n            this.mh(true);\n        }\n    };\n    CalloutLayer.prototype.uo = function (a, b, c) {\n        var d = false;\n        if (this.r5) {\n            this.r5 = false;\n            d = true;\n        }\n        if (a.c1(this.sl, this.sg, this.se, this.sz)) {\n            var e = this.sl;\n            var _loop_1 = function (f) {\n                var g = e._inner[f];\n                var h = g.a != null ? g.a.item : null;\n                var i = g.a.item != null ? g.a.item : g.a;\n                var j = a;\n                var k = new CalloutKey(i, j);\n                var l = new CalloutAnnotationWrapper();\n                var m = new CalloutAnnotation();\n                l.b = m;\n                m.key = k;\n                var n = false;\n                if (this_1.sh.containsKey(l)) {\n                    l = this_1.sh.item(l).c;\n                    m = l.b;\n                    n = d;\n                }\n                else {\n                    n = true;\n                }\n                var o = m.ac;\n                var p = m.ad;\n                if (this_1.sx(o) != this_1.sx(g.b)) {\n                    m.xValue = g.b;\n                }\n                if (this_1.sx(p) != this_1.sx(g.c)) {\n                    m.yValue = g.c;\n                }\n                m.series = a;\n                var q = false;\n                if (g.d != m.ay) {\n                    m.ay = g.d;\n                    q = true;\n                }\n                if (n || q) {\n                    if (this_1.calloutLabelUpdating != null) {\n                        var r = ((function () {\n                            var $ret = new CalloutLabelUpdatingEventArgs();\n                            $ret.c = m.ac;\n                            $ret.d = m.ad;\n                            $ret.item = h;\n                            return $ret;\n                        })());\n                        this_1.calloutLabelUpdating(this_1, r);\n                        if (r.b != null && !Base.equalsStatic(r.b, l.b.ao)) {\n                            var s = r.b;\n                            l.b.text = s != null ? s.toString() : \"\";\n                        }\n                    }\n                    else {\n                        if (g.d != null) {\n                            m.text = g.d;\n                        }\n                    }\n                }\n                if (m.ao == null) {\n                    return \"continue\";\n                }\n                if (n || q) {\n                    if (this_1.calloutContentUpdating != null) {\n                        var t = ((function () {\n                            var $ret = new CalloutContentUpdatingEventArgs();\n                            $ret.c = m.ac;\n                            $ret.d = m.ad;\n                            $ret.item = h;\n                            $ret.a = i;\n                            return $ret;\n                        })());\n                        this_1.calloutContentUpdating(this_1, t);\n                        if (t.a != null && t.a != l.b.aa) {\n                            l.b.content = t.a;\n                        }\n                    }\n                    else {\n                        if (i != null && i != l.b.aa) {\n                            l.b.content = i;\n                        }\n                    }\n                }\n                if (n) {\n                    this_1.us(l);\n                }\n                if (l.c == null) {\n                    var u = new LabelCollisionInfo();\n                    l.c = u;\n                    var v = this_1.rg.cn(this_1.s3(l), l.b.backgroundPadding);\n                    u.k = v.height / 2;\n                    u.l = v.width / 2;\n                }\n                var w = this_1.r2(l);\n                if (w == null || w.b < this_1.py.left || w.b > this_1.py.right || w.c < this_1.py.top || w.c > this_1.py.bottom) {\n                    return \"continue\";\n                }\n                l.e = w.b;\n                l.f = w.c;\n                c.add(l);\n            };\n            var this_1 = this;\n            for (var f = 0; f < this.sl.count; f++) {\n                _loop_1(f);\n            }\n        }\n    };\n    CalloutLayer.prototype.bp = function () {\n        return 1;\n    };\n    CalloutLayer.prototype.at = function (a, b) {\n        var c = this.rz.f(a, b);\n        if (c == null) {\n            return null;\n        }\n        return c.u;\n    };\n    CalloutLayer.prototype.ev = function (a, b) {\n        if (this.rz == null) {\n            return false;\n        }\n        return this.rz.f(a, b) != null;\n    };\n    CalloutLayer.prototype.uq = function (a, b) {\n        var e_3, _a;\n        var c = 0;\n        var d = new HashSet$1(CalloutAnnotationWrapper.$, 0);\n        for (c = 0; c < a.q.count; c++) {\n            var e = a.n._inner[c];\n            if (isNaN_(a.u._inner[c]) || isNaN_(a.v._inner[c])) {\n                continue;\n            }\n            var f = this.rg.b8.item(e);\n            d.add_1(e);\n            if (f.h != a.q._inner[c]) {\n                f.h = a.q._inner[c];\n                var g = f.u();\n            }\n            f.e = a.o._inner[c];\n            f.m = a.f._inner[c];\n            f.p = a.p._inner[c];\n            f.o = f.e > 0 ? a.i._inner[c] : this.b0.bq();\n            f.n = a.h._inner[c];\n            f.x = new Thickness(1, a.k._inner[c], a.m._inner[c], a.l._inner[c], a.j._inner[c]);\n            f.d = a.g._inner[c];\n            this.rg.cg(f, Math.min(a.s._inner[c], a.s._inner[c] + a.u._inner[c]), Math.min(a.t._inner[c], a.t._inner[c] + a.v._inner[c]));\n            this.rg.ch(f, e, a.r._inner[c]);\n            f.r = { $type: Point_$type, x: a.u._inner[c], y: a.v._inner[c] };\n        }\n        var h = new List$1(CalloutAnnotationWrapper.$, 0);\n        try {\n            for (var _b = __values(fromEnum(this.rg.b8.c)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (!d.contains(i)) {\n                    h.add(i);\n                }\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        for (var j = 0; j < h.count; j++) {\n            this.rg.b8.h(h._inner[j]);\n        }\n    };\n    CalloutLayer.prototype.qt = function (a, b) {\n        _super.prototype.qt.call(this, a, b);\n        if (this.cv()) {\n            this.uq(this.p6, true);\n        }\n        else {\n            this.uq(this.p4, false);\n        }\n    };\n    CalloutLayer.prototype.em = function () {\n        return true;\n    };\n    CalloutLayer.prototype.l3 = function (a, b, c, d) {\n        _super.prototype.l3.call(this, a, b, c, d);\n        switch (b) {\n            case CalloutLayer.$$p[24]:\n                this.rn = null;\n                this.rg.cf();\n                this.mh(true);\n                break;\n            case CalloutLayer.$$p[22]:\n            case CalloutLayer.$$p[23]:\n                this.mh(true);\n                break;\n            case CalloutLayer.$$p[14]:\n                this.mh(true);\n                break;\n            case \"SeriesViewer\":\n                if (c != null) {\n                    var e = c;\n                    e.seriesAnimating = delegateRemove(e.seriesAnimating, runOn(this, this.up));\n                }\n                if (d != null) {\n                    var f = d;\n                    f.seriesAnimating = delegateCombine(f.seriesAnimating, runOn(this, this.up));\n                }\n                if (d == null) {\n                    this.ui();\n                }\n                break;\n            case \"AutoCalloutVisibilityMode\":\n                this.ra = this.rc();\n                this.uj();\n                break;\n            case \"AllowedPositions\":\n                if (c != null) {\n                    var g = c;\n                    g.collectionChanged = delegateRemove(g.collectionChanged, runOn(this, this.ud));\n                }\n                if (d != null) {\n                    var h = d;\n                    h.collectionChanged = delegateCombine(h.collectionChanged, runOn(this, this.ud));\n                }\n                this.q7 = this.q8(this.ri);\n                this.uj();\n                break;\n            case CalloutLayer.$$p[16]:\n            case CalloutLayer.$$p[17]:\n            case CalloutLayer.$$p[1]:\n            case CalloutLayer.$$p[6]:\n            case CalloutLayer.$$p[5]:\n            case CalloutLayer.$$p[25]:\n            case CalloutLayer.$$p[26]:\n            case CalloutLayer.$$p[19]:\n            case CalloutLayer.$$p[18]:\n            case CalloutLayer.$$p[8]:\n            case CalloutLayer.$$p[10]:\n            case CalloutLayer.$$p[9]:\n            case CalloutLayer.$$p[7]:\n            case CalloutLayer.$$p[12]:\n            case CalloutLayer.$$p[13]:\n                this.uj();\n                break;\n            case CalloutLayer.$$p[21]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.rw);\n                    this.rw = this.cj(this.tx);\n                }\n                break;\n            case \"LabelColumn\":\n                this.uj();\n                break;\n            case CalloutLayer.$$p[15]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.ru);\n                    this.ru = this.cj(this.tn);\n                }\n                break;\n            case \"ContentColumn\":\n                this.uj();\n                break;\n            case CalloutLayer.$$p[28]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.rx);\n                    this.rx = stringIsNullOrEmpty(this.t8) == false ? this.cj(this.t8) : null;\n                }\n                break;\n            case \"XColumn\":\n                this.uj();\n                break;\n            case CalloutLayer.$$p[29]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.ry);\n                    this.ry = this.cj(this.ub);\n                }\n                break;\n            case \"YColumn\":\n                this.uj();\n                break;\n            case CalloutLayer.$$p[20]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.rv);\n                    this.rv = this.cj(this.tu);\n                }\n                break;\n            case \"KeyColumn\":\n                this.uj();\n                break;\n            case \"FastItemsSource\":\n                this.r4 = true;\n                if (typeCast(IFastItemsSource_$type, c) != null) {\n                    c.deregisterColumn(this.rw);\n                    c.deregisterColumn(this.ru);\n                    c.deregisterColumn(this.rx);\n                    c.deregisterColumn(this.ry);\n                    c.deregisterColumn(this.rv);\n                    this.rw = null;\n                    this.ru = null;\n                    this.rx = null;\n                    this.ry = null;\n                    this.rv = null;\n                    this.sn.clear();\n                }\n                if (typeCast(IFastItemsSource_$type, d) != null) {\n                    this.rw = this.cj(this.tx);\n                    this.ru = this.cj(this.tn);\n                    if (stringIsNullOrEmpty(this.t8) == false) {\n                        this.rx = this.cj(this.t8);\n                    }\n                    this.ry = this.cj(this.ub);\n                    this.rv = this.cj(this.tu);\n                }\n                this.uj();\n                break;\n        }\n    };\n    CalloutLayer.prototype.rc = function () {\n        if (this.rb == 0) {\n            return 1;\n        }\n        return this.rb;\n    };\n    CalloutLayer.prototype.q8 = function (a) {\n        if (a == null || a.count == 0) {\n            return null;\n        }\n        var b = new Array(a.count);\n        for (var c = 0; c < a.count; c++) {\n            b[c] = a._inner[c];\n        }\n        return b;\n    };\n    CalloutLayer.prototype.up = function (a) {\n        if (a.dc) {\n            return;\n        }\n        if ((a == this.rm || this.rm == null) && this.sa) {\n            this.mh(false);\n        }\n    };\n    CalloutLayer.prototype.uj = function () {\n        if (this.r3 == false) {\n            this.r3 = true;\n            this.mh(false);\n        }\n    };\n    CalloutLayer.prototype.uh = function () {\n        this.rg.b8.clear();\n        this.sk.g();\n        this.sh.clear();\n    };\n    CalloutLayer.prototype.uk = function () {\n        if (this.ry == null || this.rw == null) {\n            var a = this.sk.c;\n            while (a != null) {\n                this.us(a.c);\n                a = a.a;\n            }\n            return;\n        }\n        var b = this.si();\n        for (var c = 0; c < this.ry.count; c++) {\n            var d = void 0;\n            if (this.sn.count <= c) {\n                var e = new CalloutAnnotation();\n                d = new CalloutAnnotationWrapper();\n                d.b = e;\n                d.b.series = this.rm;\n                this.sn.add(d);\n            }\n            else {\n                d = this.sn._inner[c];\n            }\n            this.ur(c, b);\n        }\n    };\n    CalloutLayer.$t = markType(CalloutLayer, 'CalloutLayer', AnnotationLayer.$);\n    CalloutLayer.u7 = DependencyProperty.i(\"AutoCalloutVisibilityMode\", AutoCalloutVisibilityMode_$type, CalloutLayer.$, new PropertyMetadata(2, enumGetBox(AutoCalloutVisibilityMode_$type, 0), function (a, b) { return a.raisePropertyChanged(\"AutoCalloutVisibilityMode\", b.oldValue, b.newValue); }));\n    CalloutLayer.$$p = markDep(DependencyProperty, PropertyMetadata, CalloutLayer, 'raisePropertyChanged', ['AutoCalloutLabelPrecision:sz:ut', [1, 5], 'CalloutBackground:vo:uu', [Brush.$, null], 'CalloutCollisionMode:rd:uv', [CalloutCollisionMode_$type, enumGetBox(CalloutCollisionMode_$type, 3)], 'CalloutCornerRadius:sq:uw', [1, NaN], 'CalloutInterpolatedValuePrecision:s0:ux', [1, -1], 'CalloutLeaderBrush:vp:uy', [Brush.$, null], 'CalloutOutline:vq:uz', [Brush.$, null], 'CalloutPaddingBottom:sr:u0', [1, NaN], 'CalloutPaddingLeft:ss:u1', [1, NaN], 'CalloutPaddingRight:st:u2', [1, NaN], 'CalloutPaddingTop:su:u3', [1, NaN], 'CalloutPositionPadding:sv:u4', [1, 10], 'CalloutStrokeThickness:sw:u5', [1, NaN], 'CalloutTextColor:vr:u6', [Brush.$, null], 'CollisionChannel:tk:u8', [2, null], 'ContentMemberPath:tn:u9', [2, null], 'IsAutoCalloutBehaviorEnabled:sa:va', [0, false], 'IsCalloutOffsettingEnabled:sb:vb', [0, true], 'IsCustomCalloutRenderStyleEnabled:sc:vc', [0, false], 'IsCustomCalloutStyleEnabled:sd:vd', [0, false], 'KeyMemberPath:tu:ve', [2, null], 'LabelMemberPath:tx:vf', [2, null], 'TargetSeriesName:tz:vg', [2, null], 'TargetSeries:rm:vh', [Series.$, null], 'TextStyle:t2:vi', [2, null], 'UseInterpolatedValueForAutoCalloutLabels:se:vj', [0, false], 'UseSeriesColorForOutline:sf:vk', [0, false], 'UseValueForAutoCalloutLabels:sg:vl', [0, true], 'XMemberPath:t8:vm', [2, null], 'YMemberPath:ub:vn', [2, null]]);\n    return CalloutLayer;\n}(AnnotationLayer));\nexport { CalloutLayer };\n/**\n * @hidden\n */\nvar CalloutLayerView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CalloutLayerView, _super);\n    function CalloutLayerView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b4 = null;\n        _this.b9 = null;\n        _this.b8 = null;\n        _this.ca = NaN;\n        _this.b5 = null;\n        _this.b4 = a;\n        _this.b9 = new List$1(CalloutView.$, 0);\n        return _this;\n    }\n    CalloutLayerView.prototype.as = function () {\n        var _this = this;\n        _super.prototype.as.call(this);\n        this.b8 = ((function () {\n            var $ret = new HashPool$2(CalloutAnnotationWrapper.$, CalloutView.$);\n            $ret.create = runOn(_this, _this.b6);\n            $ret.activate = runOn(_this, _this.cc);\n            $ret.disactivate = runOn(_this, _this.ce);\n            $ret.destroy = runOn(_this, _this.cd);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.b6 = function () {\n        var a = new CalloutView(this);\n        this.b9.add(a);\n        return a;\n    };\n    CalloutLayerView.prototype.cc = function (a) {\n        a.y = 0;\n    };\n    CalloutLayerView.prototype.ce = function (a) {\n        a.y = 1;\n    };\n    CalloutLayerView.prototype.cd = function (a) {\n        this.b9.remove(a);\n    };\n    CalloutLayerView.prototype.cm = function (a) {\n        if (a == null) {\n            return a;\n        }\n        return BrushUtil.l(a, 0.1);\n    };\n    CalloutLayerView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        a.ac(this.b7());\n        if (a.d && !b) {\n            for (var c = 0; c < this.b9.count; c++) {\n                var d = this.b9._inner[c];\n                if (d.y == 0) {\n                    d.j(a);\n                }\n            }\n        }\n    };\n    CalloutLayerView.prototype.b7 = function () {\n        if (this.b4.ro != null) {\n            return this.b4.ro;\n        }\n        return this.e.cd.getFontInfo();\n    };\n    CalloutLayerView.prototype.al = function (a) {\n        _super.prototype.al.call(this, a);\n        for (var b = 0; b < this.b9.count; b++) {\n            var c = this.b9._inner[b];\n            if (c.y != 0) {\n                continue;\n            }\n            c.i(this.b4, this.b7(), a);\n        }\n    };\n    CalloutLayerView.prototype.co = function (a) {\n        this.k.ac(this.b7());\n        this.ca = this.cb();\n        var b = this.k.ag(a, this.ca, true);\n        return new Size(1, b.c, b.b);\n    };\n    CalloutLayerView.prototype.cb = function () {\n        var a = this.b7();\n        if (isNaN_(this.ca)) {\n            var b = FontUtil.getCurrentFontHeight(this.e.cd.cq.j.ae, a);\n            this.ca = b;\n        }\n        return this.ca;\n    };\n    CalloutLayerView.prototype.cn = function (a, b) {\n        if (this.b5 == null) {\n            this.b5 = new CalloutView(this);\n        }\n        this.b5.h = a;\n        this.b5.x = b;\n        var c = this.b5.u();\n        this.b5.h = null;\n        return c;\n    };\n    CalloutLayerView.prototype.cg = function (a, b, c) {\n        a.f = b;\n        a.g = c;\n    };\n    CalloutLayerView.prototype.ch = function (a, b, c) {\n        a.k(this.e, b, c);\n    };\n    CalloutLayerView.prototype.ci = function (a) {\n        if (a != null) {\n            return this.cm(a.o3);\n        }\n        return this.e.o3;\n    };\n    CalloutLayerView.prototype.cl = function () {\n        return ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 255, 255, 255);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.ck = function (a) {\n        if (this.b4.sf) {\n            if (a != null) {\n                return this.cm(a.o3);\n            }\n        }\n        return ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 255, 255, 255);\n            return $ret;\n        })());\n    };\n    CalloutLayerView.prototype.cj = function (a) {\n        if (a != null) {\n            return this.cm(a.oy);\n        }\n        return this.e.oy;\n    };\n    CalloutLayerView.prototype.cf = function () {\n        this.ca = NaN;\n    };\n    CalloutLayerView.$t = markType(CalloutLayerView, 'CalloutLayerView', AnnotationLayerView.$);\n    return CalloutLayerView;\n}(AnnotationLayerView));\nexport { CalloutLayerView };\n/**\n * @hidden\n */\nvar CalloutView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CalloutView, _super);\n    function CalloutView(a) {\n        var _this = _super.call(this) || this;\n        _this.a = null;\n        _this.y = 0;\n        _this.l = null;\n        _this.t = null;\n        _this.q = { $type: Point_$type, x: 0, y: 0 };\n        _this.s = null;\n        _this.w = new Thickness(0, 0);\n        _this.v = null;\n        _this.c = 0;\n        _this.f = 0;\n        _this.g = 0;\n        _this.b = null;\n        _this.s = new Line();\n        _this.s.ab = false;\n        _this.s._stroke = ((function () {\n            var $ret = new Brush();\n            $ret.color = Color.u(255, 0, 0, 0);\n            return $ret;\n        })());\n        _this.s.ac = 2;\n        _this.l = new TextBlock();\n        _this.t = new Rectangle();\n        _this.t.ac = 0;\n        _this.a = a;\n        _this.y = 0;\n        return _this;\n    }\n    CalloutView.prototype.j = function (a) {\n        a.z();\n        a.af(this.f, this.g);\n        var b = new TranslateTransform();\n        b.j = this.v.left;\n        b.k = this.v.top;\n        this.t.j = b;\n        a.r(this.s);\n        a.z();\n        this.t.width = this.l.m + this.w.left + this.w.right;\n        this.t.height = this.l.l + this.w.top + this.w.bottom;\n        this.t.am = this.c;\n        this.t.an = this.c;\n        a.j(this.t.j);\n        a.v(this.t);\n        this.l.ag = true;\n        this.l.o = this.w.top;\n        this.l.n = this.w.left;\n        a.w(this.l);\n        a.y();\n        a.y();\n    };\n    Object.defineProperty(CalloutView.prototype, \"r\", {\n        get: function () {\n            return this.q;\n        },\n        set: function (a) {\n            if (this.q.x != a.x || this.q.y != a.y) {\n                var b = this.u();\n                var c = b.height;\n                var d = b.width;\n                this.q = a;\n                var e = CalloutViewHelper.b(this.r, d, c, this.s);\n                this.v = e;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"p\", {\n        get: function () {\n            return this.l.ao;\n        },\n        set: function (a) {\n            this.l.ao = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"o\", {\n        get: function () {\n            return this.t._stroke;\n        },\n        set: function (a) {\n            this.t._stroke = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"n\", {\n        get: function () {\n            return this.s._stroke;\n        },\n        set: function (a) {\n            this.s._stroke = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"m\", {\n        get: function () {\n            return this.t._fill;\n        },\n        set: function (a) {\n            this.t._fill = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"e\", {\n        get: function () {\n            return this.t.ac;\n        },\n        set: function (a) {\n            this.t.ac = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"x\", {\n        get: function () {\n            return this.w;\n        },\n        set: function (a) {\n            this.w = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"d\", {\n        get: function () {\n            return this.c;\n        },\n        set: function (a) {\n            this.c = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CalloutView.prototype, \"h\", {\n        get: function () {\n            return this.l.al;\n        },\n        set: function (a) {\n            if (a == null) {\n                this.l.al = \"\";\n            }\n            else {\n                this.l.al = a.toString();\n            }\n            var b = this.u();\n            var c = b.height;\n            var d = b.width;\n            var e = CalloutViewHelper.b(this.r, d, c, this.s);\n            this.v = e;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CalloutView.prototype.u = function () {\n        var a = this.a.co(this.l);\n        this.l.m = a.width;\n        this.l.l = a.height;\n        return new Size(1, a.width + this.w.left + this.w.right, a.height + this.w.top + this.w.bottom);\n    };\n    CalloutView.prototype.k = function (a, b, c) {\n        if (this.b == null) {\n            this.b = new DataContext();\n        }\n        this.b.series = a;\n        this.b.item = c;\n        if (b.c != null) {\n            b.c.u = this.b;\n        }\n    };\n    CalloutView.prototype.i = function (a, b, c) {\n        a.a8.exportCalloutData(this.f, this.g, this.v.left, this.v.top, c, this.t, this.l, b, this.s, \"callout\", [\"Main\", \"Callout\"]);\n    };\n    CalloutView.$t = markType(CalloutView, 'CalloutView');\n    return CalloutView;\n}(Base));\nexport { CalloutView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}