{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { FinancialSeries } from \"./FinancialSeries\";\nimport { ITrendLineSeries_$type } from \"./ITrendLineSeries\";\nimport { TrendLineType_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { PenLineCap_$type } from \"igniteui-react-core\";\nimport { DoubleCollection } from \"igniteui-react-core\";\nimport { PriceDisplayType_$type } from \"./PriceDisplayType\";\nimport { Series } from \"./Series\";\nimport { Defaults } from \"./Defaults\";\nimport { enumGetBox, EnumUtil, typeCast, fromEnum, runOn, Point_$type, markType, markDep } from \"igniteui-react-core\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { Rect } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { RectUtil } from \"igniteui-react-core\";\nimport { CategoryTrendLineManagerFactory } from \"./CategoryTrendLineManagerFactory\";\nimport { AxisRange } from \"./AxisRange\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { TrendResolutionParams } from \"./TrendResolutionParams\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { Path } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { PathGeometry } from \"igniteui-react-core\";\nimport { PathFigure } from \"igniteui-react-core\";\nimport { LineSegment } from \"igniteui-react-core\";\nimport { GeometryGroup } from \"igniteui-react-core\";\nimport { LineGeometry } from \"igniteui-react-core\";\nimport { RectangleGeometry } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity } from \"igniteui-react-core\";\nimport { boxArray$1 } from \"igniteui-react-core\";\nimport { round10N } from \"igniteui-react-core\";\nimport { FinancialPriceBucketCalculator } from \"./FinancialPriceBucketCalculator\";\nimport { Extensions } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar FinancialPriceSeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(FinancialPriceSeries, _super);\n\n  function FinancialPriceSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.ab = FinancialPriceSeries.$;\n    _this.qf = new CategoryFrame(5);\n    _this.qh = new CategoryFrame(5);\n    _this.qd = new CategoryFrame(5);\n    return _this;\n  }\n\n  FinancialPriceSeries.prototype.get_ds = function () {\n    return true;\n  };\n\n  FinancialPriceSeries.prototype.gu = function () {\n    if (!isNaN_(this.gt)) {\n      return _super.prototype.gu.call(this);\n    }\n\n    return Defaults.k;\n  };\n\n  FinancialPriceSeries.prototype.bx = function () {\n    return new FinancialPriceSeriesView(this);\n  };\n\n  FinancialPriceSeries.prototype.ly = function (a) {\n    _super.prototype.ly.call(this, a);\n\n    this.tm = a;\n  };\n\n  Object.defineProperty(FinancialPriceSeries.prototype, \"uu\", {\n    get: function get() {\n      return this.c(FinancialPriceSeries.uc);\n    },\n    set: function set(a) {\n      this.h(FinancialPriceSeries.uc, a);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  FinancialPriceSeries.prototype.k0 = function (a, b, c, d) {\n    _super.prototype.k0.call(this, a, b, c, d);\n\n    if (this.qb != null && typeCast(ISortingAxis_$type, this.qb) !== null) {\n      this.qb.i$i();\n    }\n\n    this.tm.bx.e(this.ft);\n\n    if (this.tm.b7) {\n      this.tm.b5.g$e(a, b, c, d);\n    }\n\n    if (this.qx != null) {\n      this.qx.c0();\n    }\n\n    this.mh(true);\n  };\n\n  FinancialPriceSeries.prototype.bp = function () {\n    if (this.bq == 0) {\n      return 1;\n    } else {\n      return _super.prototype.bp.call(this);\n    }\n  };\n\n  FinancialPriceSeries.prototype.pu = function (a) {\n    if (this.qd == null || this.qd.f.count == 0) {\n      return Rect.empty;\n    }\n\n    var b = this.pg(a);\n    var c = this.b0.bv;\n    var d = this.b0.bu;\n    var e = this.getEffectiveViewport1(this.b0);\n    var f = this.aj(this.qb, this.qd.f, this.r8(this.b0), this.sa(this.b0), a, true);\n    var g = f[0];\n    var h = f[1];\n    var i = Math.abs(b.x - g[0]);\n    var j = Math.abs(b.x - h[0]);\n    var k = this.to(this.qs, e);\n    k = Math.max(k, 3);\n    var l = (k - 1) / 2;\n\n    if (i < j) {\n      var m = g[0] - l;\n      var n = g[0];\n      var o = g[0] + l;\n      var p = g[1];\n      var q = g[2];\n      var r = g[3];\n      var s = g[4];\n      var t = Math.min(Math.min(Math.min(p, q), r), s);\n      var u = Math.max(Math.max(Math.max(p, q), r), s);\n      return new Rect(0, m, t, Math.abs(o - m), u - t);\n    } else {\n      var v = h[0] - l;\n      var w = h[0];\n      var x = h[0] + l;\n      var y = h[1];\n      var z = h[2];\n      var aa = h[3];\n      var ab = h[4];\n      var ac = Math.min(Math.min(Math.min(y, z), aa), ab);\n      var ad = Math.max(Math.max(Math.max(y, z), aa), ab);\n      return new Rect(0, v, ac, Math.abs(x - v), ad - ac);\n    }\n  };\n\n  FinancialPriceSeries.prototype.tl = function (a, b) {\n    var c = a[0] - b;\n    var d = a[0];\n    var e = a[0] + b;\n    var f = a[1];\n    var g = a[2];\n    var h = a[3];\n    var i = a[4];\n    var j = Math.min(Math.min(Math.min(f, g), h), i);\n    var k = Math.max(Math.max(Math.max(f, g), h), i);\n    var l = Math.min(g, h);\n    var m = Math.max(g, h);\n    var n = Math.min(f, i);\n    var o = Math.max(f, i);\n\n    if (this.tn == 1) {\n      var p = new Array(3);\n      var q = new Rect(0, c, f, b, 0);\n      var r = new Rect(0, d, i, b, 0);\n      var s = new Rect(0, d, l, 0, m - l);\n      p[0] = q;\n      p[1] = r;\n      p[2] = s;\n      return p;\n    } else {\n      var t = new Array(2);\n      var u = new Rect(0, d, l, 0, m - l);\n      var v = new Rect(0, c, n, b * 2, o - n);\n      t[0] = u;\n      t[1] = v;\n      return t;\n    }\n  };\n\n  FinancialPriceSeries.prototype.ak = function (a) {\n    var b = new List$1(Rect.$, 0);\n    var c = this.pg(a);\n    var d = this.b0.bv;\n    var e = this.b0.bu;\n    var f = this.getEffectiveViewport1(this.b0);\n    var g = this.aj(this.qb, this.qd.f, this.r8(this.b0), this.sa(this.b0), a, true);\n    var h = g[0];\n    var i = g[1];\n    var j = Math.abs(c.x - h[0]);\n    var k = Math.abs(c.x - i[0]);\n    var l = this.to(this.qs, f);\n    l = Math.max(l, 3);\n    var m = (l - 1) / 2;\n\n    if (j < k) {\n      return this.tl(h, m);\n    } else {\n      return this.tl(i, m);\n    }\n  };\n\n  FinancialPriceSeries.prototype.ev = function (a, b) {\n    if (this.ey(a, b)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  FinancialPriceSeries.prototype.ey = function (a, b) {\n    var c = this.pv(a);\n\n    if (c.isEmpty) {\n      return false;\n    }\n\n    var d = RectUtil.r(c, this.fu / 2 + this.f8(b));\n\n    if (d.containsPoint(a)) {\n      var e = this.al(a);\n\n      if (e != null) {\n        for (var f = 0; f < e.length; f++) {\n          var g = e[f];\n          var h = RectUtil.r(g, this.fu / 2 + this.f8(b));\n\n          if (h.containsPoint(a)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  };\n\n  FinancialPriceSeries.prototype.l3 = function (a, b, c, d) {\n    switch (b) {\n      case FinancialSeries.$$p[9]:\n        this.tm.cd();\n\n        if (this.cd != null) {\n          this.cd.li();\n        }\n\n        break;\n\n      case \"TrendLineType\":\n        var e = EnumUtil.getEnumValue(TrendLineType_$type, d);\n\n        if (e != 0) {\n          this.tm.b5 = CategoryTrendLineManagerFactory.a(this.tm.b5, this.qb, this.m9, this, this.cn);\n        }\n\n        break;\n    }\n\n    _super.prototype.l3.call(this, a, b, c, d);\n\n    if (this.tm.b7 && this.tm.b5 != null && this.tm.b5.g$b(a, b, c, d)) {\n      this.mh(false);\n      this.lo();\n    }\n\n    switch (b) {\n      case FinancialPriceSeries.$$p[2]:\n        if (this.m9 != null) {\n          this.ub();\n          this.mw();\n          this.qd.w();\n          this.s4(this.qd, this.tm);\n        }\n\n        this.lo();\n        break;\n\n      case \"ActualHighlightingMode\":\n        this.mh(true);\n        break;\n\n      case \"TrendLineBrush\":\n        this.mv();\n        break;\n\n      case \"TrendLineType\":\n        this.lo();\n        break;\n\n      case FinancialSeries.$$p[5]:\n      case FinancialPriceSeries.$$p[7]:\n        this.l0();\n        break;\n    }\n  };\n\n  FinancialPriceSeries.prototype.ub = function () {\n    this.tm.ch();\n\n    if (this.bz != null) {\n      this.bz.ch();\n    }\n  };\n\n  FinancialPriceSeries.prototype.ap = function (a) {\n    if (a != null && a == this.qx && this.q6 != null && !isNaN_(this.q6.minimum) && this.q5 != null && !isNaN_(this.q5.maximum)) {\n      return new AxisRange(this.q6.minimum, this.q5.maximum);\n    }\n\n    return null;\n  };\n\n  FinancialPriceSeries.prototype.aq = function (a) {\n    if (a.isEmpty && this.cd != null) {\n      a = this.cd.sf;\n    }\n\n    if (this.q6 == null || this.q5 == null) {\n      return null;\n    }\n\n    var b = this.pq(this.b0);\n    var c = new ScalerParams(0, a, this.cd.su, this.qb.cg, this.getEffectiveViewport());\n    var d = this.qb.el(b.left, c);\n    var e = this.qb.el(b.right, c);\n\n    if (this.qb.cg) {\n      var f = d;\n      d = e;\n      e = f;\n    }\n\n    var g = null;\n\n    if (this.qb.cm) {\n      g = this.qb;\n      d = g.i$f(d);\n      e = g.i$f(e);\n    } else {\n      d = Math.floor(d);\n      e = Math.ceil(e);\n    }\n\n    d = Math.max(0, Math.min(this.q6.count - 1, d));\n    e = Math.max(0, Math.min(this.q6.count - 1, e));\n    var h = 1.7976931348623157E+308;\n    var i = -1.7976931348623157E+308;\n\n    for (var j = truncate(d); j <= truncate(e); j++) {\n      var k = j;\n\n      if (g != null) {\n        k = g.i$b._inner[j];\n      }\n\n      var l = this.q6.item(k);\n\n      if (this.q6.mayContainUnknowns) {\n        if (isInfinity(l) || isNaN_(l)) {\n          continue;\n        }\n      }\n\n      var m = this.q5.item(k);\n\n      if (this.q5.mayContainUnknowns) {\n        if (isInfinity(m) || isNaN_(m)) {\n          continue;\n        }\n      }\n\n      h = Math.min(h, l);\n      i = Math.max(i, m);\n    }\n\n    var n = new AxisRange(h, i);\n    n = this.ao(n, this.qx, a);\n    return n;\n  };\n\n  FinancialPriceSeries.prototype.gc = function () {\n    return Series.gd(this.q7, typeCast(ISortingAxis_$type, this.qb));\n  };\n\n  FinancialPriceSeries.prototype.en = function (a) {\n    var b = this.ck != null ? this.ck.indexOf(a) : -1;\n    var c = this.b0.bv;\n    c = c.copy();\n    var d = this.b0.bu;\n    var e = new Rect(0, 0, 0, 1, 1);\n    var f = this.ps(this.b0);\n\n    if (b >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {\n      if (this.qb != null) {\n        var g = new ScalerParams(0, e, e, this.qb.cg, f);\n        var h = this.qb.ei(b, g);\n\n        if (h < c.left + 0.1 * c.width) {\n          h = h + 0.4 * c.width;\n        }\n\n        if (h > c.right - 0.1 * c.width) {\n          h = h - 0.4 * c.width;\n        }\n\n        c.x = h - 0.5 * c.width;\n      }\n\n      if (this.qx != null && this.q6 != null && this.q5 != null && b < this.q6.count && b < this.q5.count) {\n        var i = new ScalerParams(0, e, e, this.qx.cg, f);\n        i.b = this.gc();\n        var j = this.qx.ei(this.q6.item(b), i);\n        var k = this.qx.ei(this.q5.item(b), i);\n\n        if (!isNaN_(j) && !isNaN_(k)) {\n          var l = Math.abs(j - k);\n\n          if (c.height < l) {\n            c.height = l;\n            c.y = Math.min(j, k);\n          } else {\n            if (j < c.top + 0.1 * c.height) {\n              j = j + 0.4 * c.height;\n            }\n\n            if (j > c.bottom - 0.1 * c.height) {\n              j = j - 0.4 * c.height;\n            }\n\n            c.y = j - 0.5 * c.height;\n          }\n        }\n      }\n\n      this.b8.au(this.cd, c, true);\n    }\n\n    return b >= 0;\n  };\n\n  FinancialPriceSeries.prototype.e9 = function (a, b, c) {\n    var d = _super.prototype.e9.call(this, a, b, c);\n\n    if (this.q7 == null || this.q4 == null || this.q5 == null || this.q6 == null) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  FinancialPriceSeries.prototype.s2 = function (a, b) {\n    var e_1, _a;\n\n    var _this = this;\n\n    _super.prototype.s2.call(this, a, b);\n\n    var c = b.bv;\n    var d = b.bu;\n    var e = this.getEffectiveViewport1(b);\n    var f = this.qb;\n    var g = this.qx;\n    var h = new ScalerParams(0, c, d, f.cg, e);\n\n    var i = function () {\n      var $ret = new ScalerParams(0, c, d, g.cg, e);\n      $ret.b = _this.gc();\n      return $ret;\n    }();\n\n    a.f.clear();\n    a.m.clear();\n    a.p.clear();\n    var j = 0;\n    var k = typeCast(ISortingAxis_$type, this.qb);\n\n    if (k != null && (k.i$b == null || k.i$b.count != this.ck.count)) {\n      return;\n    }\n\n    j = this.r2(c, d, e);\n    var l = typeCast(FinancialPriceSeriesView.$, b);\n    var m = this.ft;\n\n    if (this.trendLineType != 0) {\n      var n = new Array(this.ck.count);\n      var o = 0;\n\n      try {\n        for (var _b = __values(fromEnum(this.rt)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var p = _c.value;\n          n[o] = p;\n          o++;\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      if (this.tm.b7) {\n        this.tm.b5.prepareLineCore(a.p, this.trendLineType, boxArray$1(n), this.trendLinePeriod, function (q) {\n          return _this.qb.ei(q, h);\n        }, function (q) {\n          return _this.qx.ei(q, i);\n        }, function () {\n          var $ret = new TrendResolutionParams();\n          $ret.c = b.bx.b;\n          $ret.d = b.bx.c;\n          $ret.e = b.bx.d;\n          $ret.a = j;\n          $ret.b = m;\n          $ret.f = d;\n          return $ret;\n        }());\n      }\n    }\n\n    var q = this.qb.el(2, h) - this.qb.el(1, h);\n\n    for (var r = b.bx.c; r <= b.bx.d; ++r) {\n      var s = void 0;\n\n      if (k == null) {\n        s = b.bx.getBucket(r);\n      } else {\n        var t = k.i$b._inner[r];\n        var u = k.i$d(t);\n        var v = this.q7.item(t);\n        var w = this.q5.item(t);\n        var x = this.q6.item(t);\n        var y = this.q4.item(t);\n        var z = v;\n        var aa = w;\n        var ab = x;\n        var ac = y;\n        var ad = u;\n\n        while (r < b.bx.d) {\n          t = k.i$b._inner[r + 1];\n          ad = k.i$d(t);\n\n          if (ad - u > q * m) {\n            break;\n          }\n\n          r++;\n          aa = Math.max(aa, this.q5.item(t));\n          ab = Math.min(ab, this.q6.item(t));\n          ac = this.q4.item(t);\n        }\n\n        var ae = NaN;\n\n        if (!isNaN_(u)) {\n          ae = this.qb.ei(u, h);\n        }\n\n        s = [ae, z, aa, ab, ac];\n      }\n\n      if (!isNaN_(s[0])) {\n        if (k != null) {\n          s[0] = s[0] + j;\n        } else {\n          s[0] = f.ei(s[0], h) + j;\n        }\n\n        s[1] = g.ei(s[1], i);\n        s[2] = g.ei(s[2], i);\n        s[3] = g.ei(s[3], i);\n        s[4] = g.ei(s[4], i);\n        a.f.add(s);\n      }\n    }\n\n    return;\n  };\n\n  FinancialPriceSeries.prototype.kx = function (a, b) {\n    _super.prototype.kx.call(this, a, b);\n\n    var c = typeCast(FinancialPriceSeriesView.$, b);\n    c.cb();\n\n    if (a) {\n      c.b6.count = 0;\n    }\n\n    if (c.b7 && c.b5 != null) {\n      c.b5.g$d();\n    }\n  };\n\n  FinancialPriceSeries.prototype.m4 = function (a, b) {\n    _super.prototype.m4.call(this, a, b);\n\n    if (this.cd != null) {\n      this.cd.li();\n    }\n  };\n\n  FinancialPriceSeries.prototype.p0 = function (a, b) {\n    if (this.qb != null && this.qb.categoryMode == 0) {\n      var c = this.getEffectiveViewport1(this.b0);\n      var d = this.to(this.qs, c) / 2;\n      return new Thickness(1, d, 0, d, 0);\n    }\n\n    return _super.prototype.p0.call(this, a, b);\n  };\n\n  FinancialPriceSeries.prototype.get_c2 = function () {\n    return true;\n  };\n\n  FinancialPriceSeries.prototype.s4 = function (a, b) {\n    _super.prototype.s4.call(this, a, b);\n\n    if (this.qb == null || this.qx == null) {\n      return;\n    }\n\n    var c = false;\n\n    if (b.b0(a)) {\n      c = true;\n      b.b2(a);\n    }\n\n    this.qk.a0(this, this.rj(), runOn(this, this.p3), this.r8(b), this.sa(b));\n    var d = false;\n    var e = this.qk.b;\n\n    if (e != null) {\n      d = true;\n    }\n\n    var f = typeCast(FinancialPriceSeriesView.$, b);\n    f.ca();\n    f.b8 = false;\n\n    if (f.b7) {\n      f.b5.g$d();\n    }\n\n    if (this.trendLineType != 0) {\n      f.b5.g$g(a.p);\n    }\n\n    if (d) {\n      this.ua(a, b, c);\n    } else {\n      f.b6.count = 0;\n      this.t9(a, b);\n    }\n  };\n\n  FinancialPriceSeries.prototype.ga = function () {\n    var a = this.getEffectiveViewport1(this.b0);\n    return this.to(this.qs, a);\n  };\n\n  FinancialPriceSeries.prototype.ua = function (a, b, c) {\n    var d = this.tn;\n    var e = this.getEffectiveViewport1(b);\n    var f = this.to(b, e);\n    var g = (f - 1) / 2;\n    var h = typeCast(FinancialPriceSeriesView.$, b);\n    h.b8 = true;\n    var i = a.f;\n    var j = 0;\n    var k = this.ck.count;\n    var l = this.qb;\n    var m = new ScalerParams(0, b.bv, b.bu, l.cg, e);\n    var n = this.oy;\n    var o = this.th;\n\n    if (o == null) {\n      o = n;\n    }\n\n    var p = this.o1;\n    var q = this.uv;\n\n    if (q == null) {\n      q = p;\n    }\n\n    var _loop_1 = function _loop_1(r) {\n      var s = i._inner[r][0] - g;\n      var t = i._inner[r][0];\n      var u = i._inner[r][0] + g;\n      var v = i._inner[r][1];\n      var w = i._inner[r][2];\n      var x = i._inner[r][3];\n      var y = i._inner[r][4];\n\n      if (isNaN_(v) || isNaN_(w) || isNaN_(x) || isNaN_(y)) {\n        return \"continue\";\n      }\n\n      var z = h.b6.item(j);\n      j++;\n      var aa = v < y;\n      var ab = new PathGeometry();\n\n      if (c) {\n        switch (d) {\n          case 0:\n            if (aa) {\n              var ac = v;\n              v = y;\n              y = ac;\n            }\n\n            var ad = new PathFigure();\n            ad._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: x\n            };\n\n            ad._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: v\n              };\n              return $ret;\n            }());\n\n            var ae = new PathFigure();\n            ae._startPoint = {\n              $type: Point_$type,\n              x: s,\n              y: y\n            };\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: u,\n                y: y\n              };\n              return $ret;\n            }());\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: u,\n                y: v\n              };\n              return $ret;\n            }());\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: s,\n                y: v\n              };\n              return $ret;\n            }());\n\n            ae._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: s,\n                y: y\n              };\n              return $ret;\n            }());\n\n            var af = new PathFigure();\n            af._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: y\n            };\n\n            af._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: w\n              };\n              return $ret;\n            }());\n\n            ab.c.add(ad);\n            ab.c.add(ae);\n            ab.c.add(af);\n            break;\n\n          case 1:\n            var ag = new PathFigure();\n            ag._startPoint = {\n              $type: Point_$type,\n              x: s,\n              y: v\n            };\n\n            ag._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: v\n              };\n              return $ret;\n            }());\n\n            var ah = new PathFigure();\n            ah._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: x\n            };\n\n            ah._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: t,\n                y: w\n              };\n              return $ret;\n            }());\n\n            var ai = new PathFigure();\n            ai._startPoint = {\n              $type: Point_$type,\n              x: t,\n              y: y\n            };\n\n            ai._segments.add(function () {\n              var $ret = new LineSegment(1);\n              $ret.c = {\n                $type: Point_$type,\n                x: u,\n                y: y\n              };\n              return $ret;\n            }());\n\n            ab.c.add(ag);\n            ab.c.add(ah);\n            ab.c.add(ai);\n            break;\n        }\n      }\n\n      if (aa) {\n        this_1.qk.ak = o;\n        this_1.qk.ag = o;\n        this_1.qk.ah = q;\n        this_1.qk.al = q;\n        this_1.qk.f = true;\n      } else {\n        this_1.qk.ak = n;\n        this_1.qk.ag = n;\n        this_1.qk.ah = p;\n        this_1.qk.al = p;\n        this_1.qk.f = false;\n      }\n\n      this_1.s1(i, r, k, l, m, b.q);\n\n      if (d == 1) {\n        this_1.qk.ad(z, true, false, false, false);\n      } else {\n        this_1.qk.ad(z, false, false, false, false);\n      }\n\n      if (c) {\n        z.ak = ab;\n      }\n    };\n\n    var this_1 = this;\n\n    for (var r = 0; r < i.count; ++r) {\n      _loop_1(r);\n    }\n\n    h.b6.count = j;\n    h.cc();\n  };\n\n  FinancialPriceSeries.prototype.to = function (a, b) {\n    var c = this.qb.k3(a.bv, a.bu, b);\n    c = Math.max(c, this.ft * 0.9);\n    c = Math.max(c, 3);\n    return c;\n  };\n\n  FinancialPriceSeries.prototype.t9 = function (a, b) {\n    var c = this.tn;\n    var d = this.getEffectiveViewport1(b);\n    var e = this.to(b, d);\n    var f = (e - 1) / 2;\n    var g = typeCast(FinancialPriceSeriesView.$, b);\n    var h = g.ck();\n    var i = g.cj();\n    var j = a.f;\n\n    var _loop_2 = function _loop_2(k) {\n      var l = j._inner[k][0] - f;\n      var m = j._inner[k][0];\n      var n = j._inner[k][0] + f;\n      var o = j._inner[k][1];\n      var p = j._inner[k][2];\n      var q = j._inner[k][3];\n      var r = j._inner[k][4];\n\n      if (isNaN_(o) || isNaN_(p) || isNaN_(q) || isNaN_(r)) {\n        return \"continue\";\n      }\n\n      var s = o < r;\n      var t = s ? i : h;\n\n      switch (c) {\n        case 0:\n          if (s) {\n            var u = o;\n            o = r;\n            r = u;\n          }\n\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: q\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: o\n            };\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new RectangleGeometry();\n            $ret.e = new Rect(0, l, r, n - l, o - r);\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: r\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: p\n            };\n            return $ret;\n          }());\n          break;\n\n        case 1:\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: l,\n              y: o\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: o\n            };\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: q\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: m,\n              y: p\n            };\n            return $ret;\n          }());\n          t.d.add(function () {\n            var $ret = new LineGeometry();\n            $ret.d = {\n              $type: Point_$type,\n              x: m,\n              y: r\n            };\n            $ret.c = {\n              $type: Point_$type,\n              x: n,\n              y: r\n            };\n            return $ret;\n          }());\n          break;\n      }\n    };\n\n    for (var k = 0; k < j.count; ++k) {\n      _loop_2(k);\n    }\n  };\n\n  FinancialPriceSeries.prototype.hz = function (a, b) {\n    if (this.tm.b7 && a == this.tm.b5.g$j) {\n      return null;\n    }\n\n    return _super.prototype.hz.call(this, a, b);\n  };\n\n  FinancialPriceSeries.prototype.mv = function () {\n    _super.prototype.mv.call(this);\n\n    if (this.index < 0) {\n      return;\n    }\n\n    this.tm.ci();\n  };\n\n  FinancialPriceSeries.prototype.k7 = function (a) {\n    _super.prototype.k7.call(this, a);\n\n    if (this.tm.b7) {\n      this.a8.exportTrendlineData(this, a, this.tm.b5.g$j);\n    }\n  };\n\n  FinancialPriceSeries.prototype.o9 = function () {\n    return this.uv;\n  };\n\n  FinancialPriceSeries.prototype.mm = function (a, b) {\n    _super.prototype.mm.call(this, a, b);\n\n    this.uv = b;\n  };\n\n  FinancialPriceSeries.prototype.ba = function (a) {\n    if (this.tn == 0) {\n      return 3;\n    } else if (this.tn == 1) {\n      if (this.a9 == 1) {\n        return 3;\n      }\n\n      return 2;\n    }\n\n    return a;\n  };\n\n  FinancialPriceSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n    var c = {\n      $type: Point_$type,\n      x: a,\n      y: b\n    };\n    var d = this.gh(c, false, false);\n    var e = this.gf(c, false, false);\n    var f = new DataLegendSeriesValueInfo();\n    f.a = 4;\n    f.l = this.r3(c, false, false);\n    f.p = this.sf != null ? this.sf : \"Close\";\n    f.q = this.tr != null ? this.tr : \"C:\";\n    f.r = this.tt != null ? this.tt : \"\";\n    var g = new DataLegendSeriesValueInfo();\n    g.l = this.r4(c, false, false);\n    g.a = 3;\n    g.p = this.sr != null ? this.sr : \"Open\";\n    g.q = this.t5 != null ? this.t5 : \"O:\";\n    g.r = this.t7 != null ? this.t7 : \"\";\n    g.k = true;\n    var h = new DataLegendSeriesValueInfo();\n    h.l = (f.l - g.l) / g.l * 100;\n    h.l = round10N(h.l, 1);\n    h.a = 9;\n    h.p = \"Change\";\n    h.q = \"\";\n    h.t = \"\";\n    h.v = \"+\";\n    h.u = \"%\";\n    h.w = \"%\";\n    h.r = null;\n    h.c = false;\n    h.k = true;\n    h.e = false;\n    h.f = true;\n    h.h = false;\n    h.g = false;\n    h.d = false;\n    h.n = 1;\n    h.m = 1;\n    g.x = h.l >= 0 ? this.oy : this.th;\n    f.x = h.l >= 0 ? this.oy : this.th;\n    h.x = h.l >= 0 ? this.oy : this.th;\n    var i = new DataLegendSeriesValueInfo();\n    i.l = e > d ? d : e;\n    i.a = 1;\n    i.p = this.sn != null ? this.sn : \"Low\";\n    i.q = this.t0 != null ? this.t0 : \"L:\";\n    i.r = this.t2 != null ? this.t2 : \"\";\n    i.k = true;\n    var j = new DataLegendSeriesValueInfo();\n    j.l = e > d ? e : d;\n    j.a = 2;\n    j.p = this.si != null ? this.si : \"High\";\n    j.q = this.tw != null ? this.tw : \"H:\";\n    j.r = this.ty != null ? this.ty : \"\";\n    j.k = true;\n    var k = new DataLegendSeriesValueInfo();\n    k.l = (j.l + i.l + f.l) / 3;\n    k.l = round10N(k.l, 2);\n    k.a = 5;\n    k.p = \"TypicalPrice\";\n    k.q = \"TP:\";\n    k.r = \"\";\n    k.k = true;\n    var l = new DataLegendSeriesValueInfo();\n    l.l = this.r5(c, false, false);\n    l.a = 8;\n    l.p = this.sv != null ? this.sv : \"Volume\";\n    l.q = \"VOL:\";\n    l.r = \"\";\n    l.k = true;\n    l.n = 0;\n    l.m = 0;\n    l.e = false;\n    l.f = false;\n    l.h = false;\n    var m = new List$1(DataLegendSeriesValueInfo.$, 0);\n    m.add(g);\n    m.add(j);\n    m.add(i);\n    m.add(f);\n    m.add(k);\n    m.add(h);\n    m.add(l);\n    var n = new DataLegendSeriesContext();\n    n.b = this.av();\n    n.f = m;\n    return n;\n  };\n\n  FinancialPriceSeries.$t = markType(FinancialPriceSeries, 'FinancialPriceSeries', FinancialSeries.$, [ITrendLineSeries_$type]);\n  FinancialPriceSeries.uc = DependencyProperty.i(\"ActualTrendLineBrush\", Brush.$, FinancialPriceSeries.$, new PropertyMetadata(2, null, function (a, b) {\n    return a.raisePropertyChanged(\"ActualTrendLineBrush\", b.oldValue, b.newValue);\n  }));\n  FinancialPriceSeries.$$p = markDep(DependencyProperty, PropertyMetadata, FinancialPriceSeries, 'raisePropertyChanged', ['CloseMemberAsLegendLabel:tr:ud', [2, null], 'CloseMemberAsLegendUnit:tt:ue', [2, null], 'DisplayType:tn:uf', [PriceDisplayType_$type, enumGetBox(PriceDisplayType_$type, 0)], 'HighMemberAsLegendLabel:tw:ug', [2, null], 'HighMemberAsLegendUnit:ty:uh', [2, null], 'LowMemberAsLegendLabel:t0:ui', [2, null], 'LowMemberAsLegendUnit:t2:uj', [2, null], 'NegativeOutline:uv:uk', [Brush.$, null], 'OpenMemberAsLegendLabel:t5:ul', [2, null], 'OpenMemberAsLegendUnit:t7:um', [2, null], 'TrendLineType::us', [TrendLineType_$type, enumGetBox(TrendLineType_$type, 0)], 'TrendLineThickness::ur', [1, 1.5], 'TrendLinePeriod::uq', [1, 7], 'TrendLineBrush::un', [Brush.$, null], 'TrendLineZIndex:tq:ut', [1, 1001], 'TrendLineDashArray:uw:uo', [DoubleCollection.$], 'TrendLineDashCap:ux:up', [PenLineCap_$type, enumGetBox(PenLineCap_$type, 0)]]);\n  return FinancialPriceSeries;\n}(FinancialSeries);\n\nexport { FinancialPriceSeries };\n/**\n * @hidden\n */\n\nvar FinancialPriceSeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(FinancialPriceSeriesView, _super);\n\n  function FinancialPriceSeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.b3 = null;\n    _this.b6 = null;\n    _this.b9 = null;\n\n    _this.cn = function () {\n      var $ret = new Path();\n      $ret.ak = new GeometryGroup();\n      return $ret;\n    }();\n\n    _this.cm = function () {\n      var $ret = new Path();\n      $ret.ak = new GeometryGroup();\n      return $ret;\n    }();\n\n    _this.b4 = null;\n    _this.cl = new Path();\n    _this.b8 = false;\n    _this.b3 = a;\n    _this.b9 = new List$1(Path.$, 0);\n\n    _this.b6 = function () {\n      var $ret = new Pool$1(Path.$);\n      $ret.create = runOn(_this, _this.co);\n      $ret.activate = runOn(_this, _this.ce);\n      $ret.disactivate = runOn(_this, _this.cg);\n      $ret.destroy = runOn(_this, _this.cf);\n      return $ret;\n    }();\n\n    return _this;\n  }\n\n  FinancialPriceSeriesView.prototype.co = function () {\n    var a = new Path();\n    this.b9.add(a);\n    a._visibility = 1;\n    return a;\n  };\n\n  FinancialPriceSeriesView.prototype.ce = function (a) {\n    a._visibility = 0;\n  };\n\n  FinancialPriceSeriesView.prototype.cg = function (a) {\n    a._visibility = 1;\n  };\n\n  FinancialPriceSeriesView.prototype.cf = function (a) {\n    this.b9.remove(a);\n  };\n\n  FinancialPriceSeriesView.prototype.by = function () {\n    return new FinancialPriceBucketCalculator(this);\n  };\n\n  FinancialPriceSeriesView.prototype.as = function () {\n    _super.prototype.as.call(this);\n\n    if (!this.q) {\n      this.b3.tn = Defaults.g;\n      this.b3.th = Defaults.ah;\n      this.b3.uv = Defaults.ai;\n      this.b3.gz = Defaults.l;\n      this.b3.o7 = this.b3.o1;\n    }\n  };\n\n  Object.defineProperty(FinancialPriceSeriesView.prototype, \"b5\", {\n    get: function get() {\n      if (this.b4 == null) {\n        this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.m9, this.e, this.e.cn);\n      }\n\n      return this.b4;\n    },\n    set: function set(a) {\n      this.b4 = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(FinancialPriceSeriesView.prototype, \"b7\", {\n    get: function get() {\n      return this.b4 != null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  FinancialPriceSeriesView.prototype.ch = function () {\n    if (this.b3.tn == 1) {\n      this.cn._stroke = this.e.oy;\n    } else {\n      this.cn._stroke = this.e.o1;\n    }\n\n    if (this.b3.tn == 1) {\n      this.cm._stroke = this.bz.th;\n    } else {\n      this.cm._stroke = this.b3.uv;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.cb = function () {\n    this.aq();\n    this.b6.count = 0;\n    this.ca();\n  };\n\n  FinancialPriceSeriesView.prototype.ca = function () {\n    var a = typeCast(GeometryGroup.$, this.cn.ak);\n    var b = typeCast(GeometryGroup.$, this.cm.ak);\n    Extensions.d(a);\n    Extensions.d(b);\n  };\n\n  FinancialPriceSeriesView.prototype.ck = function () {\n    this.aq();\n    return typeCast(GeometryGroup.$, this.cn.ak);\n  };\n\n  FinancialPriceSeriesView.prototype.cj = function () {\n    this.aq();\n    return typeCast(GeometryGroup.$, this.cm.ak);\n  };\n\n  FinancialPriceSeriesView.prototype.ci = function () {\n    this.b3.uu = null;\n\n    if (this.b3.trendLineBrush != null) {\n      this.b3.uu = this.b3.trendLineBrush;\n    } else {\n      this.b3.uu = this.b3.oy;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.bb = function () {\n    _super.prototype.bb.call(this);\n\n    this.cn.ac = this.e.fu;\n    this.cn.ai = this.e.pb;\n    this.cn.ad = this.e.pc;\n\n    if (this.b3.tn == 1) {\n      this.cn._stroke = this.e.oy;\n    } else {\n      this.cn._stroke = this.e.o1;\n      this.cn._fill = this.e.oy;\n    }\n\n    this.cm.ac = this.e.fu;\n    this.cm.ai = this.e.pb;\n    this.cm.ad = this.e.pc;\n\n    if (this.b3.tn == 1) {\n      this.cm._stroke = this.bz.th;\n    } else {\n      this.cm._stroke = this.b3.uv;\n      this.cm._fill = this.bz.th;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.bc = function () {\n    _super.prototype.bc.call(this);\n\n    var a = this.bo();\n    this.cn.ac = this.e.fu + 3;\n\n    if (this.b3.tn == 1) {\n      this.cn._stroke = a;\n    } else {\n      this.cn._stroke = a;\n      this.cn._fill = a;\n    }\n\n    this.cm.ac = this.e.fu + 3;\n\n    if (this.b3.tn == 1) {\n      this.cm._stroke = a;\n    } else {\n      this.cm._stroke = a;\n      this.cm._fill = a;\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.ac = function (a) {\n    return this.b9._inner[a];\n  };\n\n  FinancialPriceSeriesView.prototype.ab = function (a) {\n    var b = this.b9._inner[a];\n    this.cl._visibility = b._visibility;\n    this.cl.ak = b.ak;\n    var c = this.bp(a);\n    this.cl._fill = c;\n    this.cl._stroke = c;\n    this.cl.ac = this.e.fu + 3;\n    return this.cl;\n  };\n\n  FinancialPriceSeriesView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    if (a.d) {\n      if (this.b8) {\n        for (var c = 0; c < this.b9.count; c++) {\n          var d = this.aa(c, b);\n\n          if (d._visibility == 0) {\n            a.s(d);\n          }\n        }\n      } else {\n        a.s(this.cn);\n        a.s(this.cm);\n      }\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.a5 = function (a, b) {\n    if (a.d) {\n      if (this.b3.trendLineType != 0 && !b) {\n        var c = this.b5.g$j;\n        c.ac = this.b3.trendLineThickness;\n        c._stroke = this.b3.uu;\n        c.ai = this.b3.uw;\n        c.ad = this.b3.ux;\n        a.u(c);\n      }\n    }\n\n    _super.prototype.a5.call(this, a, b);\n  };\n\n  FinancialPriceSeriesView.prototype.al = function (a) {\n    _super.prototype.al.call(this, a);\n\n    if (this.b3.rj()) {\n      for (var b = 0; b < this.b9.count; b++) {\n        var c = this.b9._inner[b];\n\n        if (c._fill == this.b3.th) {\n          this.e.a8.exportPathData(a, c, \"negativePathShape\" + b, [\"Negative\"]);\n        } else {\n          this.e.a8.exportPathData(a, c, \"positivePathShape\" + b, [\"Positive\", \"Main\"]);\n        }\n      }\n    } else {\n      this.e.a8.exportPathData(a, this.cn, \"positivePathShape\", [\"Positive\", \"Main\"]);\n      this.e.a8.exportPathData(a, this.cm, \"negativePathShape\", [\"Negative\"]);\n    }\n  };\n\n  FinancialPriceSeriesView.prototype.cc = function () {\n    this.aq();\n  };\n\n  FinancialPriceSeriesView.prototype.cd = function () {\n    if (this.b7) {\n      this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.m9, this.e, this.e.cn);\n    }\n  };\n\n  FinancialPriceSeriesView.$t = markType(FinancialPriceSeriesView, 'FinancialPriceSeriesView', FinancialSeriesView.$);\n  return FinancialPriceSeriesView;\n}(FinancialSeriesView);\n\nexport { FinancialPriceSeriesView };","map":{"version":3,"names":["__extends","__values","FinancialSeries","ITrendLineSeries_$type","TrendLineType_$type","DependencyProperty","Brush","PenLineCap_$type","DoubleCollection","PriceDisplayType_$type","Series","Defaults","enumGetBox","EnumUtil","typeCast","fromEnum","runOn","Point_$type","markType","markDep","CategoryFrame","ISortingAxis_$type","FinancialSeriesView","Rect","List$1","RectUtil","CategoryTrendLineManagerFactory","AxisRange","ScalerParams","TrendResolutionParams","Pool$1","Path","Thickness","PathGeometry","PathFigure","LineSegment","GeometryGroup","LineGeometry","RectangleGeometry","DataLegendSeriesValueInfo","DataLegendSeriesContext","PropertyMetadata","truncate","isNaN_","isInfinity","boxArray$1","round10N","FinancialPriceBucketCalculator","Extensions","FinancialPriceSeries","_super","_this","call","ab","$","qf","qh","qd","prototype","get_ds","gu","gt","k","bx","FinancialPriceSeriesView","ly","a","tm","Object","defineProperty","get","c","uc","set","h","enumerable","configurable","k0","b","d","qb","i$i","e","ft","b7","b5","g$e","qx","c0","mh","bp","bq","pu","f","count","empty","pg","b0","bv","bu","getEffectiveViewport1","aj","r8","sa","g","i","Math","abs","x","j","to","qs","max","l","m","n","o","p","q","r","s","t","min","u","v","w","y","z","aa","ac","ad","tl","tn","Array","ak","ev","ey","pv","isEmpty","fu","f8","containsPoint","al","length","l3","$$p","cd","li","getEnumValue","m9","cn","g$b","lo","ub","mw","s4","mv","l0","ch","bz","ap","q6","minimum","q5","maximum","aq","sf","pq","su","cg","getEffectiveViewport","el","left","right","cm","i$f","floor","ceil","i$b","_inner","item","mayContainUnknowns","ao","gc","gd","q7","en","ck","indexOf","copy","ps","l_op_Inequality","ei","width","height","top","bottom","b8","au","e9","q4","s2","e_1","_a","$ret","clear","r2","trendLineType","_b","rt","_c","next","done","value","e_1_1","error","return","prepareLineCore","trendLinePeriod","getBucket","i$d","ae","NaN","add","kx","cb","b6","g$d","m4","p0","categoryMode","get_c2","b2","qk","a0","rj","p3","ca","g$g","ua","t9","ga","oy","th","o1","uv","_loop_1","_startPoint","$type","_segments","af","ag","ah","ai","this_1","s1","cc","k3","cj","_loop_2","hz","g$j","index","ci","k7","a8","exportTrendlineData","o9","mm","ba","a9","getDataLegendSeriesContextAt","gh","gf","r3","tr","tt","r4","sr","t5","t7","sn","t0","t2","si","tw","ty","r5","sv","av","$t","raisePropertyChanged","oldValue","newValue","b3","b9","b4","cl","create","co","activate","ce","disactivate","destroy","cf","_visibility","remove","by","as","gz","o7","ar","_stroke","uu","trendLineBrush","bb","pb","pc","_fill","bc","bo","a6","a5","trendLineThickness","uw","ux","exportPathData"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-charts/esm5/lib/FinancialPriceSeries_combined.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { FinancialSeries } from \"./FinancialSeries\";\nimport { ITrendLineSeries_$type } from \"./ITrendLineSeries\";\nimport { TrendLineType_$type } from \"igniteui-react-core\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { Brush } from \"igniteui-react-core\";\nimport { PenLineCap_$type } from \"igniteui-react-core\";\nimport { DoubleCollection } from \"igniteui-react-core\";\nimport { PriceDisplayType_$type } from \"./PriceDisplayType\";\nimport { Series } from \"./Series\";\nimport { Defaults } from \"./Defaults\";\nimport { enumGetBox, EnumUtil, typeCast, fromEnum, runOn, Point_$type, markType, markDep } from \"igniteui-react-core\";\nimport { CategoryFrame } from \"./CategoryFrame\";\nimport { ISortingAxis_$type } from \"./ISortingAxis\";\nimport { FinancialSeriesView } from \"./FinancialSeriesView\";\nimport { Rect } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { RectUtil } from \"igniteui-react-core\";\nimport { CategoryTrendLineManagerFactory } from \"./CategoryTrendLineManagerFactory\";\nimport { AxisRange } from \"./AxisRange\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { TrendResolutionParams } from \"./TrendResolutionParams\";\nimport { Pool$1 } from \"igniteui-react-core\";\nimport { Path } from \"igniteui-react-core\";\nimport { Thickness } from \"igniteui-react-core\";\nimport { PathGeometry } from \"igniteui-react-core\";\nimport { PathFigure } from \"igniteui-react-core\";\nimport { LineSegment } from \"igniteui-react-core\";\nimport { GeometryGroup } from \"igniteui-react-core\";\nimport { LineGeometry } from \"igniteui-react-core\";\nimport { RectangleGeometry } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity } from \"igniteui-react-core\";\nimport { boxArray$1 } from \"igniteui-react-core\";\nimport { round10N } from \"igniteui-react-core\";\nimport { FinancialPriceBucketCalculator } from \"./FinancialPriceBucketCalculator\";\nimport { Extensions } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar FinancialPriceSeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(FinancialPriceSeries, _super);\n    function FinancialPriceSeries() {\n        var _this = _super.call(this) || this;\n        _this.ab = FinancialPriceSeries.$;\n        _this.qf = new CategoryFrame(5);\n        _this.qh = new CategoryFrame(5);\n        _this.qd = new CategoryFrame(5);\n        return _this;\n    }\n    FinancialPriceSeries.prototype.get_ds = function () {\n        return true;\n    };\n    FinancialPriceSeries.prototype.gu = function () {\n        if (!isNaN_(this.gt)) {\n            return _super.prototype.gu.call(this);\n        }\n        return Defaults.k;\n    };\n    FinancialPriceSeries.prototype.bx = function () {\n        return new FinancialPriceSeriesView(this);\n    };\n    FinancialPriceSeries.prototype.ly = function (a) {\n        _super.prototype.ly.call(this, a);\n        this.tm = a;\n    };\n    Object.defineProperty(FinancialPriceSeries.prototype, \"uu\", {\n        get: function () {\n            return this.c(FinancialPriceSeries.uc);\n        },\n        set: function (a) {\n            this.h(FinancialPriceSeries.uc, a);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FinancialPriceSeries.prototype.k0 = function (a, b, c, d) {\n        _super.prototype.k0.call(this, a, b, c, d);\n        if (this.qb != null && typeCast(ISortingAxis_$type, this.qb) !== null) {\n            this.qb.i$i();\n        }\n        this.tm.bx.e(this.ft);\n        if (this.tm.b7) {\n            this.tm.b5.g$e(a, b, c, d);\n        }\n        if (this.qx != null) {\n            this.qx.c0();\n        }\n        this.mh(true);\n    };\n    FinancialPriceSeries.prototype.bp = function () {\n        if (this.bq == 0) {\n            return 1;\n        }\n        else {\n            return _super.prototype.bp.call(this);\n        }\n    };\n    FinancialPriceSeries.prototype.pu = function (a) {\n        if (this.qd == null || this.qd.f.count == 0) {\n            return Rect.empty;\n        }\n        var b = this.pg(a);\n        var c = this.b0.bv;\n        var d = this.b0.bu;\n        var e = this.getEffectiveViewport1(this.b0);\n        var f = this.aj(this.qb, this.qd.f, this.r8(this.b0), this.sa(this.b0), a, true);\n        var g = f[0];\n        var h = f[1];\n        var i = Math.abs(b.x - g[0]);\n        var j = Math.abs(b.x - h[0]);\n        var k = this.to(this.qs, e);\n        k = Math.max(k, 3);\n        var l = (k - 1) / 2;\n        if (i < j) {\n            var m = g[0] - l;\n            var n = g[0];\n            var o = g[0] + l;\n            var p = g[1];\n            var q = g[2];\n            var r = g[3];\n            var s = g[4];\n            var t = Math.min(Math.min(Math.min(p, q), r), s);\n            var u = Math.max(Math.max(Math.max(p, q), r), s);\n            return new Rect(0, m, t, Math.abs(o - m), u - t);\n        }\n        else {\n            var v = h[0] - l;\n            var w = h[0];\n            var x = h[0] + l;\n            var y = h[1];\n            var z = h[2];\n            var aa = h[3];\n            var ab = h[4];\n            var ac = Math.min(Math.min(Math.min(y, z), aa), ab);\n            var ad = Math.max(Math.max(Math.max(y, z), aa), ab);\n            return new Rect(0, v, ac, Math.abs(x - v), ad - ac);\n        }\n    };\n    FinancialPriceSeries.prototype.tl = function (a, b) {\n        var c = a[0] - b;\n        var d = a[0];\n        var e = a[0] + b;\n        var f = a[1];\n        var g = a[2];\n        var h = a[3];\n        var i = a[4];\n        var j = Math.min(Math.min(Math.min(f, g), h), i);\n        var k = Math.max(Math.max(Math.max(f, g), h), i);\n        var l = Math.min(g, h);\n        var m = Math.max(g, h);\n        var n = Math.min(f, i);\n        var o = Math.max(f, i);\n        if (this.tn == 1) {\n            var p = new Array(3);\n            var q = new Rect(0, c, f, b, 0);\n            var r = new Rect(0, d, i, b, 0);\n            var s = new Rect(0, d, l, 0, m - l);\n            p[0] = q;\n            p[1] = r;\n            p[2] = s;\n            return p;\n        }\n        else {\n            var t = new Array(2);\n            var u = new Rect(0, d, l, 0, m - l);\n            var v = new Rect(0, c, n, b * 2, o - n);\n            t[0] = u;\n            t[1] = v;\n            return t;\n        }\n    };\n    FinancialPriceSeries.prototype.ak = function (a) {\n        var b = new List$1(Rect.$, 0);\n        var c = this.pg(a);\n        var d = this.b0.bv;\n        var e = this.b0.bu;\n        var f = this.getEffectiveViewport1(this.b0);\n        var g = this.aj(this.qb, this.qd.f, this.r8(this.b0), this.sa(this.b0), a, true);\n        var h = g[0];\n        var i = g[1];\n        var j = Math.abs(c.x - h[0]);\n        var k = Math.abs(c.x - i[0]);\n        var l = this.to(this.qs, f);\n        l = Math.max(l, 3);\n        var m = (l - 1) / 2;\n        if (j < k) {\n            return this.tl(h, m);\n        }\n        else {\n            return this.tl(i, m);\n        }\n    };\n    FinancialPriceSeries.prototype.ev = function (a, b) {\n        if (this.ey(a, b)) {\n            return true;\n        }\n        return false;\n    };\n    FinancialPriceSeries.prototype.ey = function (a, b) {\n        var c = this.pv(a);\n        if (c.isEmpty) {\n            return false;\n        }\n        var d = RectUtil.r(c, (this.fu / 2) + this.f8(b));\n        if (d.containsPoint(a)) {\n            var e = this.al(a);\n            if (e != null) {\n                for (var f = 0; f < e.length; f++) {\n                    var g = e[f];\n                    var h = RectUtil.r(g, (this.fu / 2) + this.f8(b));\n                    if (h.containsPoint(a)) {\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    FinancialPriceSeries.prototype.l3 = function (a, b, c, d) {\n        switch (b) {\n            case FinancialSeries.$$p[9]:\n                this.tm.cd();\n                if (this.cd != null) {\n                    this.cd.li();\n                }\n                break;\n            case \"TrendLineType\":\n                var e = EnumUtil.getEnumValue(TrendLineType_$type, d);\n                if (e != 0) {\n                    this.tm.b5 = CategoryTrendLineManagerFactory.a(this.tm.b5, this.qb, this.m9, this, this.cn);\n                }\n                break;\n        }\n        _super.prototype.l3.call(this, a, b, c, d);\n        if (this.tm.b7 && this.tm.b5 != null && this.tm.b5.g$b(a, b, c, d)) {\n            this.mh(false);\n            this.lo();\n        }\n        switch (b) {\n            case FinancialPriceSeries.$$p[2]:\n                if (this.m9 != null) {\n                    this.ub();\n                    this.mw();\n                    this.qd.w();\n                    this.s4(this.qd, this.tm);\n                }\n                this.lo();\n                break;\n            case \"ActualHighlightingMode\":\n                this.mh(true);\n                break;\n            case \"TrendLineBrush\":\n                this.mv();\n                break;\n            case \"TrendLineType\":\n                this.lo();\n                break;\n            case FinancialSeries.$$p[5]:\n            case FinancialPriceSeries.$$p[7]:\n                this.l0();\n                break;\n        }\n    };\n    FinancialPriceSeries.prototype.ub = function () {\n        this.tm.ch();\n        if (this.bz != null) {\n            this.bz.ch();\n        }\n    };\n    FinancialPriceSeries.prototype.ap = function (a) {\n        if (a != null && a == this.qx && this.q6 != null && !isNaN_(this.q6.minimum) && this.q5 != null && !isNaN_(this.q5.maximum)) {\n            return new AxisRange(this.q6.minimum, this.q5.maximum);\n        }\n        return null;\n    };\n    FinancialPriceSeries.prototype.aq = function (a) {\n        if (a.isEmpty && this.cd != null) {\n            a = this.cd.sf;\n        }\n        if (this.q6 == null || this.q5 == null) {\n            return null;\n        }\n        var b = this.pq(this.b0);\n        var c = new ScalerParams(0, a, this.cd.su, this.qb.cg, this.getEffectiveViewport());\n        var d = (this.qb.el(b.left, c));\n        var e = (this.qb.el(b.right, c));\n        if (this.qb.cg) {\n            var f = d;\n            d = e;\n            e = f;\n        }\n        var g = null;\n        if (this.qb.cm) {\n            g = this.qb;\n            d = g.i$f(d);\n            e = g.i$f(e);\n        }\n        else {\n            d = Math.floor(d);\n            e = Math.ceil(e);\n        }\n        d = Math.max(0, Math.min(this.q6.count - 1, d));\n        e = Math.max(0, Math.min(this.q6.count - 1, e));\n        var h = 1.7976931348623157E+308;\n        var i = -1.7976931348623157E+308;\n        for (var j = truncate(d); j <= truncate(e); j++) {\n            var k = j;\n            if (g != null) {\n                k = g.i$b._inner[j];\n            }\n            var l = this.q6.item(k);\n            if (this.q6.mayContainUnknowns) {\n                if (isInfinity(l) || isNaN_(l)) {\n                    continue;\n                }\n            }\n            var m = this.q5.item(k);\n            if (this.q5.mayContainUnknowns) {\n                if (isInfinity(m) || isNaN_(m)) {\n                    continue;\n                }\n            }\n            h = Math.min(h, l);\n            i = Math.max(i, m);\n        }\n        var n = new AxisRange(h, i);\n        n = this.ao(n, this.qx, a);\n        return n;\n    };\n    FinancialPriceSeries.prototype.gc = function () {\n        return Series.gd(this.q7, typeCast(ISortingAxis_$type, this.qb));\n    };\n    FinancialPriceSeries.prototype.en = function (a) {\n        var b = this.ck != null ? this.ck.indexOf(a) : -1;\n        var c = this.b0.bv;\n        c = c.copy();\n        var d = this.b0.bu;\n        var e = new Rect(0, 0, 0, 1, 1);\n        var f = this.ps(this.b0);\n        if (b >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {\n            if (this.qb != null) {\n                var g = new ScalerParams(0, e, e, this.qb.cg, f);\n                var h = this.qb.ei(b, g);\n                if (h < c.left + 0.1 * c.width) {\n                    h = h + 0.4 * c.width;\n                }\n                if (h > c.right - 0.1 * c.width) {\n                    h = h - 0.4 * c.width;\n                }\n                c.x = h - 0.5 * c.width;\n            }\n            if (this.qx != null && this.q6 != null && this.q5 != null && b < this.q6.count && b < this.q5.count) {\n                var i = new ScalerParams(0, e, e, this.qx.cg, f);\n                i.b = this.gc();\n                var j = this.qx.ei(this.q6.item(b), i);\n                var k = this.qx.ei(this.q5.item(b), i);\n                if (!isNaN_(j) && !isNaN_(k)) {\n                    var l = Math.abs(j - k);\n                    if (c.height < l) {\n                        c.height = l;\n                        c.y = Math.min(j, k);\n                    }\n                    else {\n                        if (j < c.top + 0.1 * c.height) {\n                            j = j + 0.4 * c.height;\n                        }\n                        if (j > c.bottom - 0.1 * c.height) {\n                            j = j - 0.4 * c.height;\n                        }\n                        c.y = j - 0.5 * c.height;\n                    }\n                }\n            }\n            this.b8.au(this.cd, c, true);\n        }\n        return b >= 0;\n    };\n    FinancialPriceSeries.prototype.e9 = function (a, b, c) {\n        var d = _super.prototype.e9.call(this, a, b, c);\n        if (this.q7 == null || this.q4 == null || this.q5 == null || this.q6 == null) {\n            d = false;\n        }\n        return d;\n    };\n    FinancialPriceSeries.prototype.s2 = function (a, b) {\n        var e_1, _a;\n        var _this = this;\n        _super.prototype.s2.call(this, a, b);\n        var c = b.bv;\n        var d = b.bu;\n        var e = this.getEffectiveViewport1(b);\n        var f = this.qb;\n        var g = this.qx;\n        var h = new ScalerParams(0, c, d, f.cg, e);\n        var i = ((function () {\n            var $ret = new ScalerParams(0, c, d, g.cg, e);\n            $ret.b = _this.gc();\n            return $ret;\n        })());\n        a.f.clear();\n        a.m.clear();\n        a.p.clear();\n        var j = 0;\n        var k = typeCast(ISortingAxis_$type, this.qb);\n        if (k != null && (k.i$b == null || k.i$b.count != this.ck.count)) {\n            return;\n        }\n        j = this.r2(c, d, e);\n        var l = typeCast(FinancialPriceSeriesView.$, b);\n        var m = this.ft;\n        if (this.trendLineType != 0) {\n            var n = new Array(this.ck.count);\n            var o = 0;\n            try {\n                for (var _b = __values(fromEnum(this.rt)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var p = _c.value;\n                    n[o] = p;\n                    o++;\n                }\n            }\n            catch (e_1_1) {\n                e_1 = { error: e_1_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_1)\n                        throw e_1.error;\n                }\n            }\n            if (this.tm.b7) {\n                this.tm.b5.prepareLineCore(a.p, this.trendLineType, boxArray$1(n), this.trendLinePeriod, function (q) { return _this.qb.ei(q, h); }, function (q) { return _this.qx.ei(q, i); }, ((function () {\n                    var $ret = new TrendResolutionParams();\n                    $ret.c = b.bx.b;\n                    $ret.d = b.bx.c;\n                    $ret.e = b.bx.d;\n                    $ret.a = j;\n                    $ret.b = m;\n                    $ret.f = d;\n                    return $ret;\n                })()));\n            }\n        }\n        var q = this.qb.el(2, h) - this.qb.el(1, h);\n        for (var r = b.bx.c; r <= b.bx.d; ++r) {\n            var s = void 0;\n            if (k == null) {\n                s = b.bx.getBucket(r);\n            }\n            else {\n                var t = k.i$b._inner[r];\n                var u = k.i$d(t);\n                var v = this.q7.item(t);\n                var w = this.q5.item(t);\n                var x = this.q6.item(t);\n                var y = this.q4.item(t);\n                var z = v;\n                var aa = w;\n                var ab = x;\n                var ac = y;\n                var ad = u;\n                while (r < b.bx.d) {\n                    t = k.i$b._inner[r + 1];\n                    ad = k.i$d(t);\n                    if (ad - u > q * m) {\n                        break;\n                    }\n                    r++;\n                    aa = Math.max(aa, this.q5.item(t));\n                    ab = Math.min(ab, this.q6.item(t));\n                    ac = this.q4.item(t);\n                }\n                var ae = NaN;\n                if (!isNaN_(u)) {\n                    ae = this.qb.ei(u, h);\n                }\n                s = [ae, z, aa, ab, ac];\n            }\n            if (!isNaN_(s[0])) {\n                if (k != null) {\n                    s[0] = s[0] + j;\n                }\n                else {\n                    s[0] = f.ei(s[0], h) + j;\n                }\n                s[1] = g.ei(s[1], i);\n                s[2] = g.ei(s[2], i);\n                s[3] = g.ei(s[3], i);\n                s[4] = g.ei(s[4], i);\n                a.f.add(s);\n            }\n        }\n        return;\n    };\n    FinancialPriceSeries.prototype.kx = function (a, b) {\n        _super.prototype.kx.call(this, a, b);\n        var c = typeCast(FinancialPriceSeriesView.$, b);\n        c.cb();\n        if (a) {\n            c.b6.count = 0;\n        }\n        if (c.b7 && c.b5 != null) {\n            c.b5.g$d();\n        }\n    };\n    FinancialPriceSeries.prototype.m4 = function (a, b) {\n        _super.prototype.m4.call(this, a, b);\n        if (this.cd != null) {\n            this.cd.li();\n        }\n    };\n    FinancialPriceSeries.prototype.p0 = function (a, b) {\n        if (this.qb != null && this.qb.categoryMode == 0) {\n            var c = this.getEffectiveViewport1(this.b0);\n            var d = this.to(this.qs, c) / 2;\n            return new Thickness(1, d, 0, d, 0);\n        }\n        return _super.prototype.p0.call(this, a, b);\n    };\n    FinancialPriceSeries.prototype.get_c2 = function () {\n        return true;\n    };\n    FinancialPriceSeries.prototype.s4 = function (a, b) {\n        _super.prototype.s4.call(this, a, b);\n        if (this.qb == null || this.qx == null) {\n            return;\n        }\n        var c = false;\n        if (b.b0(a)) {\n            c = true;\n            b.b2(a);\n        }\n        this.qk.a0(this, this.rj(), runOn(this, this.p3), this.r8(b), this.sa(b));\n        var d = false;\n        var e = this.qk.b;\n        if (e != null) {\n            d = true;\n        }\n        var f = typeCast(FinancialPriceSeriesView.$, b);\n        f.ca();\n        f.b8 = false;\n        if (f.b7) {\n            f.b5.g$d();\n        }\n        if (this.trendLineType != 0) {\n            f.b5.g$g(a.p);\n        }\n        if (d) {\n            this.ua(a, b, c);\n        }\n        else {\n            f.b6.count = 0;\n            this.t9(a, b);\n        }\n    };\n    FinancialPriceSeries.prototype.ga = function () {\n        var a = this.getEffectiveViewport1(this.b0);\n        return this.to(this.qs, a);\n    };\n    FinancialPriceSeries.prototype.ua = function (a, b, c) {\n        var d = this.tn;\n        var e = this.getEffectiveViewport1(b);\n        var f = this.to(b, e);\n        var g = (f - 1) / 2;\n        var h = typeCast(FinancialPriceSeriesView.$, b);\n        h.b8 = true;\n        var i = a.f;\n        var j = 0;\n        var k = this.ck.count;\n        var l = this.qb;\n        var m = new ScalerParams(0, b.bv, b.bu, l.cg, e);\n        var n = this.oy;\n        var o = this.th;\n        if (o == null) {\n            o = n;\n        }\n        var p = this.o1;\n        var q = this.uv;\n        if (q == null) {\n            q = p;\n        }\n        var _loop_1 = function (r) {\n            var s = i._inner[r][0] - g;\n            var t = i._inner[r][0];\n            var u = i._inner[r][0] + g;\n            var v = i._inner[r][1];\n            var w = i._inner[r][2];\n            var x = i._inner[r][3];\n            var y = i._inner[r][4];\n            if (isNaN_(v) || isNaN_(w) || isNaN_(x) || isNaN_(y)) {\n                return \"continue\";\n            }\n            var z = h.b6.item(j);\n            j++;\n            var aa = v < y;\n            var ab = new PathGeometry();\n            if (c) {\n                switch (d) {\n                    case 0:\n                        if (aa) {\n                            var ac = v;\n                            v = y;\n                            y = ac;\n                        }\n                        var ad = new PathFigure();\n                        ad._startPoint = { $type: Point_$type, x: t, y: x };\n                        ad._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: v };\n                            return $ret;\n                        })()));\n                        var ae = new PathFigure();\n                        ae._startPoint = { $type: Point_$type, x: s, y: y };\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: u, y: y };\n                            return $ret;\n                        })()));\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: u, y: v };\n                            return $ret;\n                        })()));\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: s, y: v };\n                            return $ret;\n                        })()));\n                        ae._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: s, y: y };\n                            return $ret;\n                        })()));\n                        var af = new PathFigure();\n                        af._startPoint = { $type: Point_$type, x: t, y: y };\n                        af._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: w };\n                            return $ret;\n                        })()));\n                        ab.c.add(ad);\n                        ab.c.add(ae);\n                        ab.c.add(af);\n                        break;\n                    case 1:\n                        var ag = new PathFigure();\n                        ag._startPoint = { $type: Point_$type, x: s, y: v };\n                        ag._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: v };\n                            return $ret;\n                        })()));\n                        var ah = new PathFigure();\n                        ah._startPoint = { $type: Point_$type, x: t, y: x };\n                        ah._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: t, y: w };\n                            return $ret;\n                        })()));\n                        var ai = new PathFigure();\n                        ai._startPoint = { $type: Point_$type, x: t, y: y };\n                        ai._segments.add(((function () {\n                            var $ret = new LineSegment(1);\n                            $ret.c = { $type: Point_$type, x: u, y: y };\n                            return $ret;\n                        })()));\n                        ab.c.add(ag);\n                        ab.c.add(ah);\n                        ab.c.add(ai);\n                        break;\n                }\n            }\n            if (aa) {\n                this_1.qk.ak = o;\n                this_1.qk.ag = o;\n                this_1.qk.ah = q;\n                this_1.qk.al = q;\n                this_1.qk.f = true;\n            }\n            else {\n                this_1.qk.ak = n;\n                this_1.qk.ag = n;\n                this_1.qk.ah = p;\n                this_1.qk.al = p;\n                this_1.qk.f = false;\n            }\n            this_1.s1(i, r, k, l, m, b.q);\n            if (d == 1) {\n                this_1.qk.ad(z, true, false, false, false);\n            }\n            else {\n                this_1.qk.ad(z, false, false, false, false);\n            }\n            if (c) {\n                z.ak = ab;\n            }\n        };\n        var this_1 = this;\n        for (var r = 0; r < i.count; ++r) {\n            _loop_1(r);\n        }\n        h.b6.count = j;\n        h.cc();\n    };\n    FinancialPriceSeries.prototype.to = function (a, b) {\n        var c = this.qb.k3(a.bv, a.bu, b);\n        c = Math.max(c, this.ft * 0.9);\n        c = Math.max(c, 3);\n        return c;\n    };\n    FinancialPriceSeries.prototype.t9 = function (a, b) {\n        var c = this.tn;\n        var d = this.getEffectiveViewport1(b);\n        var e = this.to(b, d);\n        var f = (e - 1) / 2;\n        var g = typeCast(FinancialPriceSeriesView.$, b);\n        var h = g.ck();\n        var i = g.cj();\n        var j = a.f;\n        var _loop_2 = function (k) {\n            var l = j._inner[k][0] - f;\n            var m = j._inner[k][0];\n            var n = j._inner[k][0] + f;\n            var o = j._inner[k][1];\n            var p = j._inner[k][2];\n            var q = j._inner[k][3];\n            var r = j._inner[k][4];\n            if (isNaN_(o) || isNaN_(p) || isNaN_(q) || isNaN_(r)) {\n                return \"continue\";\n            }\n            var s = o < r;\n            var t = s ? i : h;\n            switch (c) {\n                case 0:\n                    if (s) {\n                        var u = o;\n                        o = r;\n                        r = u;\n                    }\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: q };\n                        $ret.c = { $type: Point_$type, x: m, y: o };\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new RectangleGeometry();\n                        $ret.e = new Rect(0, l, r, n - l, o - r);\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: r };\n                        $ret.c = { $type: Point_$type, x: m, y: p };\n                        return $ret;\n                    })()));\n                    break;\n                case 1:\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: l, y: o };\n                        $ret.c = { $type: Point_$type, x: m, y: o };\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: q };\n                        $ret.c = { $type: Point_$type, x: m, y: p };\n                        return $ret;\n                    })()));\n                    t.d.add(((function () {\n                        var $ret = new LineGeometry();\n                        $ret.d = { $type: Point_$type, x: m, y: r };\n                        $ret.c = { $type: Point_$type, x: n, y: r };\n                        return $ret;\n                    })()));\n                    break;\n            }\n        };\n        for (var k = 0; k < j.count; ++k) {\n            _loop_2(k);\n        }\n    };\n    FinancialPriceSeries.prototype.hz = function (a, b) {\n        if (this.tm.b7 && a == this.tm.b5.g$j) {\n            return null;\n        }\n        return _super.prototype.hz.call(this, a, b);\n    };\n    FinancialPriceSeries.prototype.mv = function () {\n        _super.prototype.mv.call(this);\n        if (this.index < 0) {\n            return;\n        }\n        this.tm.ci();\n    };\n    FinancialPriceSeries.prototype.k7 = function (a) {\n        _super.prototype.k7.call(this, a);\n        if (this.tm.b7) {\n            this.a8.exportTrendlineData(this, a, this.tm.b5.g$j);\n        }\n    };\n    FinancialPriceSeries.prototype.o9 = function () {\n        return this.uv;\n    };\n    FinancialPriceSeries.prototype.mm = function (a, b) {\n        _super.prototype.mm.call(this, a, b);\n        this.uv = b;\n    };\n    FinancialPriceSeries.prototype.ba = function (a) {\n        if (this.tn == 0) {\n            return 3;\n        }\n        else if (this.tn == 1) {\n            if (this.a9 == 1) {\n                return 3;\n            }\n            return 2;\n        }\n        return a;\n    };\n    FinancialPriceSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n        var c = { $type: Point_$type, x: a, y: b };\n        var d = this.gh(c, false, false);\n        var e = this.gf(c, false, false);\n        var f = new DataLegendSeriesValueInfo();\n        f.a = 4;\n        f.l = this.r3(c, false, false);\n        f.p = this.sf != null ? this.sf : \"Close\";\n        f.q = this.tr != null ? this.tr : \"C:\";\n        f.r = this.tt != null ? this.tt : \"\";\n        var g = new DataLegendSeriesValueInfo();\n        g.l = this.r4(c, false, false);\n        g.a = 3;\n        g.p = this.sr != null ? this.sr : \"Open\";\n        g.q = this.t5 != null ? this.t5 : \"O:\";\n        g.r = this.t7 != null ? this.t7 : \"\";\n        g.k = true;\n        var h = new DataLegendSeriesValueInfo();\n        h.l = (f.l - g.l) / g.l * 100;\n        h.l = round10N(h.l, 1);\n        h.a = 9;\n        h.p = \"Change\";\n        h.q = \"\";\n        h.t = \"\";\n        h.v = \"+\";\n        h.u = \"%\";\n        h.w = \"%\";\n        h.r = null;\n        h.c = false;\n        h.k = true;\n        h.e = false;\n        h.f = true;\n        h.h = false;\n        h.g = false;\n        h.d = false;\n        h.n = 1;\n        h.m = 1;\n        g.x = h.l >= 0 ? this.oy : this.th;\n        f.x = h.l >= 0 ? this.oy : this.th;\n        h.x = h.l >= 0 ? this.oy : this.th;\n        var i = new DataLegendSeriesValueInfo();\n        i.l = e > d ? d : e;\n        i.a = 1;\n        i.p = this.sn != null ? this.sn : \"Low\";\n        i.q = this.t0 != null ? this.t0 : \"L:\";\n        i.r = this.t2 != null ? this.t2 : \"\";\n        i.k = true;\n        var j = new DataLegendSeriesValueInfo();\n        j.l = e > d ? e : d;\n        j.a = 2;\n        j.p = this.si != null ? this.si : \"High\";\n        j.q = this.tw != null ? this.tw : \"H:\";\n        j.r = this.ty != null ? this.ty : \"\";\n        j.k = true;\n        var k = new DataLegendSeriesValueInfo();\n        k.l = (j.l + i.l + f.l) / 3;\n        k.l = round10N(k.l, 2);\n        k.a = 5;\n        k.p = \"TypicalPrice\";\n        k.q = \"TP:\";\n        k.r = \"\";\n        k.k = true;\n        var l = new DataLegendSeriesValueInfo();\n        l.l = this.r5(c, false, false);\n        l.a = 8;\n        l.p = this.sv != null ? this.sv : \"Volume\";\n        l.q = \"VOL:\";\n        l.r = \"\";\n        l.k = true;\n        l.n = 0;\n        l.m = 0;\n        l.e = false;\n        l.f = false;\n        l.h = false;\n        var m = new List$1(DataLegendSeriesValueInfo.$, 0);\n        m.add(g);\n        m.add(j);\n        m.add(i);\n        m.add(f);\n        m.add(k);\n        m.add(h);\n        m.add(l);\n        var n = new DataLegendSeriesContext();\n        n.b = this.av();\n        n.f = m;\n        return n;\n    };\n    FinancialPriceSeries.$t = markType(FinancialPriceSeries, 'FinancialPriceSeries', FinancialSeries.$, [ITrendLineSeries_$type]);\n    FinancialPriceSeries.uc = DependencyProperty.i(\"ActualTrendLineBrush\", Brush.$, FinancialPriceSeries.$, new PropertyMetadata(2, null, function (a, b) { return a.raisePropertyChanged(\"ActualTrendLineBrush\", b.oldValue, b.newValue); }));\n    FinancialPriceSeries.$$p = markDep(DependencyProperty, PropertyMetadata, FinancialPriceSeries, 'raisePropertyChanged', ['CloseMemberAsLegendLabel:tr:ud', [2, null], 'CloseMemberAsLegendUnit:tt:ue', [2, null], 'DisplayType:tn:uf', [PriceDisplayType_$type, enumGetBox(PriceDisplayType_$type, 0)], 'HighMemberAsLegendLabel:tw:ug', [2, null], 'HighMemberAsLegendUnit:ty:uh', [2, null], 'LowMemberAsLegendLabel:t0:ui', [2, null], 'LowMemberAsLegendUnit:t2:uj', [2, null], 'NegativeOutline:uv:uk', [Brush.$, null], 'OpenMemberAsLegendLabel:t5:ul', [2, null], 'OpenMemberAsLegendUnit:t7:um', [2, null], 'TrendLineType::us', [TrendLineType_$type, enumGetBox(TrendLineType_$type, 0)], 'TrendLineThickness::ur', [1, 1.5], 'TrendLinePeriod::uq', [1, 7], 'TrendLineBrush::un', [Brush.$, null], 'TrendLineZIndex:tq:ut', [1, 1001], 'TrendLineDashArray:uw:uo', [DoubleCollection.$], 'TrendLineDashCap:ux:up', [PenLineCap_$type, enumGetBox(PenLineCap_$type, 0)]]);\n    return FinancialPriceSeries;\n}(FinancialSeries));\nexport { FinancialPriceSeries };\n/**\n * @hidden\n */\nvar FinancialPriceSeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(FinancialPriceSeriesView, _super);\n    function FinancialPriceSeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.b3 = null;\n        _this.b6 = null;\n        _this.b9 = null;\n        _this.cn = ((function () {\n            var $ret = new Path();\n            $ret.ak = new GeometryGroup();\n            return $ret;\n        })());\n        _this.cm = ((function () {\n            var $ret = new Path();\n            $ret.ak = new GeometryGroup();\n            return $ret;\n        })());\n        _this.b4 = null;\n        _this.cl = new Path();\n        _this.b8 = false;\n        _this.b3 = a;\n        _this.b9 = new List$1(Path.$, 0);\n        _this.b6 = ((function () {\n            var $ret = new Pool$1(Path.$);\n            $ret.create = runOn(_this, _this.co);\n            $ret.activate = runOn(_this, _this.ce);\n            $ret.disactivate = runOn(_this, _this.cg);\n            $ret.destroy = runOn(_this, _this.cf);\n            return $ret;\n        })());\n        return _this;\n    }\n    FinancialPriceSeriesView.prototype.co = function () {\n        var a = new Path();\n        this.b9.add(a);\n        a._visibility = 1;\n        return a;\n    };\n    FinancialPriceSeriesView.prototype.ce = function (a) {\n        a._visibility = 0;\n    };\n    FinancialPriceSeriesView.prototype.cg = function (a) {\n        a._visibility = 1;\n    };\n    FinancialPriceSeriesView.prototype.cf = function (a) {\n        this.b9.remove(a);\n    };\n    FinancialPriceSeriesView.prototype.by = function () {\n        return new FinancialPriceBucketCalculator(this);\n    };\n    FinancialPriceSeriesView.prototype.as = function () {\n        _super.prototype.as.call(this);\n        if (!this.q) {\n            this.b3.tn = Defaults.g;\n            this.b3.th = Defaults.ah;\n            this.b3.uv = Defaults.ai;\n            this.b3.gz = Defaults.l;\n            this.b3.o7 = this.b3.o1;\n        }\n    };\n    Object.defineProperty(FinancialPriceSeriesView.prototype, \"b5\", {\n        get: function () {\n            if (this.b4 == null) {\n                this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.m9, this.e, this.e.cn);\n            }\n            return this.b4;\n        },\n        set: function (a) {\n            this.b4 = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FinancialPriceSeriesView.prototype, \"b7\", {\n        get: function () {\n            return this.b4 != null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FinancialPriceSeriesView.prototype.ch = function () {\n        if (this.b3.tn == 1) {\n            this.cn._stroke = this.e.oy;\n        }\n        else {\n            this.cn._stroke = this.e.o1;\n        }\n        if (this.b3.tn == 1) {\n            this.cm._stroke = this.bz.th;\n        }\n        else {\n            this.cm._stroke = this.b3.uv;\n        }\n    };\n    FinancialPriceSeriesView.prototype.cb = function () {\n        this.aq();\n        this.b6.count = 0;\n        this.ca();\n    };\n    FinancialPriceSeriesView.prototype.ca = function () {\n        var a = typeCast(GeometryGroup.$, this.cn.ak);\n        var b = typeCast(GeometryGroup.$, this.cm.ak);\n        Extensions.d(a);\n        Extensions.d(b);\n    };\n    FinancialPriceSeriesView.prototype.ck = function () {\n        this.aq();\n        return typeCast(GeometryGroup.$, this.cn.ak);\n    };\n    FinancialPriceSeriesView.prototype.cj = function () {\n        this.aq();\n        return typeCast(GeometryGroup.$, this.cm.ak);\n    };\n    FinancialPriceSeriesView.prototype.ci = function () {\n        this.b3.uu = null;\n        if (this.b3.trendLineBrush != null) {\n            this.b3.uu = this.b3.trendLineBrush;\n        }\n        else {\n            this.b3.uu = this.b3.oy;\n        }\n    };\n    FinancialPriceSeriesView.prototype.bb = function () {\n        _super.prototype.bb.call(this);\n        this.cn.ac = this.e.fu;\n        this.cn.ai = this.e.pb;\n        this.cn.ad = this.e.pc;\n        if (this.b3.tn == 1) {\n            this.cn._stroke = this.e.oy;\n        }\n        else {\n            this.cn._stroke = this.e.o1;\n            this.cn._fill = this.e.oy;\n        }\n        this.cm.ac = this.e.fu;\n        this.cm.ai = this.e.pb;\n        this.cm.ad = this.e.pc;\n        if (this.b3.tn == 1) {\n            this.cm._stroke = this.bz.th;\n        }\n        else {\n            this.cm._stroke = this.b3.uv;\n            this.cm._fill = this.bz.th;\n        }\n    };\n    FinancialPriceSeriesView.prototype.bc = function () {\n        _super.prototype.bc.call(this);\n        var a = this.bo();\n        this.cn.ac = this.e.fu + 3;\n        if (this.b3.tn == 1) {\n            this.cn._stroke = a;\n        }\n        else {\n            this.cn._stroke = a;\n            this.cn._fill = a;\n        }\n        this.cm.ac = this.e.fu + 3;\n        if (this.b3.tn == 1) {\n            this.cm._stroke = a;\n        }\n        else {\n            this.cm._stroke = a;\n            this.cm._fill = a;\n        }\n    };\n    FinancialPriceSeriesView.prototype.ac = function (a) {\n        return this.b9._inner[a];\n    };\n    FinancialPriceSeriesView.prototype.ab = function (a) {\n        var b = this.b9._inner[a];\n        this.cl._visibility = b._visibility;\n        this.cl.ak = b.ak;\n        var c = this.bp(a);\n        this.cl._fill = c;\n        this.cl._stroke = c;\n        this.cl.ac = this.e.fu + 3;\n        return this.cl;\n    };\n    FinancialPriceSeriesView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        if (a.d) {\n            if (this.b8) {\n                for (var c = 0; c < this.b9.count; c++) {\n                    var d = this.aa(c, b);\n                    if (d._visibility == 0) {\n                        a.s(d);\n                    }\n                }\n            }\n            else {\n                a.s(this.cn);\n                a.s(this.cm);\n            }\n        }\n    };\n    FinancialPriceSeriesView.prototype.a5 = function (a, b) {\n        if (a.d) {\n            if (this.b3.trendLineType != 0 && !b) {\n                var c = this.b5.g$j;\n                c.ac = this.b3.trendLineThickness;\n                c._stroke = this.b3.uu;\n                c.ai = this.b3.uw;\n                c.ad = this.b3.ux;\n                a.u(c);\n            }\n        }\n        _super.prototype.a5.call(this, a, b);\n    };\n    FinancialPriceSeriesView.prototype.al = function (a) {\n        _super.prototype.al.call(this, a);\n        if (this.b3.rj()) {\n            for (var b = 0; b < this.b9.count; b++) {\n                var c = this.b9._inner[b];\n                if (c._fill == this.b3.th) {\n                    this.e.a8.exportPathData(a, c, \"negativePathShape\" + b, [\"Negative\"]);\n                }\n                else {\n                    this.e.a8.exportPathData(a, c, \"positivePathShape\" + b, [\"Positive\", \"Main\"]);\n                }\n            }\n        }\n        else {\n            this.e.a8.exportPathData(a, this.cn, \"positivePathShape\", [\"Positive\", \"Main\"]);\n            this.e.a8.exportPathData(a, this.cm, \"negativePathShape\", [\"Negative\"]);\n        }\n    };\n    FinancialPriceSeriesView.prototype.cc = function () {\n        this.aq();\n    };\n    FinancialPriceSeriesView.prototype.cd = function () {\n        if (this.b7) {\n            this.b4 = CategoryTrendLineManagerFactory.a(this.b4, this.e.ar(), this.e.m9, this.e, this.e.cn);\n        }\n    };\n    FinancialPriceSeriesView.$t = markType(FinancialPriceSeriesView, 'FinancialPriceSeriesView', FinancialSeriesView.$);\n    return FinancialPriceSeriesView;\n}(FinancialSeriesView));\nexport { FinancialPriceSeriesView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}