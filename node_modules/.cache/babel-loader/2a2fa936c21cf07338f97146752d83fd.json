{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Series } from \"./Series\";\nimport { NumericXAxis } from \"./NumericXAxis\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { NumericYAxis } from \"./NumericYAxis\";\nimport { Color } from \"igniteui-react-core\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { Defaults } from \"./Defaults\";\nimport { KDTree2D } from \"./KDTree2D\";\nimport { Point_$type, typeGetValue, runOn, delegateRemove, typeCast, delegateCombine, markType, markDep, toNullable } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { SeriesView } from \"./SeriesView\";\nimport { KDPointData } from \"./KDPointData\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ProgressiveLoadStatusEventArgs } from \"./ProgressiveLoadStatusEventArgs\";\nimport { SearchArgs } from \"./SearchArgs\";\nimport { KDTreeNode2D } from \"./KDTreeNode2D\";\nimport { AxisRange } from \"./AxisRange\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity, logBase, intDivide } from \"igniteui-react-core\";\nimport { boxArray$1, arrayShallowClone } from \"igniteui-react-core\";\nimport { dateNow } from \"igniteui-react-core\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { Rectangle } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar HighDensityScatterSeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(HighDensityScatterSeries, _super);\n\n  function HighDensityScatterSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.qg = null;\n    _this.qi = null;\n    _this.rr = 0;\n    _this.qk = false;\n    _this.q6 = Defaults.aq.o;\n    _this.q5 = Defaults.aq.n;\n    _this.q4 = Defaults.aq.m;\n    _this.q3 = Defaults.aq.l;\n    _this.q2 = Defaults.ap.o;\n    _this.q1 = Defaults.ap.n;\n    _this.q0 = Defaults.ap.m;\n    _this.qz = Defaults.ap.l;\n    _this.p8 = null;\n    _this.qd = null;\n    _this.qe = null;\n    _this.p9 = null;\n    _this.qb = null;\n    _this.qm = false;\n    _this.rs = 0;\n    _this.ru = 0;\n    _this.ro = 0;\n    _this.rn = 0;\n    _this.progressiveLoadStatusChanged = null;\n    _this.qr = null;\n    _this.qx = 0;\n    _this.qw = 0;\n    _this.qy = 0;\n    _this.rd = 0;\n    _this.rb = 0;\n    _this.rc = 0;\n    _this.re = 0;\n    _this.rg = 0;\n    _this.ri = 0;\n    _this.rh = 0;\n    _this.rf = 0;\n    _this.qt = 0;\n    _this.qu = 0;\n    _this.qv = 0;\n    _this.qs = 0;\n    _this.rq = 0;\n    _this.rp = 0;\n    _this.p5 = null;\n    _this.rt = 0;\n    _this.ql = false;\n    _this._itemIndexes = null;\n    _this.p6 = null;\n    _this.p3 = null;\n    _this.qf = null;\n    _this.ab = HighDensityScatterSeries.$;\n    _this.el = false;\n    return _this;\n  }\n\n  HighDensityScatterSeries.prototype.get_d5 = function () {\n    return true;\n  };\n\n  HighDensityScatterSeries.prototype.gu = function () {\n    if (!isNaN_(this.gt)) {\n      return _super.prototype.gu.call(this);\n    }\n\n    return Defaults.q;\n  };\n\n  HighDensityScatterSeries.prototype.get_ec = function () {\n    return true;\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"qh\", {\n    get: function get() {\n      return this.qg;\n    },\n    set: function set(a) {\n      if (this.qg != a) {\n        var b = this.qh;\n        this.qg = a;\n        this.raisePropertyChanged(\"XColumn\", b, this.qh);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n    var c = {\n      $type: Point_$type,\n      x: a,\n      y: b\n    };\n    var d = this.ht(c);\n    var e = d == null ? NaN : this.gb(d, \"XMemberPath\");\n    var f = d == null ? NaN : this.gb(d, \"YMemberPath\");\n    var g = new DataLegendSeriesValueInfo();\n    g.l = e;\n    g.a = 13;\n    g.p = this.sd != null ? this.sd : \"X\";\n    g.q = this.r9 != null ? this.r9 : \"X:\";\n    g.r = this.sb != null ? this.sb : \"\";\n    var h = new DataLegendSeriesValueInfo();\n    h.l = f;\n    h.a = 14;\n    h.p = this.sl != null ? this.sl : \"Y\";\n    h.q = this.sh != null ? this.sh : \"Y:\";\n    g.r = this.sj != null ? this.sj : \"\";\n    var i = new DataLegendSeriesContext();\n\n    i.f = function () {\n      var $ret = new List$1(DataLegendSeriesValueInfo.$, 0);\n      $ret.add(g);\n      $ret.add(h);\n      return $ret;\n    }();\n\n    i.b = this.av();\n    return i;\n  };\n\n  HighDensityScatterSeries.prototype.hw = function (a, b) {\n    var c = this.jq(b);\n\n    if (c == HighDensityScatterSeries.$$p[10]) {\n      return this.hx(a, b, this.sd);\n    }\n\n    if (c == HighDensityScatterSeries.$$p[14]) {\n      return this.hx(a, b, this.sl);\n    }\n\n    return _super.prototype.hw.call(this, a, b);\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"qj\", {\n    get: function get() {\n      return this.qi;\n    },\n    set: function set(a) {\n      if (this.qi != a) {\n        var b = this.qj;\n        this.qi = a;\n        this.raisePropertyChanged(\"YColumn\", b, this.qj);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.s0 = function () {\n    if (this.p8 == null) {\n      return;\n    }\n\n    this.p8.s();\n    var a = this.p8;\n    a.progressiveThunkCompleted = delegateRemove(a.progressiveThunkCompleted, runOn(this, this.sn));\n    this.p8 = null;\n  };\n\n  HighDensityScatterSeries.prototype.l3 = function (a, b, c, d) {\n    _super.prototype.l3.call(this, a, b, c, d);\n\n    switch (b) {\n      case \"SeriesViewer\":\n        if (this.cd != null) {\n          var e = this.getEffectiveViewport1(this.b0);\n          this.ql = !e.isEmpty;\n        }\n\n        break;\n\n      case \"FastItemsSource\":\n        this.s0();\n\n        if (typeCast(IFastItemsSource_$type, c) != null) {\n          c.deregisterColumn(this.qh);\n          c.deregisterColumn(this.qj);\n          this.qh = null;\n          this.qj = null;\n        }\n\n        if (typeCast(IFastItemsSource_$type, d) != null) {\n          this.qh = this.ch(this.sd);\n          this.qj = this.ch(this.sl);\n        }\n\n        if (this.qc != null && !this.qc.c0() || this.qa != null && !this.qa.c0()) {\n          this.mh(false);\n        }\n\n        this.lp();\n        break;\n\n      case HighDensityScatterSeries.$$p[7]:\n        var f = this.p9;\n        this.p9 = this.qa;\n        this.s0();\n\n        if (f != null) {\n          f.rangeChanged = delegateRemove(f.rangeChanged, runOn(this, this.sq));\n        }\n\n        if (this.p9 != null) {\n          var g = this.p9;\n          g.rangeChanged = delegateCombine(g.rangeChanged, runOn(this, this.sq));\n        }\n\n        if (c != null) {\n          c.bz(this);\n        }\n\n        if (d != null) {\n          d.cs(this);\n        }\n\n        if (this.qa != null && !this.qa.c0() || d == null && c != null) {\n          this.mh(false);\n        }\n\n        break;\n\n      case HighDensityScatterSeries.$$p[11]:\n        var h = this.qb;\n        this.qb = this.qc;\n        this.s0();\n\n        if (h != null) {\n          h.rangeChanged = delegateRemove(h.rangeChanged, runOn(this, this.sq));\n        }\n\n        if (this.qb != null) {\n          var i = this.qb;\n          i.rangeChanged = delegateCombine(i.rangeChanged, runOn(this, this.sq));\n        }\n\n        if (c != null) {\n          c.bz(this);\n        }\n\n        if (d != null) {\n          d.cs(this);\n        }\n\n        if (this.qc != null && !this.qc.c0() || d == null && c != null) {\n          this.mh(false);\n        }\n\n        break;\n\n      case \"MouseOverEnabled\":\n        this.qm = this.el;\n        this.mh(false);\n        break;\n\n      case HighDensityScatterSeries.$$p[10]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.qh);\n          this.qh = this.ch(this.sd);\n        }\n\n        break;\n\n      case \"XColumn\":\n        this.s0();\n\n        if (this.qa != null && !this.qa.c0()) {\n          this.mh(false);\n        }\n\n        this.lp();\n        break;\n\n      case HighDensityScatterSeries.$$p[14]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.qj);\n          this.qj = this.ch(this.sl);\n        }\n\n        break;\n\n      case \"YColumn\":\n        this.s0();\n\n        if (this.qc != null && !this.qc.c0()) {\n          this.mh(false);\n        }\n\n        this.lp();\n        break;\n\n      case HighDensityScatterSeries.$$p[6]:\n        this.s0();\n        this.mh(false);\n        this.lo();\n        break;\n\n      case HighDensityScatterSeries.$$p[3]:\n        this.mh(false);\n        this.lo();\n        break;\n\n      case HighDensityScatterSeries.$$p[1]:\n        this.mh(false);\n        this.lo();\n        break;\n\n      case HighDensityScatterSeries.$$p[0]:\n      case HighDensityScatterSeries.$$p[2]:\n        if (!this.p7.b1(this.tj, this.ti)) {\n          return;\n        }\n\n        this.su();\n        this.mh(false);\n        this.lo();\n        break;\n\n      case HighDensityScatterSeries.$$p[4]:\n        this.rr = Math.max(typeGetValue(d) - 1, 0);\n        this.qk = this.rr > 0;\n        this.mh(false);\n        this.lo();\n        break;\n\n      case HighDensityScatterSeries.$$p[5]:\n        this.mh(false);\n        this.lo();\n        break;\n    }\n  };\n\n  HighDensityScatterSeries.prototype.su = function () {\n    this.q3 = this.tj.l;\n    this.q6 = this.tj.o;\n    this.q5 = this.tj.n;\n    this.q4 = this.tj.m;\n    this.qz = this.ti.l;\n    this.q2 = this.ti.o;\n    this.q1 = this.ti.n;\n    this.q0 = this.ti.m;\n    this.o7 = BrushUtil.g(truncate(this.q3), truncate(this.q6), truncate(this.q5), truncate(this.q4));\n    this.o2 = BrushUtil.g(truncate(this.qz), truncate(this.q2), truncate(this.q1), truncate(this.q0));\n  };\n\n  HighDensityScatterSeries.prototype.qo = function (a) {\n    if (typeCast(NumericYAxis.$, a) !== null) {\n      return true;\n    }\n\n    return false;\n  };\n\n  HighDensityScatterSeries.prototype.qn = function (a) {\n    if (typeCast(NumericXAxis.$, a) !== null) {\n      return true;\n    }\n\n    return false;\n  };\n\n  HighDensityScatterSeries.prototype.sq = function (a, b) {\n    this.s0();\n    this.mh(false);\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"ra\", {\n    get: function get() {\n      return this.q2 - this.q6;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"q9\", {\n    get: function get() {\n      return this.q1 - this.q5;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"q8\", {\n    get: function get() {\n      return this.q0 - this.q4;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"q7\", {\n    get: function get() {\n      return this.qz - this.q3;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.e9 = function (a, b, c) {\n    var d = _super.prototype.e9.call(this, a, b, c);\n\n    if (this.qc == null || this.qa == null || this.qa.bh == null || this.qc.bh == null || this.qj == null || this.qh == null || this.qj.count < 1 || this.qh.count < 1 || this.qj.count != this.qh.count || this.qa.lv == this.qa.lu || this.qc.lv == this.qc.lu || this.py.isEmpty) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  Object.defineProperty(HighDensityScatterSeries.prototype, \"ry\", {\n    get: function get() {\n      return this.rs;\n    },\n    set: function set(a) {\n      var b = this.rs;\n      this.rs = a;\n      this.raisePropertyChanged(\"ProgressiveStatus\", b, this.rs);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HighDensityScatterSeries.prototype.mi = function (a) {\n    _super.prototype.mi.call(this, a);\n\n    this.ss(a, this.b0);\n  };\n\n  HighDensityScatterSeries.prototype.ss = function (a, b) {\n    if (this.cx(b)) {\n      return;\n    }\n\n    if (this.p8 == null && !this.qq) {\n      var c = new List$1(KDPointData.$, 2, this.qh.count);\n      var d = this.qa;\n      var e = this.qc;\n      var f = new Rect(0, 0, 0, 1, 1);\n      var g = new Rect(0, 0, 0, 1, 1);\n      var h = new ScalerParams(1, f, g, d.cg);\n      var i = new ScalerParams(1, f, g, e.cg);\n      var j_1;\n      var k_1;\n\n      var _loop_1 = function _loop_1(l) {\n        j_1 = d.ei(this_1.qh.item(l), h);\n        k_1 = e.ei(this_1.qj.item(l), i);\n\n        if (!isNaN_(j_1) && !isNaN_(k_1) && !isInfinity(j_1) && !isInfinity(k_1)) {\n          c.add(function () {\n            var $ret = new KDPointData();\n            $ret.a = j_1;\n            $ret.b = k_1;\n            $ret.c = l;\n            return $ret;\n          }());\n        }\n      };\n\n      var this_1 = this;\n\n      for (var l = 0; l < this.qh.count; l++) {\n        _loop_1(l);\n      }\n\n      if (this.qp) {\n        this.rn = 1;\n        this.ro = truncate(logBase(c.count, 2)) + 3;\n        this.ry = truncate(this.rn / this.ro * 100);\n\n        if (this.progressiveLoadStatusChanged != null) {\n          this.progressiveLoadStatusChanged(this, new ProgressiveLoadStatusEventArgs(this.ry));\n        }\n\n        this.p8 = KDTree2D.b(c.toArray(), 1);\n        var m = this.p8;\n        m.progressiveThunkCompleted = delegateCombine(m.progressiveThunkCompleted, runOn(this, this.sn));\n\n        if (!this.p8.f(this.g9)) {\n          var n = this.p8;\n          n.progressiveThunkCompleted = delegateRemove(n.progressiveThunkCompleted, runOn(this, this.sn));\n        }\n\n        this.lo();\n      } else {\n        var o = dateNow();\n        this.p8 = new KDTree2D(0, c.toArray(), 1);\n        var p = dateNow();\n      }\n    }\n\n    if (this.qp && !this.qq) {\n      this.st(b);\n    } else {\n      this.sv(b);\n    }\n  };\n\n  HighDensityScatterSeries.prototype.k0 = function (a, b, c, d) {\n    _super.prototype.k0.call(this, a, b, c, d);\n\n    this.s0();\n    var e = false;\n\n    if (this.qa != null && !this.qa.c0()) {\n      e = true;\n    }\n\n    if (this.qc != null && !this.qc.c0()) {\n      e = true;\n    }\n\n    if (e) {\n      this.mh(false);\n    }\n\n    this.lp();\n  };\n\n  HighDensityScatterSeries.prototype.sp = function (a) {\n    var b = a;\n    var c = this.rq * this.rp;\n\n    if (this.qm) {\n      if (this._itemIndexes == null || this._itemIndexes.length != c) {\n        this._itemIndexes = new Array(c);\n\n        for (var d = 0; d < c; d++) {\n          this._itemIndexes[d] = 0;\n        }\n      } else {\n        for (var e = 0; e < c; e++) {\n          this._itemIndexes[e] = 0;\n        }\n      }\n    }\n  };\n\n  HighDensityScatterSeries.prototype.sv = function (a) {\n    var b;\n    var c;\n    var d = null;\n\n    if (a.q) {\n      d = this._itemIndexes;\n    }\n\n    var e = a.getViewInfo(c, b);\n    c = e.p0;\n    b = e.p1;\n    var f = a;\n    var g = this.getEffectiveViewport1(a);\n    this.qd = new ScalerParams(0, b, c, this.p9.cg, g);\n    this.qe = new ScalerParams(0, b, c, this.qb.cg, g);\n    this.so(a);\n    this.sp(a);\n    var h = this.rq * this.rp;\n\n    if (this.p6 == null || this.p6.length != h) {\n      this.p6 = new Array(h);\n      this.p3 = new Array(h);\n    }\n\n    var i = this.p6.length;\n    var j = this.p6;\n    var k = this.p3;\n\n    for (var l = 0; l < i; l++) {\n      j[l] = 0;\n      k[l] = 0;\n    }\n\n    this.ru = truncate(Math.round(this.ft));\n    this.p5 = f.by();\n    var m = this.p5.length;\n    var n = this.p5;\n\n    for (var o = 0; o < m; o++) {\n      n[o] = 0;\n    }\n\n    var p = this.rl;\n    var q = this.rk;\n\n    if (isNaN_(p) || isInfinity(p)) {\n      p = 0;\n    }\n\n    if (isNaN_(q) || isInfinity(q)) {\n      q = 50;\n    }\n\n    this.qx = Math.min(p, q);\n    this.qw = Math.max(p, q);\n\n    if (this.qx < 0) {\n      this.qx = 0;\n    }\n\n    if (this.qw < 0) {\n      this.qw = 0;\n    }\n\n    this.qy = this.qw - this.qx;\n\n    if (this.qq) {\n      this.sr(a);\n    } else {\n      this.s2(a);\n    }\n\n    f.b9();\n\n    if (a.q) {\n      this._itemIndexes = d;\n      this.p7.ca();\n    }\n  };\n\n  HighDensityScatterSeries.prototype.st = function (a) {\n    if (this.p8 == null) {\n      return;\n    }\n\n    this.sv(a);\n  };\n\n  HighDensityScatterSeries.prototype.sn = function (a, b) {\n    var _this = this;\n\n    this.p7.b8(function () {\n      if (_this.rn < _this.ro - 1) {\n        _this.rn++;\n      }\n\n      _this.ry = truncate(_this.rn / _this.ro * 100);\n\n      if (_this.progressiveLoadStatusChanged != null) {\n        _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.ry));\n      }\n\n      _this.st(_this.b0);\n\n      _this.lo();\n\n      if (_this.p8 != null) {\n        if (!_this.p8.f(_this.g9)) {\n          var c = _this.p8;\n          c.progressiveThunkCompleted = delegateRemove(c.progressiveThunkCompleted, runOn(_this, _this.sn));\n          _this.ry = 100;\n\n          if (_this.progressiveLoadStatusChanged != null) {\n            _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.ry));\n          }\n        }\n      }\n    });\n  };\n\n  HighDensityScatterSeries.prototype.sr = function (a) {\n    var b = arrayShallowClone(this.qh.asArray());\n    this.qa.hm(boxArray$1(b), 0, b.length, this.qd);\n    var c = arrayShallowClone(this.qj.asArray());\n    this.rt = 0;\n    var d = this.rr;\n    var e = this.qk;\n    var f = this.p6.length;\n    this.qc.hm(boxArray$1(c), 0, c.length, this.qe);\n    var g = 255 << 24 | truncate(this.q6) << 16 | truncate(this.q5) << 8 | truncate(this.q4);\n\n    for (var h = 0; h < b.length; h++) {\n      var i = truncate(b[h]);\n      var j = truncate(c[h]);\n      i = truncate(Math.floor(i));\n      j = truncate(Math.floor(j));\n\n      if (i < 0 || i >= this.rq || j < 0 || j >= this.rp) {\n        continue;\n      }\n\n      if (e) {\n        var k = i - d;\n        var l = i + d;\n        l = l > this.rq - 1 ? this.rq - 1 : l;\n        k = k < 0 ? 0 : k;\n        var m = j + d;\n        var n = j - d;\n\n        for (var o = k; o <= l; o++) {\n          for (var p = n; p <= m; p++) {\n            var q = p * this.rq + o;\n\n            if (q < 0 || q > f - 1) {\n              continue;\n            }\n\n            this.p6[q] = this.p6[q] + 1;\n            this.p3[q] = 1;\n            this.rt++;\n\n            if (this.qm) {\n              this._itemIndexes[q] = h + 1;\n            }\n          }\n        }\n      } else {\n        var r = j * this.rq + i;\n        this.p6[r] = this.p6[r] + 1;\n        this.p3[r] = 1;\n        this.rt++;\n\n        if (this.qm) {\n          this._itemIndexes[r] = h + 1;\n        }\n      }\n    }\n\n    this.sw();\n  };\n\n  HighDensityScatterSeries.prototype.s2 = function (a) {\n    var b;\n    var c;\n    var d = a.getViewInfo(b, c);\n    b = d.p0;\n    c = d.p1;\n\n    if (this.p8 == null) {\n      return;\n    }\n\n    if (this.qr == null) {\n      this.qr = new List$1(KDTreeNode2D.$, 2, truncate(Math.round(b.width * b.height)));\n    } else {\n      this.qr.clear();\n    }\n\n    var e = c.left;\n    var f = c.right;\n    var g = c.top;\n    var h = c.bottom;\n    this.rh = c.top;\n    this.rf = c.height;\n    this.rg = c.left;\n    this.ri = c.width;\n    this.rd = b.top;\n    this.rb = b.height;\n    this.rc = b.left;\n    this.re = b.width;\n    var i = this.getEffectiveViewport1(a);\n    this.qt = (i.left - this.rc) / this.re;\n    this.qu = (i.top - this.rd) / this.rb;\n    var j = (i.right - this.rc) / this.re;\n    this.qv = j - this.qt;\n    var k = (i.bottom - this.rd) / this.rb;\n    this.qs = k - this.qu;\n\n    if (this.ql) {\n      e = (e - this.qt) / this.qv;\n      f = (f - this.qt) / this.qv;\n      g = (g - this.qu) / this.qs;\n      h = (h - this.qu) / this.qs;\n    }\n\n    var l = this.ft / b.width * c.width;\n    var m = this.ft / b.height * c.height;\n    var n = Math.min(l, m);\n\n    var o = function () {\n      var $ret = new SearchArgs();\n      $ret.c = e;\n      $ret.a = f;\n      $ret.d = g;\n      $ret.b = h;\n      $ret.e = l;\n      $ret.f = m;\n      $ret.g = 0x7FFFFFFF;\n      return $ret;\n    }();\n\n    this.p8.t(this.qr, o, 0, 1, 0, 1);\n    var p;\n    this.rt = 0;\n\n    for (var q = 0; q < this.qr.count; q++) {\n      p = this.qr._inner[q];\n      this.sx(p);\n    }\n\n    this.sw();\n  };\n\n  HighDensityScatterSeries.prototype.sx = function (a) {\n    if (a.g) {\n      return;\n    }\n\n    var b = a.e != null && a.e.a;\n    var c = a.a == null ? 0 : a.a.length;\n    var d = a.h - c + 1;\n\n    if (b && d > 0) {} else {\n      d = 1;\n    }\n\n    this.sz(a.b, d, b, a.e);\n\n    if (c > 0 && !b) {\n      var e = void 0;\n\n      for (var f = 0; f < c; f++) {\n        e = a.a[f];\n        this.sz(e, d, false, a.e);\n      }\n    }\n\n    if (a.e != null) {\n      a.e.a = false;\n    }\n  };\n\n  HighDensityScatterSeries.prototype.en = function (a) {\n    var b = this.cd != null ? this.cd.sf : Rect.empty;\n    var c = this.cd != null ? this.cd.su : Rect.empty;\n    var d = new Rect(0, 0, 0, 1, 1);\n    var e = this.ps(this.b0);\n    var f = new ScalerParams(0, d, d, this.qa.cg, e);\n    var g = new ScalerParams(0, d, d, this.qc.cg, e);\n    var h = !b.isEmpty && !c.isEmpty && this.ck != null ? this.ck.indexOf(a) : -1;\n    var i = this.qa != null && this.qh != null && h < this.qh.count ? this.qa.ei(this.qh.item(h), f) : NaN;\n    var j = this.qc != null && this.qj != null && h < this.qj.count ? this.qc.ei(this.qj.item(h), g) : NaN;\n\n    if (!isNaN_(i)) {\n      if (i < b.left + 0.1 * b.width) {\n        i = i + 0.4 * b.width;\n        b.x = i - 0.5 * b.width;\n      }\n\n      if (i > b.right - 0.1 * b.width) {\n        i = i - 0.4 * b.width;\n        b.x = i - 0.5 * b.width;\n      }\n    }\n\n    if (!isNaN_(j)) {\n      if (j < b.top + 0.1 * b.height) {\n        j = j + 0.4 * b.height;\n        b.y = j - 0.5 * b.height;\n      }\n\n      if (j > b.bottom - 0.1 * b.height) {\n        j = j - 0.4 * b.height;\n        b.y = j - 0.5 * b.height;\n      }\n    }\n\n    if (this.b8 != null) {\n      this.b8.au(this.cd, b, true);\n    }\n\n    return h >= 0;\n  };\n\n  HighDensityScatterSeries.prototype.sz = function (a, b, c, d) {\n    var e = this.rw(b);\n    var f = a.c;\n    var g = this.rr;\n\n    if (c) {\n      var h = d.d;\n      var i = d.b;\n      var j = d.e;\n      var k = d.c;\n\n      if (this.ql) {\n        h = this.qt + this.qv * h;\n        i = this.qt + this.qv * i;\n        j = this.qu + this.qs * j;\n        k = this.qu + this.qs * k;\n      }\n\n      var l = truncate(this.rc + this.re * (h - this.rg) / this.ri);\n      var m = truncate(this.rc + this.re * (i - this.rg) / this.ri);\n      var n = truncate(this.rd + this.rb * (j - this.rh) / this.rf);\n      var o = truncate(this.rd + this.rb * (k - this.rh) / this.rf);\n      l = truncate(Math.floor(l));\n      m = truncate(Math.floor(m));\n      n = truncate(Math.floor(n));\n      o = truncate(Math.floor(o));\n\n      if (this.qk) {\n        l -= g;\n        m += g;\n        n -= g;\n        o += g;\n      }\n\n      var p = (m - l + 1) * (o - n + 1);\n      var q = b / p;\n      var r = q;\n\n      for (var s = l; s <= m; s++) {\n        for (var t = n; t <= o; t++) {\n          this.sy(f, s, t, q, r);\n        }\n      }\n    } else {\n      var u = a.a;\n      var v = a.b;\n\n      if (this.ql) {\n        u = this.qt + this.qv * u;\n        v = this.qu + this.qs * v;\n      }\n\n      var w = truncate(this.rc + this.re * (u - this.rg) / this.ri);\n      var x = truncate(this.rd + this.rb * (v - this.rh) / this.rf);\n      w = truncate(Math.floor(w));\n      x = truncate(Math.floor(x));\n\n      if (this.qk) {\n        var y = w - g;\n        var z = w + g;\n        var aa = x + g;\n        var ab = x - g;\n        var ac = (z - y + 1) * (aa - ab + 1);\n        var ad = b / ac;\n        var ae = ad;\n\n        for (var af = y; af <= z; af++) {\n          for (var ag = ab; ag <= aa; ag++) {\n            this.sy(f, af, ag, ad, ae);\n          }\n        }\n      } else {\n        this.sy(f, w, x, b, 1);\n      }\n    }\n  };\n\n  HighDensityScatterSeries.prototype.rv = function (a, b) {\n    return truncate(Math.floor(255 * b)) << 24 | truncate(Math.floor(b * (this.q6 + a * this.ra))) << 16 | truncate(Math.floor(b * (this.q5 + a * this.q9))) << 8 | truncate(Math.floor(b * (this.q4 + a * this.q8)));\n  };\n\n  HighDensityScatterSeries.prototype.rw = function (a) {\n    return 255 << 24 | truncate(Math.floor(this.q6 + a * this.ra)) << 16 | truncate(Math.floor(this.q5 + a * this.q9)) << 8 | truncate(Math.floor(this.q4 + a * this.q8));\n  };\n\n  HighDensityScatterSeries.prototype.rj = function (a) {\n    return (a >> 24 & 255) / 255;\n  };\n\n  HighDensityScatterSeries.prototype.sy = function (a, b, c, d, e) {\n    if (b < 0 || b >= this.rq || c < 0 || c >= this.rp) {\n      return;\n    }\n\n    var f = c * this.rq + b;\n    this.p6[f] = this.p6[f] + d;\n    this.p3[f] = this.p3[f] + e;\n\n    if (this.qm) {\n      this._itemIndexes[f] = a + 1;\n    }\n\n    this.rt += truncate(d);\n  };\n\n  HighDensityScatterSeries.prototype.sw = function () {\n    var a = 0;\n    var b = 0;\n    var c = this.qy;\n    var d = this.qx;\n    var e = this.qw;\n    var f = this.p6.length;\n    var g = this.p6;\n    var h = this.p3;\n    var i = this.p5;\n    var j = NaN;\n    var k = NaN;\n    var l = 0;\n    var m = 0;\n\n    for (var n = 0; n < f; n++) {\n      a = g[n];\n\n      if (a != 0) {\n        b = h[n];\n\n        if (a >= e) {\n          a = 1;\n        } else if (a <= d) {\n          a = 0;\n        } else {\n          a = (a - d) / c;\n        }\n\n        if (b > 1) {\n          b = 1;\n        }\n\n        if (b < 0.2) {\n          b = 0.2;\n        }\n\n        if (j != a || k != b) {\n          l = this.rv(a, b);\n          j = a;\n          k = b;\n        }\n\n        i[m] = l >> 16 & 255;\n        i[m + 1] = l >> 8 & 255;\n        i[m + 2] = l & 255;\n        i[m + 3] = l >> 24 & 255;\n      }\n\n      m += 4;\n    }\n  };\n\n  HighDensityScatterSeries.prototype.so = function (a) {\n    var b = a;\n    b.b6();\n  };\n\n  HighDensityScatterSeries.prototype.bx = function () {\n    return new HighDensityScatterSeriesView(this);\n  };\n\n  HighDensityScatterSeries.prototype.ly = function (a) {\n    _super.prototype.ly.call(this, a);\n\n    this.p7 = a;\n  };\n\n  HighDensityScatterSeries.prototype.ap = function (a) {\n    if (a != null && a == this.qa && this.qh != null) {\n      return new AxisRange(this.qh.minimum, this.qh.maximum);\n    }\n\n    if (a != null && a == this.qc && this.qj != null) {\n      return new AxisRange(this.qj.minimum, this.qj.maximum);\n    }\n\n    return null;\n  };\n\n  HighDensityScatterSeries.prototype.m4 = function (a, b) {\n    if (this.cd != null) {\n      var c = this.getEffectiveViewport1(this.b0);\n      this.ql = !c.isEmpty;\n    }\n\n    this.mh(false);\n  };\n\n  HighDensityScatterSeries.prototype.m5 = function (a, b) {\n    this.mh(false);\n  };\n\n  HighDensityScatterSeries.prototype.ht = function (a) {\n    if (!this.qm || this._itemIndexes == null || this.cd == null || this.ck == null || this._itemIndexes.length != this.rq * this.rp) {\n      return null;\n    }\n\n    var b = this.cd.sf;\n    var c = (a.x - b.left) / b.width;\n    var d = (a.y - b.top) / b.height;\n    var e = truncate(Math.round(this.py.left + this.py.width * c));\n    var f = truncate(Math.round(this.py.top + this.py.height * d));\n    var g = this.rz(e, f);\n\n    if (g < 0 || g > this._itemIndexes.length - 1) {\n      return null;\n    }\n\n    var h = this._itemIndexes[g] - 1;\n\n    if (h < 0 || h > this.ck.count) {\n      return null;\n    }\n\n    return this.ck.item(h);\n  };\n\n  HighDensityScatterSeries.prototype.rz = function (a, b) {\n    var c = this.rq * b + a;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    var d = 1;\n    c = this.rq * (b - d) + a;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rq * (b + d) + a;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rq * b + a - 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rq * b + a + 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rq * (b - d) + a - 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rq * (b + d) + a + 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rq * (b - d) + a + 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    c = this.rq * (b + d) + a - 1;\n\n    if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n      return c;\n    }\n\n    return 0;\n  };\n\n  HighDensityScatterSeries.prototype.s1 = function (a, b, c) {\n    this.p5 = a;\n    this.rq = b;\n    this.rp = c;\n  };\n\n  HighDensityScatterSeries.prototype.get_e3 = function () {\n    return true;\n  };\n\n  HighDensityScatterSeries.prototype.set_e3 = function (a) {\n    _super.prototype.set_e3.call(this, a);\n  };\n\n  HighDensityScatterSeries.prototype.kx = function (a, b) {\n    _super.prototype.kx.call(this, a, b);\n\n    this.p7.b7();\n\n    if (this.bz != null) {\n      this.bz.b7();\n    }\n\n    this.lo();\n  };\n\n  HighDensityScatterSeries.prototype.mj = function (a, b) {\n    _super.prototype.mj.call(this, a, b);\n\n    if (!this.ez) {\n      this.b0.a2(b);\n      return;\n    }\n\n    this.b0.a2(b);\n\n    if (this.cx(this.bz)) {\n      return;\n    }\n\n    var c = typeCast(HighDensityScatterSeriesView.$, this.bz);\n    var d = new ScatterFrame();\n    this.ss(false, c);\n    this.ez = false;\n  };\n\n  HighDensityScatterSeries.prototype.mg = function (a, b, c, d, e) {\n    _super.prototype.mg.call(this, a, b, c, d, e);\n\n    var f = this.a6.a$h.item(d);\n    var g = f;\n    f.a1(c);\n\n    if (this.cx(g)) {\n      return;\n    }\n\n    if (this.qf == null) {\n      this.qf = new ScatterFrame();\n    }\n\n    this.ss(false, f);\n  };\n\n  HighDensityScatterSeries.prototype.ku = function () {\n    _super.prototype.ku.call(this);\n\n    this.qa = null;\n    this.qc = null;\n  };\n\n  HighDensityScatterSeries.$t = markType(HighDensityScatterSeries, 'HighDensityScatterSeries', Series.$);\n  HighDensityScatterSeries.$$p = markDep(DependencyProperty, PropertyMetadata, HighDensityScatterSeries, 'raisePropertyChanged', ['HeatMaximumColor:ti:s3', [Color.$, Defaults.ap], 'HeatMaximum:rk:s4', [1, 50], 'HeatMinimumColor:tj:s5', [Color.$, Defaults.aq], 'HeatMinimum:rl:s6', [1, 0], 'PointExtent:rx:s7', [1, 1], 'ProgressiveLoad:qp:s8', [0, true], 'UseBruteForce:qq:s9', [0, false], 'XAxis:qa:ta', [NumericXAxis.$, null], 'XMemberAsLegendLabel:r9:tb', [2, null], 'XMemberAsLegendUnit:sb:tc', [2, null], 'XMemberPath:sd:td', [2, null], 'YAxis:qc:te', [NumericYAxis.$, null], 'YMemberAsLegendLabel:sh:tf', [2, null], 'YMemberAsLegendUnit:sj:tg', [2, null], 'YMemberPath:sl:th', [2, null]]);\n  return HighDensityScatterSeries;\n}(Series);\n\nexport { HighDensityScatterSeries };\n/**\n * @hidden\n */\n\nvar HighDensityScatterSeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(HighDensityScatterSeriesView, _super);\n\n  function HighDensityScatterSeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.bz = null;\n    _this.bx = null;\n    _this.b5 = 0;\n    _this.b4 = 0;\n    _this.b2 = null;\n    _this.b3 = null;\n    _this.b0 = null;\n    _this.bz = a;\n    return _this;\n  }\n\n  HighDensityScatterSeriesView.prototype.as = function () {\n    _super.prototype.as.call(this);\n\n    if (!this.q) {\n      this.bz.tj = Defaults.aq;\n      this.bz.ti = Defaults.ap;\n      this.bz.o2 = Defaults.al;\n      this.bz.o7 = Defaults.ak;\n    }\n  };\n\n  HighDensityScatterSeriesView.prototype.ca = function () {\n    this.bz.s1(this.bx, this.b5, this.b4);\n  };\n\n  HighDensityScatterSeriesView.prototype.b6 = function () {\n    if (this.b2 == null) {\n      this.b2 = this.e.g9.createElement(\"canvas\");\n      var a = this.e.g9.get2DCanvasContext(this.b2);\n      this.b0 = new RenderingContext(new CanvasViewRenderer(), a);\n    }\n\n    var b;\n\n    if (this.p) {\n      b = this.bu;\n    } else {\n      b = this.e.cd.sk();\n    }\n\n    var c = truncate(Math.round(b.left));\n    var d = truncate(Math.round(b.top));\n    var e = truncate(Math.round(b.width));\n    var f = truncate(Math.round(b.height));\n    var g = this.b5;\n    var h = this.b4;\n    this.b5 = e;\n    this.b4 = f;\n\n    if (g != this.b5 || h != this.b4 || this.bx == null) {\n      this.b2.setAttribute(\"width\", e.toString());\n      this.b2.setAttribute(\"height\", f.toString());\n      this.b3 = this.b0.g().getImageData(0, 0, e, f);\n      var imageDataArray_ = this.b3.data;\n      this.bx = imageDataArray_;\n    }\n\n    this.bz.s1(this.bx, this.b5, this.b4);\n  };\n\n  HighDensityScatterSeriesView.prototype.by = function () {\n    return this.bx;\n  };\n\n  HighDensityScatterSeriesView.prototype.b9 = function () {\n    var a = truncate(Math.round(this.bu.left));\n    var b = truncate(Math.round(this.bu.left));\n    var c = truncate(Math.round(this.bu.width));\n    var d = truncate(Math.round(this.bu.height));\n    this.b0.g().putImageData(this.b3, 0, 0);\n    this.aq();\n  };\n\n  HighDensityScatterSeriesView.prototype.b8 = function (a) {\n    if (this.e.g9 != null) {\n      this.e.g9.setTimeout(a, 0);\n    } else {\n      window.setTimeout(a, 0);\n    }\n  };\n\n  HighDensityScatterSeriesView.prototype.a6 = function (a, b) {\n    _super.prototype.a6.call(this, a, b);\n\n    if (b) {\n      if (!this.bz.el) {\n        return;\n      }\n\n      var c = new Rectangle();\n      c.n = this.bu.left;\n      c.o = this.bu.top;\n      c.width = this.bu.width;\n      c.height = this.bu.height;\n      c._fill = this.bo();\n      a.v(c);\n      return;\n    }\n\n    if (this.b2 == null) {\n      return;\n    }\n\n    var d = truncate(Math.round(this.bu.left));\n    var e = truncate(Math.round(this.bu.top));\n    var f = truncate(Math.round(this.bu.width));\n    var g = truncate(Math.round(this.bu.height));\n    this.k.n(this.b2.getNativeElement(), this.e._opacity, d, e, f, g, d, e, f, g);\n  };\n\n  HighDensityScatterSeriesView.prototype.b1 = function (a, b) {\n    return Color.e(toNullable(Color.$, a), toNullable(Color.$, null)) && Color.e(toNullable(Color.$, b), toNullable(Color.$, null));\n  };\n\n  HighDensityScatterSeriesView.prototype.b7 = function () {\n    if (this.bx != null) {\n      for (var a = 0; a < this.bx.length; a++) {\n        this.bx[a] = 0;\n      }\n\n      this.b9();\n    }\n  };\n\n  HighDensityScatterSeriesView.prototype.al = function (a) {\n    _super.prototype.al.call(this, a);\n\n    if (this.bx == null) {\n      this.e.a8.exportSeriesPixelsData(a, null, this.b5, this.b4);\n      return;\n    }\n\n    var b = new Array(intDivide(this.bx.length, 4));\n    var c;\n\n    for (var d = 0; d < intDivide(this.bx.length, 4); d++) {\n      c = d * 4;\n      b[d] = this.bx[c + 3] << 24 | this.bx[c] << 16 | this.bx[c + 1] << 8 | this.bx[c + 2];\n    }\n\n    this.e.a8.exportSeriesPixelsData(a, b, this.b5, this.b4);\n  };\n\n  HighDensityScatterSeriesView.$t = markType(HighDensityScatterSeriesView, 'HighDensityScatterSeriesView', SeriesView.$);\n  return HighDensityScatterSeriesView;\n}(SeriesView);\n\nexport { HighDensityScatterSeriesView };","map":{"version":3,"names":["__extends","Series","NumericXAxis","DependencyProperty","NumericYAxis","Color","ScatterFrame","Defaults","KDTree2D","Point_$type","typeGetValue","runOn","delegateRemove","typeCast","delegateCombine","markType","markDep","toNullable","DataLegendSeriesValueInfo","DataLegendSeriesContext","List$1","Rect","IFastItemsSource_$type","BrushUtil","SeriesView","KDPointData","ScalerParams","ProgressiveLoadStatusEventArgs","SearchArgs","KDTreeNode2D","AxisRange","PropertyMetadata","truncate","isNaN_","isInfinity","logBase","intDivide","boxArray$1","arrayShallowClone","dateNow","RenderingContext","CanvasViewRenderer","Rectangle","HighDensityScatterSeries","_super","_this","call","qg","qi","rr","qk","q6","aq","o","q5","n","q4","m","q3","l","q2","ap","q1","q0","qz","p8","qd","qe","p9","qb","qm","rs","ru","ro","rn","progressiveLoadStatusChanged","qr","qx","qw","qy","rd","rb","rc","re","rg","ri","rh","rf","qt","qu","qv","qs","rq","rp","p5","rt","ql","_itemIndexes","p6","p3","qf","ab","$","el","prototype","get_d5","gu","gt","q","get_ec","Object","defineProperty","get","set","a","b","qh","raisePropertyChanged","enumerable","configurable","getDataLegendSeriesContextAt","c","$type","x","y","d","ht","e","NaN","gb","f","g","p","sd","r9","r","sb","h","sl","sh","sj","i","$ret","add","av","hw","jq","$$p","hx","qj","s0","s","progressiveThunkCompleted","sn","l3","cd","getEffectiveViewport1","b0","isEmpty","deregisterColumn","ch","qc","c0","qa","mh","lp","rangeChanged","sq","bz","cs","ck","lo","p7","b1","tj","ti","su","Math","max","o7","o2","qo","qn","e9","bh","count","lv","lu","py","mi","ss","cx","qq","cg","j_1","k_1","_loop_1","ei","this_1","item","qp","ry","toArray","g9","st","sv","k0","sp","length","Array","getViewInfo","p0","p1","so","j","k","round","ft","by","rl","rk","min","sr","s2","b9","ca","b8","asArray","hm","floor","sw","width","height","clear","left","right","top","bottom","t","_inner","sx","sz","en","sf","empty","ps","indexOf","au","rw","sy","u","v","w","z","aa","ac","ad","ae","af","ag","rv","ra","q9","q8","rj","b6","bx","HighDensityScatterSeriesView","ly","minimum","maximum","m4","m5","rz","s1","get_e3","set_e3","kx","b7","mj","ez","a2","mg","a6","a$h","a1","ku","$t","b5","b4","b2","b3","as","al","ak","createElement","get2DCanvasContext","bu","sk","setAttribute","toString","getImageData","imageDataArray_","data","putImageData","setTimeout","window","_fill","bo","getNativeElement","_opacity","a8","exportSeriesPixelsData"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-charts/esm5/lib/HighDensityScatterSeries_combined.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Series } from \"./Series\";\nimport { NumericXAxis } from \"./NumericXAxis\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { NumericYAxis } from \"./NumericYAxis\";\nimport { Color } from \"igniteui-react-core\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { Defaults } from \"./Defaults\";\nimport { KDTree2D } from \"./KDTree2D\";\nimport { Point_$type, typeGetValue, runOn, delegateRemove, typeCast, delegateCombine, markType, markDep, toNullable } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { Rect } from \"igniteui-react-core\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { SeriesView } from \"./SeriesView\";\nimport { KDPointData } from \"./KDPointData\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { ProgressiveLoadStatusEventArgs } from \"./ProgressiveLoadStatusEventArgs\";\nimport { SearchArgs } from \"./SearchArgs\";\nimport { KDTreeNode2D } from \"./KDTreeNode2D\";\nimport { AxisRange } from \"./AxisRange\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { truncate, isNaN_, isInfinity, logBase, intDivide } from \"igniteui-react-core\";\nimport { boxArray$1, arrayShallowClone } from \"igniteui-react-core\";\nimport { dateNow } from \"igniteui-react-core\";\nimport { RenderingContext } from \"igniteui-react-core\";\nimport { CanvasViewRenderer } from \"igniteui-react-core\";\nimport { Rectangle } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar HighDensityScatterSeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(HighDensityScatterSeries, _super);\n    function HighDensityScatterSeries() {\n        var _this = _super.call(this) || this;\n        _this.qg = null;\n        _this.qi = null;\n        _this.rr = 0;\n        _this.qk = false;\n        _this.q6 = Defaults.aq.o;\n        _this.q5 = Defaults.aq.n;\n        _this.q4 = Defaults.aq.m;\n        _this.q3 = Defaults.aq.l;\n        _this.q2 = Defaults.ap.o;\n        _this.q1 = Defaults.ap.n;\n        _this.q0 = Defaults.ap.m;\n        _this.qz = Defaults.ap.l;\n        _this.p8 = null;\n        _this.qd = null;\n        _this.qe = null;\n        _this.p9 = null;\n        _this.qb = null;\n        _this.qm = false;\n        _this.rs = 0;\n        _this.ru = 0;\n        _this.ro = 0;\n        _this.rn = 0;\n        _this.progressiveLoadStatusChanged = null;\n        _this.qr = null;\n        _this.qx = 0;\n        _this.qw = 0;\n        _this.qy = 0;\n        _this.rd = 0;\n        _this.rb = 0;\n        _this.rc = 0;\n        _this.re = 0;\n        _this.rg = 0;\n        _this.ri = 0;\n        _this.rh = 0;\n        _this.rf = 0;\n        _this.qt = 0;\n        _this.qu = 0;\n        _this.qv = 0;\n        _this.qs = 0;\n        _this.rq = 0;\n        _this.rp = 0;\n        _this.p5 = null;\n        _this.rt = 0;\n        _this.ql = false;\n        _this._itemIndexes = null;\n        _this.p6 = null;\n        _this.p3 = null;\n        _this.qf = null;\n        _this.ab = HighDensityScatterSeries.$;\n        _this.el = false;\n        return _this;\n    }\n    HighDensityScatterSeries.prototype.get_d5 = function () {\n        return true;\n    };\n    HighDensityScatterSeries.prototype.gu = function () {\n        if (!isNaN_(this.gt)) {\n            return _super.prototype.gu.call(this);\n        }\n        return Defaults.q;\n    };\n    HighDensityScatterSeries.prototype.get_ec = function () {\n        return true;\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"qh\", {\n        get: function () {\n            return this.qg;\n        },\n        set: function (a) {\n            if (this.qg != a) {\n                var b = this.qh;\n                this.qg = a;\n                this.raisePropertyChanged(\"XColumn\", b, this.qh);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n        var c = { $type: Point_$type, x: a, y: b };\n        var d = this.ht(c);\n        var e = d == null ? NaN : this.gb(d, \"XMemberPath\");\n        var f = d == null ? NaN : this.gb(d, \"YMemberPath\");\n        var g = new DataLegendSeriesValueInfo();\n        g.l = e;\n        g.a = 13;\n        g.p = this.sd != null ? this.sd : \"X\";\n        g.q = this.r9 != null ? this.r9 : \"X:\";\n        g.r = this.sb != null ? this.sb : \"\";\n        var h = new DataLegendSeriesValueInfo();\n        h.l = f;\n        h.a = 14;\n        h.p = this.sl != null ? this.sl : \"Y\";\n        h.q = this.sh != null ? this.sh : \"Y:\";\n        g.r = this.sj != null ? this.sj : \"\";\n        var i = new DataLegendSeriesContext();\n        i.f = ((function () {\n            var $ret = new List$1(DataLegendSeriesValueInfo.$, 0);\n            $ret.add(g);\n            $ret.add(h);\n            return $ret;\n        })());\n        i.b = this.av();\n        return i;\n    };\n    HighDensityScatterSeries.prototype.hw = function (a, b) {\n        var c = this.jq(b);\n        if (c == HighDensityScatterSeries.$$p[10]) {\n            return this.hx(a, b, this.sd);\n        }\n        if (c == HighDensityScatterSeries.$$p[14]) {\n            return this.hx(a, b, this.sl);\n        }\n        return _super.prototype.hw.call(this, a, b);\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"qj\", {\n        get: function () {\n            return this.qi;\n        },\n        set: function (a) {\n            if (this.qi != a) {\n                var b = this.qj;\n                this.qi = a;\n                this.raisePropertyChanged(\"YColumn\", b, this.qj);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.s0 = function () {\n        if (this.p8 == null) {\n            return;\n        }\n        this.p8.s();\n        var a = this.p8;\n        a.progressiveThunkCompleted = delegateRemove(a.progressiveThunkCompleted, runOn(this, this.sn));\n        this.p8 = null;\n    };\n    HighDensityScatterSeries.prototype.l3 = function (a, b, c, d) {\n        _super.prototype.l3.call(this, a, b, c, d);\n        switch (b) {\n            case \"SeriesViewer\":\n                if (this.cd != null) {\n                    var e = this.getEffectiveViewport1(this.b0);\n                    this.ql = !e.isEmpty;\n                }\n                break;\n            case \"FastItemsSource\":\n                this.s0();\n                if (typeCast(IFastItemsSource_$type, c) != null) {\n                    c.deregisterColumn(this.qh);\n                    c.deregisterColumn(this.qj);\n                    this.qh = null;\n                    this.qj = null;\n                }\n                if (typeCast(IFastItemsSource_$type, d) != null) {\n                    this.qh = this.ch(this.sd);\n                    this.qj = this.ch(this.sl);\n                }\n                if ((this.qc != null && !this.qc.c0()) || (this.qa != null && !this.qa.c0())) {\n                    this.mh(false);\n                }\n                this.lp();\n                break;\n            case HighDensityScatterSeries.$$p[7]:\n                var f = this.p9;\n                this.p9 = this.qa;\n                this.s0();\n                if (f != null) {\n                    f.rangeChanged = delegateRemove(f.rangeChanged, runOn(this, this.sq));\n                }\n                if (this.p9 != null) {\n                    var g = this.p9;\n                    g.rangeChanged = delegateCombine(g.rangeChanged, runOn(this, this.sq));\n                }\n                if (c != null) {\n                    c.bz(this);\n                }\n                if (d != null) {\n                    d.cs(this);\n                }\n                if ((this.qa != null && !this.qa.c0()) || (d == null && c != null)) {\n                    this.mh(false);\n                }\n                break;\n            case HighDensityScatterSeries.$$p[11]:\n                var h = this.qb;\n                this.qb = this.qc;\n                this.s0();\n                if (h != null) {\n                    h.rangeChanged = delegateRemove(h.rangeChanged, runOn(this, this.sq));\n                }\n                if (this.qb != null) {\n                    var i = this.qb;\n                    i.rangeChanged = delegateCombine(i.rangeChanged, runOn(this, this.sq));\n                }\n                if (c != null) {\n                    c.bz(this);\n                }\n                if (d != null) {\n                    d.cs(this);\n                }\n                if ((this.qc != null && !this.qc.c0()) || (d == null && c != null)) {\n                    this.mh(false);\n                }\n                break;\n            case \"MouseOverEnabled\":\n                this.qm = this.el;\n                this.mh(false);\n                break;\n            case HighDensityScatterSeries.$$p[10]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.qh);\n                    this.qh = this.ch(this.sd);\n                }\n                break;\n            case \"XColumn\":\n                this.s0();\n                if (this.qa != null && !this.qa.c0()) {\n                    this.mh(false);\n                }\n                this.lp();\n                break;\n            case HighDensityScatterSeries.$$p[14]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.qj);\n                    this.qj = this.ch(this.sl);\n                }\n                break;\n            case \"YColumn\":\n                this.s0();\n                if (this.qc != null && !this.qc.c0()) {\n                    this.mh(false);\n                }\n                this.lp();\n                break;\n            case HighDensityScatterSeries.$$p[6]:\n                this.s0();\n                this.mh(false);\n                this.lo();\n                break;\n            case HighDensityScatterSeries.$$p[3]:\n                this.mh(false);\n                this.lo();\n                break;\n            case HighDensityScatterSeries.$$p[1]:\n                this.mh(false);\n                this.lo();\n                break;\n            case HighDensityScatterSeries.$$p[0]:\n            case HighDensityScatterSeries.$$p[2]:\n                if (!this.p7.b1(this.tj, this.ti)) {\n                    return;\n                }\n                this.su();\n                this.mh(false);\n                this.lo();\n                break;\n            case HighDensityScatterSeries.$$p[4]:\n                this.rr = Math.max(typeGetValue(d) - 1, 0);\n                this.qk = this.rr > 0;\n                this.mh(false);\n                this.lo();\n                break;\n            case HighDensityScatterSeries.$$p[5]:\n                this.mh(false);\n                this.lo();\n                break;\n        }\n    };\n    HighDensityScatterSeries.prototype.su = function () {\n        this.q3 = this.tj.l;\n        this.q6 = this.tj.o;\n        this.q5 = this.tj.n;\n        this.q4 = this.tj.m;\n        this.qz = this.ti.l;\n        this.q2 = this.ti.o;\n        this.q1 = this.ti.n;\n        this.q0 = this.ti.m;\n        this.o7 = BrushUtil.g(truncate(this.q3), truncate(this.q6), truncate(this.q5), truncate(this.q4));\n        this.o2 = BrushUtil.g(truncate(this.qz), truncate(this.q2), truncate(this.q1), truncate(this.q0));\n    };\n    HighDensityScatterSeries.prototype.qo = function (a) {\n        if (typeCast(NumericYAxis.$, a) !== null) {\n            return true;\n        }\n        return false;\n    };\n    HighDensityScatterSeries.prototype.qn = function (a) {\n        if (typeCast(NumericXAxis.$, a) !== null) {\n            return true;\n        }\n        return false;\n    };\n    HighDensityScatterSeries.prototype.sq = function (a, b) {\n        this.s0();\n        this.mh(false);\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"ra\", {\n        get: function () {\n            return this.q2 - this.q6;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"q9\", {\n        get: function () {\n            return this.q1 - this.q5;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"q8\", {\n        get: function () {\n            return this.q0 - this.q4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"q7\", {\n        get: function () {\n            return this.qz - this.q3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.e9 = function (a, b, c) {\n        var d = _super.prototype.e9.call(this, a, b, c);\n        if (this.qc == null || this.qa == null || this.qa.bh == null || this.qc.bh == null || this.qj == null || this.qh == null || this.qj.count < 1 || this.qh.count < 1 || this.qj.count != this.qh.count || this.qa.lv == this.qa.lu || this.qc.lv == this.qc.lu || this.py.isEmpty) {\n            d = false;\n        }\n        return d;\n    };\n    Object.defineProperty(HighDensityScatterSeries.prototype, \"ry\", {\n        get: function () {\n            return this.rs;\n        },\n        set: function (a) {\n            var b = this.rs;\n            this.rs = a;\n            this.raisePropertyChanged(\"ProgressiveStatus\", b, this.rs);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HighDensityScatterSeries.prototype.mi = function (a) {\n        _super.prototype.mi.call(this, a);\n        this.ss(a, this.b0);\n    };\n    HighDensityScatterSeries.prototype.ss = function (a, b) {\n        if (this.cx(b)) {\n            return;\n        }\n        if (this.p8 == null && !this.qq) {\n            var c = new List$1(KDPointData.$, 2, this.qh.count);\n            var d = this.qa;\n            var e = this.qc;\n            var f = new Rect(0, 0, 0, 1, 1);\n            var g = new Rect(0, 0, 0, 1, 1);\n            var h = new ScalerParams(1, f, g, d.cg);\n            var i = new ScalerParams(1, f, g, e.cg);\n            var j_1;\n            var k_1;\n            var _loop_1 = function (l) {\n                j_1 = d.ei(this_1.qh.item(l), h);\n                k_1 = e.ei(this_1.qj.item(l), i);\n                if (!isNaN_(j_1) && !isNaN_(k_1) && !isInfinity(j_1) && !isInfinity(k_1)) {\n                    c.add(((function () {\n                        var $ret = new KDPointData();\n                        $ret.a = j_1;\n                        $ret.b = k_1;\n                        $ret.c = l;\n                        return $ret;\n                    })()));\n                }\n            };\n            var this_1 = this;\n            for (var l = 0; l < this.qh.count; l++) {\n                _loop_1(l);\n            }\n            if (this.qp) {\n                this.rn = 1;\n                this.ro = truncate(logBase(c.count, 2)) + 3;\n                this.ry = truncate(((this.rn / this.ro) * 100));\n                if (this.progressiveLoadStatusChanged != null) {\n                    this.progressiveLoadStatusChanged(this, new ProgressiveLoadStatusEventArgs(this.ry));\n                }\n                this.p8 = KDTree2D.b(c.toArray(), 1);\n                var m = this.p8;\n                m.progressiveThunkCompleted = delegateCombine(m.progressiveThunkCompleted, runOn(this, this.sn));\n                if (!this.p8.f(this.g9)) {\n                    var n = this.p8;\n                    n.progressiveThunkCompleted = delegateRemove(n.progressiveThunkCompleted, runOn(this, this.sn));\n                }\n                this.lo();\n            }\n            else {\n                var o = dateNow();\n                this.p8 = new KDTree2D(0, c.toArray(), 1);\n                var p = dateNow();\n            }\n        }\n        if (this.qp && !this.qq) {\n            this.st(b);\n        }\n        else {\n            this.sv(b);\n        }\n    };\n    HighDensityScatterSeries.prototype.k0 = function (a, b, c, d) {\n        _super.prototype.k0.call(this, a, b, c, d);\n        this.s0();\n        var e = false;\n        if (this.qa != null && !this.qa.c0()) {\n            e = true;\n        }\n        if (this.qc != null && !this.qc.c0()) {\n            e = true;\n        }\n        if (e) {\n            this.mh(false);\n        }\n        this.lp();\n    };\n    HighDensityScatterSeries.prototype.sp = function (a) {\n        var b = a;\n        var c = this.rq * this.rp;\n        if (this.qm) {\n            if (this._itemIndexes == null || this._itemIndexes.length != c) {\n                this._itemIndexes = new Array(c);\n                for (var d = 0; d < c; d++) {\n                    this._itemIndexes[d] = 0;\n                }\n            }\n            else {\n                for (var e = 0; e < c; e++) {\n                    this._itemIndexes[e] = 0;\n                }\n            }\n        }\n    };\n    HighDensityScatterSeries.prototype.sv = function (a) {\n        var b;\n        var c;\n        var d = null;\n        if (a.q) {\n            d = this._itemIndexes;\n        }\n        var e = a.getViewInfo(c, b);\n        c = e.p0;\n        b = e.p1;\n        var f = a;\n        var g = this.getEffectiveViewport1(a);\n        this.qd = new ScalerParams(0, b, c, this.p9.cg, g);\n        this.qe = new ScalerParams(0, b, c, this.qb.cg, g);\n        this.so(a);\n        this.sp(a);\n        var h = this.rq * this.rp;\n        if (this.p6 == null || this.p6.length != h) {\n            this.p6 = new Array(h);\n            this.p3 = new Array(h);\n        }\n        var i = this.p6.length;\n        var j = this.p6;\n        var k = this.p3;\n        for (var l = 0; l < i; l++) {\n            j[l] = 0;\n            k[l] = 0;\n        }\n        this.ru = truncate(Math.round(this.ft));\n        this.p5 = f.by();\n        var m = this.p5.length;\n        var n = this.p5;\n        for (var o = 0; o < m; o++) {\n            n[o] = 0;\n        }\n        var p = this.rl;\n        var q = this.rk;\n        if (isNaN_(p) || isInfinity(p)) {\n            p = 0;\n        }\n        if (isNaN_(q) || isInfinity(q)) {\n            q = 50;\n        }\n        this.qx = Math.min(p, q);\n        this.qw = Math.max(p, q);\n        if (this.qx < 0) {\n            this.qx = 0;\n        }\n        if (this.qw < 0) {\n            this.qw = 0;\n        }\n        this.qy = this.qw - this.qx;\n        if (this.qq) {\n            this.sr(a);\n        }\n        else {\n            this.s2(a);\n        }\n        f.b9();\n        if (a.q) {\n            this._itemIndexes = d;\n            this.p7.ca();\n        }\n    };\n    HighDensityScatterSeries.prototype.st = function (a) {\n        if (this.p8 == null) {\n            return;\n        }\n        this.sv(a);\n    };\n    HighDensityScatterSeries.prototype.sn = function (a, b) {\n        var _this = this;\n        this.p7.b8(function () {\n            if (_this.rn < _this.ro - 1) {\n                _this.rn++;\n            }\n            _this.ry = truncate(((_this.rn / _this.ro) * 100));\n            if (_this.progressiveLoadStatusChanged != null) {\n                _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.ry));\n            }\n            _this.st(_this.b0);\n            _this.lo();\n            if (_this.p8 != null) {\n                if (!_this.p8.f(_this.g9)) {\n                    var c = _this.p8;\n                    c.progressiveThunkCompleted = delegateRemove(c.progressiveThunkCompleted, runOn(_this, _this.sn));\n                    _this.ry = 100;\n                    if (_this.progressiveLoadStatusChanged != null) {\n                        _this.progressiveLoadStatusChanged(_this, new ProgressiveLoadStatusEventArgs(_this.ry));\n                    }\n                }\n            }\n        });\n    };\n    HighDensityScatterSeries.prototype.sr = function (a) {\n        var b = arrayShallowClone(this.qh.asArray());\n        this.qa.hm(boxArray$1(b), 0, b.length, this.qd);\n        var c = arrayShallowClone(this.qj.asArray());\n        this.rt = 0;\n        var d = this.rr;\n        var e = this.qk;\n        var f = this.p6.length;\n        this.qc.hm(boxArray$1(c), 0, c.length, this.qe);\n        var g = 255 << 24 | truncate(this.q6) << 16 | truncate(this.q5) << 8 | truncate(this.q4);\n        for (var h = 0; h < b.length; h++) {\n            var i = truncate(b[h]);\n            var j = truncate(c[h]);\n            i = truncate(Math.floor(i));\n            j = truncate(Math.floor(j));\n            if (i < 0 || i >= this.rq || j < 0 || j >= this.rp) {\n                continue;\n            }\n            if (e) {\n                var k = i - d;\n                var l = i + d;\n                l = l > (this.rq - 1) ? (this.rq - 1) : l;\n                k = k < 0 ? 0 : k;\n                var m = j + d;\n                var n = j - d;\n                for (var o = k; o <= l; o++) {\n                    for (var p = n; p <= m; p++) {\n                        var q = (p * this.rq) + o;\n                        if (q < 0 || q > f - 1) {\n                            continue;\n                        }\n                        this.p6[q] = this.p6[q] + 1;\n                        this.p3[q] = 1;\n                        this.rt++;\n                        if (this.qm) {\n                            this._itemIndexes[q] = h + 1;\n                        }\n                    }\n                }\n            }\n            else {\n                var r = (j * this.rq) + i;\n                this.p6[r] = this.p6[r] + 1;\n                this.p3[r] = 1;\n                this.rt++;\n                if (this.qm) {\n                    this._itemIndexes[r] = h + 1;\n                }\n            }\n        }\n        this.sw();\n    };\n    HighDensityScatterSeries.prototype.s2 = function (a) {\n        var b;\n        var c;\n        var d = a.getViewInfo(b, c);\n        b = d.p0;\n        c = d.p1;\n        if (this.p8 == null) {\n            return;\n        }\n        if (this.qr == null) {\n            this.qr = new List$1(KDTreeNode2D.$, 2, truncate(Math.round(b.width * b.height)));\n        }\n        else {\n            this.qr.clear();\n        }\n        var e = c.left;\n        var f = c.right;\n        var g = c.top;\n        var h = c.bottom;\n        this.rh = c.top;\n        this.rf = c.height;\n        this.rg = c.left;\n        this.ri = c.width;\n        this.rd = b.top;\n        this.rb = b.height;\n        this.rc = b.left;\n        this.re = b.width;\n        var i = this.getEffectiveViewport1(a);\n        this.qt = (i.left - this.rc) / this.re;\n        this.qu = (i.top - this.rd) / this.rb;\n        var j = (i.right - this.rc) / this.re;\n        this.qv = j - this.qt;\n        var k = (i.bottom - this.rd) / this.rb;\n        this.qs = k - this.qu;\n        if (this.ql) {\n            e = (e - this.qt) / this.qv;\n            f = (f - this.qt) / this.qv;\n            g = (g - this.qu) / this.qs;\n            h = (h - this.qu) / this.qs;\n        }\n        var l = this.ft / b.width * c.width;\n        var m = this.ft / b.height * c.height;\n        var n = Math.min(l, m);\n        var o = ((function () {\n            var $ret = new SearchArgs();\n            $ret.c = e;\n            $ret.a = f;\n            $ret.d = g;\n            $ret.b = h;\n            $ret.e = l;\n            $ret.f = m;\n            $ret.g = 0x7FFFFFFF;\n            return $ret;\n        })());\n        this.p8.t(this.qr, o, 0, 1, 0, 1);\n        var p;\n        this.rt = 0;\n        for (var q = 0; q < this.qr.count; q++) {\n            p = this.qr._inner[q];\n            this.sx(p);\n        }\n        this.sw();\n    };\n    HighDensityScatterSeries.prototype.sx = function (a) {\n        if (a.g) {\n            return;\n        }\n        var b = a.e != null && a.e.a;\n        var c = a.a == null ? 0 : a.a.length;\n        var d = (a.h - c) + 1;\n        if (b && d > 0) {\n        }\n        else {\n            d = 1;\n        }\n        this.sz(a.b, d, b, a.e);\n        if (c > 0 && !b) {\n            var e = void 0;\n            for (var f = 0; f < c; f++) {\n                e = a.a[f];\n                this.sz(e, d, false, a.e);\n            }\n        }\n        if (a.e != null) {\n            a.e.a = false;\n        }\n    };\n    HighDensityScatterSeries.prototype.en = function (a) {\n        var b = this.cd != null ? this.cd.sf : Rect.empty;\n        var c = this.cd != null ? this.cd.su : Rect.empty;\n        var d = new Rect(0, 0, 0, 1, 1);\n        var e = this.ps(this.b0);\n        var f = new ScalerParams(0, d, d, this.qa.cg, e);\n        var g = new ScalerParams(0, d, d, this.qc.cg, e);\n        var h = !b.isEmpty && !c.isEmpty && this.ck != null ? this.ck.indexOf(a) : -1;\n        var i = this.qa != null && this.qh != null && h < this.qh.count ? this.qa.ei(this.qh.item(h), f) : NaN;\n        var j = this.qc != null && this.qj != null && h < this.qj.count ? this.qc.ei(this.qj.item(h), g) : NaN;\n        if (!isNaN_(i)) {\n            if (i < b.left + 0.1 * b.width) {\n                i = i + 0.4 * b.width;\n                b.x = i - 0.5 * b.width;\n            }\n            if (i > b.right - 0.1 * b.width) {\n                i = i - 0.4 * b.width;\n                b.x = i - 0.5 * b.width;\n            }\n        }\n        if (!isNaN_(j)) {\n            if (j < b.top + 0.1 * b.height) {\n                j = j + 0.4 * b.height;\n                b.y = j - 0.5 * b.height;\n            }\n            if (j > b.bottom - 0.1 * b.height) {\n                j = j - 0.4 * b.height;\n                b.y = j - 0.5 * b.height;\n            }\n        }\n        if (this.b8 != null) {\n            this.b8.au(this.cd, b, true);\n        }\n        return h >= 0;\n    };\n    HighDensityScatterSeries.prototype.sz = function (a, b, c, d) {\n        var e = this.rw(b);\n        var f = a.c;\n        var g = this.rr;\n        if (c) {\n            var h = d.d;\n            var i = d.b;\n            var j = d.e;\n            var k = d.c;\n            if (this.ql) {\n                h = this.qt + this.qv * h;\n                i = this.qt + this.qv * i;\n                j = this.qu + this.qs * j;\n                k = this.qu + this.qs * k;\n            }\n            var l = truncate((this.rc + this.re * (h - this.rg) / this.ri));\n            var m = truncate((this.rc + this.re * (i - this.rg) / this.ri));\n            var n = truncate((this.rd + this.rb * (j - this.rh) / this.rf));\n            var o = truncate((this.rd + this.rb * (k - this.rh) / this.rf));\n            l = truncate(Math.floor(l));\n            m = truncate(Math.floor(m));\n            n = truncate(Math.floor(n));\n            o = truncate(Math.floor(o));\n            if (this.qk) {\n                l -= g;\n                m += g;\n                n -= g;\n                o += g;\n            }\n            var p = ((m - l) + 1) * ((o - n) + 1);\n            var q = b / p;\n            var r = q;\n            for (var s = l; s <= m; s++) {\n                for (var t = n; t <= o; t++) {\n                    this.sy(f, s, t, q, r);\n                }\n            }\n        }\n        else {\n            var u = a.a;\n            var v = a.b;\n            if (this.ql) {\n                u = this.qt + this.qv * u;\n                v = this.qu + this.qs * v;\n            }\n            var w = truncate((this.rc + this.re * (u - this.rg) / this.ri));\n            var x = truncate((this.rd + this.rb * (v - this.rh) / this.rf));\n            w = truncate(Math.floor(w));\n            x = truncate(Math.floor(x));\n            if (this.qk) {\n                var y = w - g;\n                var z = w + g;\n                var aa = x + g;\n                var ab = x - g;\n                var ac = ((z - y) + 1) * ((aa - ab) + 1);\n                var ad = b / ac;\n                var ae = ad;\n                for (var af = y; af <= z; af++) {\n                    for (var ag = ab; ag <= aa; ag++) {\n                        this.sy(f, af, ag, ad, ae);\n                    }\n                }\n            }\n            else {\n                this.sy(f, w, x, b, 1);\n            }\n        }\n    };\n    HighDensityScatterSeries.prototype.rv = function (a, b) {\n        return truncate((Math.floor(255 * b))) << 24 | truncate(Math.floor(b * (this.q6 + a * this.ra))) << 16 | truncate(Math.floor(b * (this.q5 + a * this.q9))) << 8 | truncate(Math.floor(b * (this.q4 + a * this.q8)));\n    };\n    HighDensityScatterSeries.prototype.rw = function (a) {\n        return 255 << 24 | truncate(Math.floor((this.q6 + a * this.ra))) << 16 | truncate(Math.floor((this.q5 + a * this.q9))) << 8 | truncate(Math.floor((this.q4 + a * this.q8)));\n    };\n    HighDensityScatterSeries.prototype.rj = function (a) {\n        return (a >> 24 & 255) / 255;\n    };\n    HighDensityScatterSeries.prototype.sy = function (a, b, c, d, e) {\n        if (b < 0 || b >= this.rq || c < 0 || c >= this.rp) {\n            return;\n        }\n        var f = (c * this.rq) + b;\n        this.p6[f] = this.p6[f] + d;\n        this.p3[f] = this.p3[f] + e;\n        if (this.qm) {\n            this._itemIndexes[f] = a + 1;\n        }\n        this.rt += truncate(d);\n    };\n    HighDensityScatterSeries.prototype.sw = function () {\n        var a = 0;\n        var b = 0;\n        var c = this.qy;\n        var d = this.qx;\n        var e = this.qw;\n        var f = this.p6.length;\n        var g = this.p6;\n        var h = this.p3;\n        var i = this.p5;\n        var j = NaN;\n        var k = NaN;\n        var l = 0;\n        var m = 0;\n        for (var n = 0; n < f; n++) {\n            a = g[n];\n            if (a != 0) {\n                b = h[n];\n                if (a >= e) {\n                    a = 1;\n                }\n                else if (a <= d) {\n                    a = 0;\n                }\n                else {\n                    a = (a - d) / (c);\n                }\n                if (b > 1) {\n                    b = 1;\n                }\n                if (b < 0.2) {\n                    b = 0.2;\n                }\n                if (j != a || k != b) {\n                    l = this.rv(a, b);\n                    j = a;\n                    k = b;\n                }\n                i[m] = l >> 16 & 255;\n                i[m + 1] = l >> 8 & 255;\n                i[m + 2] = l & 255;\n                i[m + 3] = l >> 24 & 255;\n            }\n            m += 4;\n        }\n    };\n    HighDensityScatterSeries.prototype.so = function (a) {\n        var b = a;\n        b.b6();\n    };\n    HighDensityScatterSeries.prototype.bx = function () {\n        return new HighDensityScatterSeriesView(this);\n    };\n    HighDensityScatterSeries.prototype.ly = function (a) {\n        _super.prototype.ly.call(this, a);\n        this.p7 = a;\n    };\n    HighDensityScatterSeries.prototype.ap = function (a) {\n        if (a != null && a == this.qa && this.qh != null) {\n            return new AxisRange(this.qh.minimum, this.qh.maximum);\n        }\n        if (a != null && a == this.qc && this.qj != null) {\n            return new AxisRange(this.qj.minimum, this.qj.maximum);\n        }\n        return null;\n    };\n    HighDensityScatterSeries.prototype.m4 = function (a, b) {\n        if (this.cd != null) {\n            var c = this.getEffectiveViewport1(this.b0);\n            this.ql = !c.isEmpty;\n        }\n        this.mh(false);\n    };\n    HighDensityScatterSeries.prototype.m5 = function (a, b) {\n        this.mh(false);\n    };\n    HighDensityScatterSeries.prototype.ht = function (a) {\n        if (!this.qm || this._itemIndexes == null || this.cd == null || this.ck == null || this._itemIndexes.length != (this.rq * this.rp)) {\n            return null;\n        }\n        var b = this.cd.sf;\n        var c = (a.x - b.left) / b.width;\n        var d = (a.y - b.top) / b.height;\n        var e = truncate(Math.round(this.py.left + (this.py.width * c)));\n        var f = truncate(Math.round(this.py.top + (this.py.height * d)));\n        var g = this.rz(e, f);\n        if (g < 0 || g > this._itemIndexes.length - 1) {\n            return null;\n        }\n        var h = this._itemIndexes[g] - 1;\n        if (h < 0 || h > this.ck.count) {\n            return null;\n        }\n        return this.ck.item(h);\n    };\n    HighDensityScatterSeries.prototype.rz = function (a, b) {\n        var c = (this.rq * b) + a;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        var d = 1;\n        c = (this.rq * (b - d)) + a;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rq * (b + d)) + a;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rq * (b)) + a - 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rq * (b)) + a + 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rq * (b - d)) + a - 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rq * (b + d)) + a + 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rq * (b - d)) + a + 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        c = (this.rq * (b + d)) + a - 1;\n        if (c > 0 && c < this._itemIndexes.length && this._itemIndexes[c] > 0) {\n            return c;\n        }\n        return 0;\n    };\n    HighDensityScatterSeries.prototype.s1 = function (a, b, c) {\n        this.p5 = a;\n        this.rq = b;\n        this.rp = c;\n    };\n    HighDensityScatterSeries.prototype.get_e3 = function () {\n        return true;\n    };\n    HighDensityScatterSeries.prototype.set_e3 = function (a) {\n        _super.prototype.set_e3.call(this, a);\n    };\n    HighDensityScatterSeries.prototype.kx = function (a, b) {\n        _super.prototype.kx.call(this, a, b);\n        this.p7.b7();\n        if (this.bz != null) {\n            this.bz.b7();\n        }\n        this.lo();\n    };\n    HighDensityScatterSeries.prototype.mj = function (a, b) {\n        _super.prototype.mj.call(this, a, b);\n        if (!this.ez) {\n            this.b0.a2(b);\n            return;\n        }\n        this.b0.a2(b);\n        if (this.cx(this.bz)) {\n            return;\n        }\n        var c = typeCast(HighDensityScatterSeriesView.$, this.bz);\n        var d = new ScatterFrame();\n        this.ss(false, c);\n        this.ez = false;\n    };\n    HighDensityScatterSeries.prototype.mg = function (a, b, c, d, e) {\n        _super.prototype.mg.call(this, a, b, c, d, e);\n        var f = this.a6.a$h.item(d);\n        var g = f;\n        f.a1(c);\n        if (this.cx(g)) {\n            return;\n        }\n        if (this.qf == null) {\n            this.qf = new ScatterFrame();\n        }\n        this.ss(false, f);\n    };\n    HighDensityScatterSeries.prototype.ku = function () {\n        _super.prototype.ku.call(this);\n        this.qa = null;\n        this.qc = null;\n    };\n    HighDensityScatterSeries.$t = markType(HighDensityScatterSeries, 'HighDensityScatterSeries', Series.$);\n    HighDensityScatterSeries.$$p = markDep(DependencyProperty, PropertyMetadata, HighDensityScatterSeries, 'raisePropertyChanged', ['HeatMaximumColor:ti:s3', [Color.$, Defaults.ap], 'HeatMaximum:rk:s4', [1, 50], 'HeatMinimumColor:tj:s5', [Color.$, Defaults.aq], 'HeatMinimum:rl:s6', [1, 0], 'PointExtent:rx:s7', [1, 1], 'ProgressiveLoad:qp:s8', [0, true], 'UseBruteForce:qq:s9', [0, false], 'XAxis:qa:ta', [NumericXAxis.$, null], 'XMemberAsLegendLabel:r9:tb', [2, null], 'XMemberAsLegendUnit:sb:tc', [2, null], 'XMemberPath:sd:td', [2, null], 'YAxis:qc:te', [NumericYAxis.$, null], 'YMemberAsLegendLabel:sh:tf', [2, null], 'YMemberAsLegendUnit:sj:tg', [2, null], 'YMemberPath:sl:th', [2, null]]);\n    return HighDensityScatterSeries;\n}(Series));\nexport { HighDensityScatterSeries };\n/**\n * @hidden\n */\nvar HighDensityScatterSeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(HighDensityScatterSeriesView, _super);\n    function HighDensityScatterSeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.bz = null;\n        _this.bx = null;\n        _this.b5 = 0;\n        _this.b4 = 0;\n        _this.b2 = null;\n        _this.b3 = null;\n        _this.b0 = null;\n        _this.bz = a;\n        return _this;\n    }\n    HighDensityScatterSeriesView.prototype.as = function () {\n        _super.prototype.as.call(this);\n        if (!this.q) {\n            this.bz.tj = Defaults.aq;\n            this.bz.ti = Defaults.ap;\n            this.bz.o2 = Defaults.al;\n            this.bz.o7 = Defaults.ak;\n        }\n    };\n    HighDensityScatterSeriesView.prototype.ca = function () {\n        this.bz.s1(this.bx, this.b5, this.b4);\n    };\n    HighDensityScatterSeriesView.prototype.b6 = function () {\n        if (this.b2 == null) {\n            this.b2 = this.e.g9.createElement(\"canvas\");\n            var a = this.e.g9.get2DCanvasContext(this.b2);\n            this.b0 = new RenderingContext(new CanvasViewRenderer(), a);\n        }\n        var b;\n        if (this.p) {\n            b = this.bu;\n        }\n        else {\n            b = this.e.cd.sk();\n        }\n        var c = truncate(Math.round(b.left));\n        var d = truncate(Math.round(b.top));\n        var e = truncate(Math.round(b.width));\n        var f = truncate(Math.round(b.height));\n        var g = this.b5;\n        var h = this.b4;\n        this.b5 = e;\n        this.b4 = f;\n        if (g != this.b5 || h != this.b4 || this.bx == null) {\n            this.b2.setAttribute(\"width\", e.toString());\n            this.b2.setAttribute(\"height\", f.toString());\n            this.b3 = this.b0.g().getImageData(0, 0, e, f);\n            var imageDataArray_ = this.b3.data;\n            this.bx = imageDataArray_;\n        }\n        this.bz.s1(this.bx, this.b5, this.b4);\n    };\n    HighDensityScatterSeriesView.prototype.by = function () {\n        return this.bx;\n    };\n    HighDensityScatterSeriesView.prototype.b9 = function () {\n        var a = truncate(Math.round(this.bu.left));\n        var b = truncate(Math.round(this.bu.left));\n        var c = truncate(Math.round(this.bu.width));\n        var d = truncate(Math.round(this.bu.height));\n        this.b0.g().putImageData(this.b3, 0, 0);\n        this.aq();\n    };\n    HighDensityScatterSeriesView.prototype.b8 = function (a) {\n        if (this.e.g9 != null) {\n            this.e.g9.setTimeout(a, 0);\n        }\n        else {\n            window.setTimeout(a, 0);\n        }\n    };\n    HighDensityScatterSeriesView.prototype.a6 = function (a, b) {\n        _super.prototype.a6.call(this, a, b);\n        if (b) {\n            if (!this.bz.el) {\n                return;\n            }\n            var c = new Rectangle();\n            c.n = this.bu.left;\n            c.o = this.bu.top;\n            c.width = this.bu.width;\n            c.height = this.bu.height;\n            c._fill = this.bo();\n            a.v(c);\n            return;\n        }\n        if (this.b2 == null) {\n            return;\n        }\n        var d = truncate(Math.round(this.bu.left));\n        var e = truncate(Math.round(this.bu.top));\n        var f = truncate(Math.round(this.bu.width));\n        var g = truncate(Math.round(this.bu.height));\n        this.k.n(this.b2.getNativeElement(), this.e._opacity, d, e, f, g, d, e, f, g);\n    };\n    HighDensityScatterSeriesView.prototype.b1 = function (a, b) {\n        return Color.e(toNullable(Color.$, a), toNullable(Color.$, null)) && Color.e(toNullable(Color.$, b), toNullable(Color.$, null));\n    };\n    HighDensityScatterSeriesView.prototype.b7 = function () {\n        if (this.bx != null) {\n            for (var a = 0; a < this.bx.length; a++) {\n                this.bx[a] = 0;\n            }\n            this.b9();\n        }\n    };\n    HighDensityScatterSeriesView.prototype.al = function (a) {\n        _super.prototype.al.call(this, a);\n        if (this.bx == null) {\n            this.e.a8.exportSeriesPixelsData(a, null, this.b5, this.b4);\n            return;\n        }\n        var b = new Array(intDivide(this.bx.length, 4));\n        var c;\n        for (var d = 0; d < intDivide(this.bx.length, 4); d++) {\n            c = d * 4;\n            b[d] = this.bx[c + 3] << 24 | this.bx[c] << 16 | this.bx[c + 1] << 8 | this.bx[c + 2];\n        }\n        this.e.a8.exportSeriesPixelsData(a, b, this.b5, this.b4);\n    };\n    HighDensityScatterSeriesView.$t = markType(HighDensityScatterSeriesView, 'HighDensityScatterSeriesView', SeriesView.$);\n    return HighDensityScatterSeriesView;\n}(SeriesView));\nexport { HighDensityScatterSeriesView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}