{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __assign, __values } from \"tslib\";\nimport { Brush } from './Brush';\nimport { Size } from './Size';\nimport { Rect } from './Rect';\nimport { BrushCollection } from './BrushCollection';\nimport { PointUtil } from './type';\nimport { EnumUtil, typeGetValue } from './type';\nimport { stringEndsWith, stringStartsWith } from './string';\nimport { ObservableColorCollection } from './ObservableColorCollection';\nexport function brushToString(v) {\n  if (v == null) {\n    return null;\n  }\n\n  return v.fill;\n}\nexport function stringToBrush(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var brush = Brush.create(v);\n  return brush;\n}\nexport function ensureEnum($t, v) {\n  if (v == null) {\n    return 0;\n  }\n\n  if (typeof v == \"number\") {\n    var n = v;\n\n    if (EnumUtil.getName($t, n) == undefined) {\n      return 0;\n    }\n\n    return v;\n  }\n\n  var ret = typeGetValue(EnumUtil.parse($t, v, true));\n  return ret;\n}\nexport function enumToString($t, v) {\n  return EnumUtil.toString($t, v);\n}\nexport function ensureBool(v) {\n  if (v == null) {\n    return false;\n  }\n\n  if (typeof v == \"boolean\") {\n    return v;\n  }\n\n  return v.toString().toLowerCase() == \"true\";\n}\nexport function colorToString(v) {\n  if (v == null) {\n    return null;\n  }\n\n  return v.colorString;\n}\nexport function stringToColor(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var brush = Brush.create(v);\n  return brush.color;\n}\nexport function fromSize(v) {\n  if (v == null) {\n    return null;\n  }\n\n  return {\n    width: v.width,\n    height: v.height\n  };\n}\nexport function sizeToString(v) {\n  if (!v) {\n    return null;\n  }\n\n  return v.width + \" \" + v.height;\n}\nexport function toSize(v) {\n  if (v == null) {\n    return Size.empty;\n  }\n\n  var size = null;\n\n  if (typeof v == \"string\") {\n    v = v.trim();\n    var parts = v.split(\" \");\n\n    if (parts.length != 2) {\n      parts = v.split(\",\");\n    }\n\n    if (parts.length != 2) {\n      return Size.empty;\n    }\n\n    parts[0] = parts[0].trim();\n    parts[1] = parts[1].trim();\n    var width = parseFloat(parts[0]);\n    var height = parseFloat(parts[1]);\n    return new Size(0, width, height);\n  } else {\n    if (v != null) {\n      size = new Size(0, v.width, v.height);\n    }\n  }\n\n  return size;\n}\nexport function fromPoint(v) {\n  return v;\n}\nexport function pointToString(v) {\n  if (!v) {\n    return null;\n  }\n\n  return v.x + \" \" + v.y;\n}\nexport function toPoint(v) {\n  if (v == null) {\n    return PointUtil.createXY(NaN, NaN);\n  }\n\n  var point = null;\n\n  if (typeof v == \"string\") {\n    v = v.trim();\n    var parts = v.split(\" \");\n\n    if (parts.length != 2) {\n      parts = v.split(\",\");\n    }\n\n    if (parts.length != 2) {\n      return PointUtil.createXY(NaN, NaN);\n    }\n\n    parts[0] = parts[0].trim();\n    parts[1] = parts[1].trim();\n    var x = parseFloat(parts[0]);\n    var y = parseFloat(parts[1]);\n    return PointUtil.createXY(x, y);\n  } else {\n    if (v != null) {\n      point = PointUtil.createXY(v.x, v.y);\n    }\n  }\n\n  return point;\n}\nexport function fromRect(v) {\n  if (v == null) {\n    return null;\n  }\n\n  return {\n    top: v.top,\n    left: v.left,\n    width: v.width,\n    height: v.height\n  };\n}\nexport function rectToString(v) {\n  if (!v) {\n    return null;\n  }\n\n  return v.left + \" \" + v.top + \" \" + v.width + \" \" + v.height;\n}\nexport function toRect(v) {\n  if (v == null) {\n    return Rect.empty;\n  }\n\n  var size = null;\n\n  if (typeof v == \"string\") {\n    var parts = v.split(\" \");\n\n    if (parts.length != 4) {\n      parts = v.split(\",\");\n    }\n\n    if (parts.length != 4) {\n      return Rect.empty;\n    }\n\n    parts[0] = parts[0].trim();\n    parts[1] = parts[1].trim();\n    parts[2] = parts[2].trim();\n    parts[3] = parts[3].trim();\n    var left = parseFloat(parts[0]);\n    var top_1 = parseFloat(parts[1]);\n    var width = parseFloat(parts[2]);\n    var height = parseFloat(parts[3]);\n    return new Rect(0, left, top_1, width, height);\n  } else {\n    if (v != null) {\n      size = new Rect(0, v.left, v.top, v.width, v.height);\n    }\n  }\n\n  return size;\n}\nexport function brushCollectionToString(v) {\n  var bArray = fromBrushCollection(v);\n\n  if (bArray == null) {\n    return null;\n  }\n\n  return bArray.join(\" \");\n}\nexport function toBrushCollection(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var isRGB = true;\n\n  if (typeof v == \"string\") {\n    v = v.trim();\n    v = v.split(/[\\s,]+(?![^(]*\\))/gm);\n\n    for (var i_1 = 0; i_1 < v.length; i_1++) {\n      v[i_1] = v[i_1].trim();\n    }\n  }\n\n  var val = v ? v[0] : null;\n\n  if (typeof val == 'string' && val == 'HSV' || val == 'RGB') {\n    if (v[0] == 'HSV') {\n      isRGB = false;\n    }\n\n    v = v.slice(1);\n  }\n\n  var brushCollection = new BrushCollection();\n\n  for (var i = 0; v && i < v.length; i++) {\n    var brush = Brush.create(v[i]);\n    brushCollection.add(brush);\n  }\n\n  return brushCollection;\n}\nexport function fromBrushCollection(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var internalCollection = v;\n  var ret = [];\n\n  for (var i = 0; i < internalCollection.count; i++) {\n    ret.push(internalCollection.item(i).fill);\n  }\n\n  return ret;\n}\nexport function colorCollectionToString(v) {\n  var bArray = fromColorCollection(v);\n\n  if (bArray == null) {\n    return null;\n  }\n\n  return bArray.join(\" \");\n}\nexport function toColorCollection(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var isRGB = true;\n\n  if (typeof v == \"string\") {\n    v = v.trim();\n    v = v.split(/[\\s,]+(?![^(]*\\))/gm);\n\n    for (var i_2 = 0; i_2 < v.length; i_2++) {\n      v[i_2] = v[i_2].trim();\n    }\n  }\n\n  var val = v ? v[0] : null;\n\n  if (typeof val == 'string' && val == 'HSV' || val == 'RGB') {\n    if (v[0] == 'HSV') {\n      isRGB = false;\n    }\n\n    v = v.slice(1);\n  }\n\n  var colorCollection = new ObservableColorCollection();\n\n  for (var i = 0; v && i < v.length; i++) {\n    var color = stringToColor(v[i]);\n    colorCollection.add(color);\n  }\n\n  return colorCollection;\n}\nexport function fromColorCollection(v) {\n  if (v == null) {\n    return null;\n  }\n\n  var internalCollection = v;\n  var ret = [];\n\n  for (var i = 0; i < internalCollection.count; i++) {\n    ret.push(internalCollection.item(i).colorString);\n  }\n\n  return ret;\n}\nexport function arrayFindByName(arr, name) {\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i].findByName && arr[i].findByName(name)) {\n      return arr[i].findByName(name);\n    }\n  }\n}\n\nvar CollectionAdapter =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function CollectionAdapter(query, target, allList, toTarget, onItemAdded, onItemRemoved, collisionChecker) {\n    var _this = this;\n\n    this._manualItems = [];\n    this._collisionChecker = null;\n    this.actualContent = [];\n    this._removedManualKeys = new Set();\n\n    if (collisionChecker) {\n      this._collisionChecker = collisionChecker;\n    }\n\n    this._query = query;\n    this._target = target;\n    this._toTarget = toTarget;\n    this._allList = allList;\n    this._onItemAdded = onItemAdded;\n    this._onItemRemoved = onItemRemoved;\n    this.syncItems();\n\n    if (this._query.changes) {\n      this._query.changes.subscribe(function (v) {\n        return _this.onQueryChanged(v);\n      });\n    }\n  }\n\n  Object.defineProperty(CollectionAdapter.prototype, \"collisionChecker\", {\n    get: function get() {\n      return this._collisionChecker;\n    },\n    set: function set(v) {\n      this._collisionChecker = v;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CollectionAdapter.prototype.updateQuery = function (q) {\n    var _this = this;\n\n    this._query = q;\n\n    if (this._query.changes) {\n      this._query.changes.subscribe(function (v) {\n        return _this.onQueryChanged(v);\n      });\n    }\n\n    this.notifyContentChanged();\n  };\n\n  CollectionAdapter.prototype.shiftContentToManual = function (manualCollection, onMoving) {\n    var queryArray = null;\n\n    if (this._query.toArray) {\n      queryArray = this._query.toArray();\n    } else {\n      queryArray = this._query;\n    }\n\n    var item = null;\n    var manualSet = new Set();\n\n    if (this.collisionChecker) {\n      for (var i = 0; i < this._manualItems.length; i++) {\n        item = this._manualItems[i];\n\n        if (item) {\n          var key = this.collisionChecker(item);\n\n          if (key) {\n            if (!manualSet.has(key)) {\n              manualSet.add(key);\n            }\n          }\n        }\n      }\n    }\n\n    var mapWasEmpty = manualSet.size == 0;\n\n    for (var i = 0; i < queryArray.length; i++) {\n      item = queryArray[i];\n\n      if (!this._hasShiftedOnceAlready) {\n        this._manualItems.splice(i, 0, item);\n\n        manualCollection.insert(i, item);\n        onMoving(item);\n      } else {\n        var key = this.collisionChecker(item);\n\n        if (!key) {\n          this._manualItems.splice(i, 0, item);\n\n          manualCollection.insert(i, item);\n          onMoving(item);\n        } else {\n          if (!manualSet.has(key)) {\n            this._manualItems.splice(manualCollection.count, 0, item);\n\n            manualCollection.insert(manualCollection.count, item);\n            onMoving(item);\n          }\n        }\n      }\n    }\n\n    this.syncItems();\n    this._hasShiftedOnceAlready = true;\n  };\n\n  CollectionAdapter.prototype.syncItems = function () {\n    var targetMap = new Map();\n    var queryMap = new Map();\n    var manualMap = new Map();\n    var item = null;\n\n    for (var i = 0; i < this._allList.length; i++) {\n      item = this._allList[i];\n      targetMap.set(item, true);\n    }\n\n    var queryArray = null;\n\n    if (this._query.toArray) {\n      queryArray = this._query.toArray();\n    } else {\n      queryArray = this._query;\n    }\n\n    this.actualContent = queryArray;\n\n    if (this.collisionChecker) {\n      queryArray = queryArray.slice(0);\n      this.actualContent = queryArray;\n      var manualKeySet = new Set();\n\n      for (var i_3 = 0; i_3 < this._manualItems.length; i_3++) {\n        item = this._manualItems[i_3];\n\n        if (item) {\n          var key = this.collisionChecker(item);\n\n          if (key) {\n            if (!manualKeySet.has(key)) {\n              manualKeySet.add(key);\n            }\n          }\n        }\n      }\n\n      for (var i_4 = queryArray.length - 1; i_4 >= 0; i_4--) {\n        item = queryArray[i_4];\n\n        if (!item) {\n          queryArray.splice(i_4, 1);\n        } else {\n          var key = this.collisionChecker(item);\n\n          if (key && (manualKeySet.has(key) || this._removedManualKeys.has(key))) {\n            queryArray.splice(i_4, 1);\n          }\n        }\n      }\n    }\n\n    for (var i = 0; i < queryArray.length; i++) {\n      item = queryArray[i];\n      queryMap.set(item, true);\n    }\n\n    for (var i = 0; i < this._manualItems.length; i++) {\n      item = this._manualItems[i];\n      manualMap.set(item, true);\n    }\n\n    for (var i = this._allList.length - 1; i >= 0; i--) {\n      item = this._allList[i];\n\n      if (!queryMap.has(item) && !manualMap.has(item)) {\n        this._allList.splice(i, 1);\n\n        this._target.removeAt(i);\n\n        this._onItemRemoved(item);\n      }\n    }\n\n    var ind = 0;\n    var ins = 0;\n    var insItem = null;\n    var maxLen = queryArray.length + this._manualItems.length;\n\n    while (ind < maxLen) {\n      if (ind < queryArray.length) {\n        insItem = queryArray[ind];\n      } else if (ind - queryArray.length < this._manualItems.length) {\n        insItem = this._manualItems[ind - queryArray.length];\n      } else {\n        break;\n      }\n\n      if (ins < this._allList.length) {\n        item = this._allList[ins];\n\n        if (item === insItem) {\n          ins++;\n          ind++;\n        } else {\n          this._allList.splice(ins, 0, insItem);\n\n          this._target.insert(ins, this._toTarget(insItem));\n\n          this._onItemAdded(insItem);\n\n          ind++;\n          ins++;\n        }\n      } else {\n        this._allList.push(insItem);\n\n        this._target.add(this._toTarget(insItem));\n\n        this._onItemAdded(insItem);\n\n        ind++;\n        ins++;\n      }\n    }\n  };\n\n  CollectionAdapter.prototype.notifyContentChanged = function () {\n    this.onQueryChanged(this._query);\n  };\n\n  CollectionAdapter.prototype.onQueryChanged = function (currentItems) {\n    this.syncItems();\n  };\n\n  CollectionAdapter.prototype.addManualItem = function (item) {\n    if (this.collisionChecker) {\n      var key = this.collisionChecker(item);\n\n      if (key) {\n        if (this._removedManualKeys.has(key)) {\n          this._removedManualKeys.delete(key);\n        }\n      }\n    }\n\n    this._manualItems.push(item);\n\n    this.syncItems();\n  };\n\n  CollectionAdapter.prototype.removeManualItem = function (item) {\n    var ind = this._manualItems.indexOf(item);\n\n    if (ind >= 0) {\n      if (this.collisionChecker) {\n        var key = this.collisionChecker(item);\n\n        if (key) {\n          if (!this._removedManualKeys.has(key)) {\n            this._removedManualKeys.add(key);\n          }\n        }\n      }\n\n      this._manualItems.splice(ind, 1);\n\n      this.syncItems();\n      return true;\n    }\n\n    return false;\n  };\n\n  CollectionAdapter.prototype.removeManualItemAt = function (index) {\n    if (index < this._manualItems.length) {\n      var item = this._manualItems[index];\n\n      if (this.collisionChecker) {\n        var key = this.collisionChecker(item);\n\n        if (key) {\n          if (!this._removedManualKeys.has(key)) {\n            this._removedManualKeys.add(key);\n          }\n        }\n      }\n    }\n\n    this._manualItems.splice(index, 1);\n\n    this.syncItems();\n  };\n\n  CollectionAdapter.prototype.clearManualItems = function () {\n    if (this.collisionChecker) {\n      this._removedManualKeys.clear();\n    }\n\n    this._manualItems.length = 0;\n    this.syncItems();\n  };\n\n  CollectionAdapter.prototype.insertManualItem = function (index, item) {\n    if (this.collisionChecker) {\n      var key = this.collisionChecker(item);\n\n      if (key) {\n        if (this._removedManualKeys.has(key)) {\n          this._removedManualKeys.delete(key);\n        }\n      }\n    }\n\n    this._manualItems.splice(index, 0, item);\n\n    this.syncItems();\n  };\n\n  return CollectionAdapter;\n}();\n\nexport { CollectionAdapter };\nexport function addPaletteThemeEntry(theme, clss, background, border, foreground) {\n  if (theme[clss] === undefined) {\n    theme[clss] = {};\n  }\n\n  if (background !== null) {\n    theme[clss][\"background-color\"] = background;\n  }\n\n  if (border !== null && border !== undefined) {\n    theme[clss][\"border-top-color\"] = border;\n    theme[clss][\"border-left-color\"] = border;\n    theme[clss][\"border-right-color\"] = border;\n    theme[clss][\"border-bottom-color\"] = border;\n  }\n\n  if (foreground !== null && foreground !== undefined) {\n    theme[clss][\"color\"] = foreground;\n  }\n}\nexport function addTextThemeEntry(theme, clss, fontFamily, fontSize, textColor, leftMargin, topMargin, rightMargin, bottomMargin, horizontalAlignment, verticalAlignment) {\n  if (theme[clss] === undefined) {\n    theme[clss] = {};\n  }\n\n  var t = theme[clss];\n\n  if (fontFamily !== null && fontFamily !== undefined) {\n    t[\"font-family\"] = fontFamily;\n    t[\"font-weight\"] = \"\";\n    t[\"font-style\"] = \"\";\n    t[\"font-variant\"] = \"\";\n    t[\"line-height\"] = \"\";\n  }\n\n  if (fontSize !== null && fontSize !== undefined) {\n    t[\"font-size\"] = fontSize;\n    t[\"font-weight\"] = \"\";\n    t[\"font-style\"] = \"\";\n    t[\"font-variant\"] = \"\";\n    t[\"line-height\"] = \"\";\n  }\n\n  if (textColor !== null && textColor !== undefined) {\n    t[\"color\"] = textColor;\n  }\n\n  if (leftMargin !== null && leftMargin !== undefined) {\n    t[\"margin-left\"] = leftMargin;\n  }\n\n  if (topMargin !== null && topMargin !== undefined) {\n    t[\"margin-top\"] = topMargin;\n  }\n\n  if (rightMargin !== null && rightMargin !== undefined) {\n    t[\"margin-right\"] = rightMargin;\n  }\n\n  if (bottomMargin !== null && bottomMargin !== undefined) {\n    t[\"margin-bottom\"] = bottomMargin;\n  }\n\n  if (horizontalAlignment !== null && horizontalAlignment !== undefined) {\n    t[\"text-align\"] = horizontalAlignment;\n  }\n\n  if (verticalAlignment !== null && verticalAlignment !== undefined) {\n    t[\"vertical-align\"] = verticalAlignment;\n  }\n}\n\nfunction isStylableProperty(name) {\n  // using lower case to prevent issGrues with matching case of properties (e.g. chart.brushes)\n  var propName = name.toLowerCase(); // skip non-stylable properties\n\n  if (propName == \"height\" || propName == \"width\") {\n    return false;\n  } // check for all stylable properties\n\n\n  if (stringEndsWith(propName, \"height\") || // grid.rowHeight\n  stringEndsWith(propName, \"width\") || // zoomSlider.HigherThumbWidth\n  stringEndsWith(propName, \"width\") || // zoomSlider.HigherCalloutOutline\n  stringEndsWith(propName, \"inset\") || // zoomSlider.EndInset\n  stringEndsWith(propName, \"orientation\") || // zoomSlider.Orientation\n  stringEndsWith(propName, \"duration\") || // zoomSlider.PanTransitionDuration\n  stringEndsWith(propName, \"outline\") || // zoomSlider.BarOutline\n  stringEndsWith(propName, \"brush\") || stringEndsWith(propName, \"background\") || stringEndsWith(propName, \"opacity\") || stringEndsWith(propName, \"textstyle\") || stringEndsWith(propName, \"brushes\") || // chart.brushes  || chart.negativeBrushes\n  stringEndsWith(propName, \"outlines\") || // chart.outlines || chart.negativeOutlines\n  stringEndsWith(propName, \"thickness\") || // chart.AxisStrokeThickness\n  stringEndsWith(propName, \"colors\") || //\n  stringEndsWith(propName, \"color\") || // chart.AxisLabelTextColor\n  stringEndsWith(propName, \"margin\") || // chart.AxisLabelTopMargin\n  stringEndsWith(propName, \"location\") || // chart.AxisLabelLocation\n  stringEndsWith(propName, \"style\") || // chart.AxisLabelTextStyle\n  stringEndsWith(propName, \"alignment\") || // chart.AxisLabelHorizontalAlignment\n  stringEndsWith(propName, \"visibility\") || // chart.AxisLabelVisibility\n  stringEndsWith(propName, \"extent\") || // chart.AxisExtent\n  stringEndsWith(propName, \"length\") || // chart.AxisTickLength\n  stringEndsWith(propName, \"strip\") || // chart.AxisStrip\n  stringEndsWith(propName, \"stroke\") || // chart.AxisStroke\n  stringEndsWith(propName, \"fill\") || // piechart.OthersCategoryFill\n  stringEndsWith(propName, \"visible\") || stringEndsWith(propName, \"radius\") || stringStartsWith(propName, \"padding\") || propName === \"usecanvas\" || propName === \"useaccessibility\") {\n    // chart.isToolbarVisible\n    return true;\n  }\n\n  return false;\n}\n\nfunction resolveUnits(val) {\n  // TODO convert \"em, px, pt, cm, in\" units to \"px\"?\n  // https://www.w3.org/Style/Examples/007/units.en.html\n  var value = val.toLowerCase();\n\n  if (stringEndsWith(value, \"px\")) {\n    // 20px\n    value = value.replace(\"px\", \"\");\n    value = value.replace(\" \", \"\");\n  }\n\n  return value;\n}\n\nexport function toSpinal(value) {\n  if (value == null) {\n    return null;\n  }\n\n  var output = [];\n  var upperRun = 0;\n\n  for (var i = 0; i < value.length; i++) {\n    var curr = value[i];\n    var upperChar = curr.toUpperCase();\n    var lowerChar = curr.toLowerCase();\n    var charIsNewWord = upperRun == 0 && output.length > 0;\n    var previousCharWasNewWord = upperRun > 1;\n\n    if (upperChar == curr) {\n      if (charIsNewWord) {\n        output.push('-');\n      }\n\n      upperRun++;\n    } else if (lowerChar == curr) {\n      if (previousCharWasNewWord) {\n        output.splice(output.length - 1, 0, '-');\n      }\n\n      upperRun = 0;\n    } else {\n      upperRun = 0;\n    }\n\n    output.push(lowerChar);\n  }\n\n  var sb = \"\";\n\n  for (var i = 0; i < output.length; i++) {\n    sb += output[i];\n  }\n\n  return sb;\n}\nexport function fromSpinal(value) {\n  if (value == null) {\n    return value;\n  }\n\n  var parts = value.split('-');\n\n  for (var j = 1; j < parts.length; j++) {\n    parts[j] = parts[j].substr(0, 1).toUpperCase() + parts[j].substr(1);\n  }\n\n  var ret = \"\";\n\n  for (var j = 0; j < parts.length; j++) {\n    ret += parts[j];\n  }\n\n  return ret;\n}\n\nfunction toCssPropertyName(value) {\n  var sb = toSpinal(value);\n  return sb;\n} // get all property names for specified component and its base classes\n\n\nexport function getAllPropertyNames(comp) {\n  var members = [];\n\n  while (comp = comp.prototype || Object.getPrototypeOf(comp)) {\n    if (comp == HTMLElement.prototype) {\n      break;\n    }\n\n    var props = Object.getOwnPropertyNames(comp.constructor.prototype);\n\n    for (var i = 0; i < props.length; i++) {\n      members.push(props[i]);\n    }\n  }\n\n  return members;\n}\nvar stylableMap = /*@__PURE__*/new Map();\nexport function initializePropertiesFromCss(ele, comp, cssPrefix, ignoredProperties, prefixRequired, additionalPrefixes) {\n  var e_1, _a;\n\n  var styles = getComputedStyle(ele);\n  var props = getAllPropertyNames(comp);\n  var filtered = false;\n  var stylableProperties = [];\n\n  if (stylableMap.has(comp.prototype || Object.getPrototypeOf(comp))) {\n    stylableProperties = stylableMap.get(comp.prototype || Object.getPrototypeOf(comp));\n    props = stylableProperties;\n    filtered = true;\n  }\n\n  var compName = comp.constructor.name;\n\n  try {\n    for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n      var prop = props_1_1.value;\n      var cssPropName = null;\n\n      if (filtered) {\n        cssPropName = prop[1];\n        prop = prop[0];\n      }\n\n      if (ignoredProperties && ignoredProperties.has(prop)) {\n        if (!filtered && isStylableProperty(prop)) {\n          var cssName = toCssPropertyName(prop);\n          stylableProperties.push([prop, cssName]);\n        }\n\n        continue;\n      }\n\n      if (filtered || isStylableProperty(prop)) {\n        var cssName = \"\";\n\n        if (cssPropName) {\n          cssName = cssPropName;\n        } else {\n          cssName = toCssPropertyName(prop);\n        } // check if custom property is set with a prefix\n\n\n        var cssValue = styles.getPropertyValue(\"--\" + cssPrefix + cssName);\n\n        if (cssValue && cssValue.length && cssValue.length > 0) {\n          comp[prop] = resolveUnits(cssValue.trim());\n        }\n\n        if (additionalPrefixes) {\n          for (var i = 0; i < additionalPrefixes.length; i++) {\n            var p = additionalPrefixes[i];\n            cssValue = styles.getPropertyValue(\"--\" + p + cssName);\n\n            if (cssValue && cssValue.length && cssValue.length > 0) {\n              comp[prop] = resolveUnits(cssValue.trim());\n            }\n          }\n        }\n\n        if (!prefixRequired) {\n          // check if custom property is set without a prefix\n          cssValue = styles.getPropertyValue(\"--\" + cssName);\n\n          if (cssValue && cssValue.length && cssValue.length > 0) {\n            comp[prop] = resolveUnits(cssValue.trim());\n          }\n        }\n\n        if (!filtered) {\n          stylableProperties.push([prop, cssName]);\n        }\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  if (!filtered) {\n    stylableMap.set(comp.prototype || Object.getPrototypeOf(comp), stylableProperties);\n  }\n}\nexport function addBrushPaletteThemeEntry(theme, clss, backgrounds, outlines) {\n  if (outlines == null) {\n    outlines = backgrounds;\n  }\n\n  var t = theme;\n\n  for (var i = 0; i < Math.max(backgrounds.length, outlines.length); i++) {\n    var pName = clss + \"-\" + (i + 1);\n\n    if (t[pName] === undefined) {\n      t[pName] = {};\n    }\n\n    if (backgrounds[i] !== undefined) {\n      t[pName][\"background-color\"] = backgrounds[i];\n    }\n\n    if (outlines[i] !== undefined) {\n      t[pName][\"border-top-color\"] = outlines[i];\n      t[pName][\"border-left-color\"] = outlines[i];\n      t[pName][\"border-right-color\"] = outlines[i];\n      t[pName][\"border-bottom-color\"] = outlines[i];\n    }\n  }\n}\nexport function getModifiedProps(prevProps, nextProps) {\n  var e_2, _a;\n\n  var mod = {};\n\n  try {\n    for (var _b = __values(Object.keys(nextProps)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var p = _c.value;\n\n      if (prevProps[p] == undefined || prevProps[p] !== nextProps[p]) {\n        mod[p] = nextProps[p];\n      }\n    }\n  } catch (e_2_1) {\n    e_2 = {\n      error: e_2_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_2) throw e_2.error;\n    }\n  }\n\n  return mod;\n}\nexport function isValidProp(owner, prop) {\n  while (owner = owner.prototype || Object.getPrototypeOf(owner)) {\n    if (owner == HTMLElement.prototype) {\n      break;\n    }\n\n    if (owner.hasOwnProperty(prop)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar NamePatcher =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function NamePatcher() {}\n\n  NamePatcher.ensureStylablePatched = function (prot) {\n    this.ensurePatched(prot, isStylableProperty);\n  };\n\n  NamePatcher.ensurePatched = function (prot, nameFilter) {\n    var e_3, _a;\n\n    if (!prot) {\n      return;\n    }\n\n    if (prot === Object.prototype || prot === HTMLElement.prototype) {\n      return;\n    }\n\n    if (this._patched.has(prot)) {\n      return;\n    }\n\n    this._patched.add(prot);\n\n    var _loop_1 = function _loop_1(key) {\n      if (nameFilter && !nameFilter(key)) {\n        return \"continue\";\n      }\n\n      var p = Object.getOwnPropertyDescriptor(prot, key);\n\n      if (!p) {\n        return \"continue\";\n      }\n\n      var set = p.set;\n      var name_1 = key;\n\n      if (set !== undefined) {\n        var newSet = function newSet(v) {\n          this.__p = name_1;\n\n          if (this.__m) {\n            this.__m(name_1);\n          }\n\n          set.call(this, v);\n        };\n\n        Object.defineProperty(prot, key, __assign(__assign({}, p), {\n          set: newSet\n        }));\n      }\n    };\n\n    try {\n      for (var _b = __values(Object.getOwnPropertyNames(prot)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var key = _c.value;\n\n        _loop_1(key);\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    var base = Object.getPrototypeOf(prot);\n\n    if (base) {\n      this.ensurePatched(base, nameFilter);\n    }\n  };\n\n  NamePatcher._patched = new Set();\n  return NamePatcher;\n}();\n\nexport { NamePatcher };","map":{"version":3,"names":["__assign","__values","Brush","Size","Rect","BrushCollection","PointUtil","EnumUtil","typeGetValue","stringEndsWith","stringStartsWith","ObservableColorCollection","brushToString","v","fill","stringToBrush","brush","create","ensureEnum","$t","n","getName","undefined","ret","parse","enumToString","toString","ensureBool","toLowerCase","colorToString","colorString","stringToColor","color","fromSize","width","height","sizeToString","toSize","empty","size","trim","parts","split","length","parseFloat","fromPoint","pointToString","x","y","toPoint","createXY","NaN","point","fromRect","top","left","rectToString","toRect","top_1","brushCollectionToString","bArray","fromBrushCollection","join","toBrushCollection","isRGB","i_1","val","slice","brushCollection","i","add","internalCollection","count","push","item","colorCollectionToString","fromColorCollection","toColorCollection","i_2","colorCollection","arrayFindByName","arr","name","findByName","CollectionAdapter","query","target","allList","toTarget","onItemAdded","onItemRemoved","collisionChecker","_this","_manualItems","_collisionChecker","actualContent","_removedManualKeys","Set","_query","_target","_toTarget","_allList","_onItemAdded","_onItemRemoved","syncItems","changes","subscribe","onQueryChanged","Object","defineProperty","prototype","get","set","enumerable","configurable","updateQuery","q","notifyContentChanged","shiftContentToManual","manualCollection","onMoving","queryArray","toArray","manualSet","key","has","mapWasEmpty","_hasShiftedOnceAlready","splice","insert","targetMap","Map","queryMap","manualMap","manualKeySet","i_3","i_4","removeAt","ind","ins","insItem","maxLen","currentItems","addManualItem","delete","removeManualItem","indexOf","removeManualItemAt","index","clearManualItems","clear","insertManualItem","addPaletteThemeEntry","theme","clss","background","border","foreground","addTextThemeEntry","fontFamily","fontSize","textColor","leftMargin","topMargin","rightMargin","bottomMargin","horizontalAlignment","verticalAlignment","t","isStylableProperty","propName","resolveUnits","value","replace","toSpinal","output","upperRun","curr","upperChar","toUpperCase","lowerChar","charIsNewWord","previousCharWasNewWord","sb","fromSpinal","j","substr","toCssPropertyName","getAllPropertyNames","comp","members","getPrototypeOf","HTMLElement","props","getOwnPropertyNames","constructor","stylableMap","initializePropertiesFromCss","ele","cssPrefix","ignoredProperties","prefixRequired","additionalPrefixes","e_1","_a","styles","getComputedStyle","filtered","stylableProperties","compName","props_1","props_1_1","next","done","prop","cssPropName","cssName","cssValue","getPropertyValue","p","e_1_1","error","return","call","addBrushPaletteThemeEntry","backgrounds","outlines","Math","max","pName","getModifiedProps","prevProps","nextProps","e_2","mod","_b","keys","_c","e_2_1","isValidProp","owner","hasOwnProperty","NamePatcher","ensureStylablePatched","prot","ensurePatched","nameFilter","e_3","_patched","_loop_1","getOwnPropertyDescriptor","name_1","newSet","__p","__m","e_3_1","base"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-core/esm5/lib/componentUtil.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __assign, __values } from \"tslib\";\nimport { Brush } from './Brush';\nimport { Size } from './Size';\nimport { Rect } from './Rect';\nimport { BrushCollection } from './BrushCollection';\nimport { PointUtil } from './type';\nimport { EnumUtil, typeGetValue } from './type';\nimport { stringEndsWith, stringStartsWith } from './string';\nimport { ObservableColorCollection } from './ObservableColorCollection';\nexport function brushToString(v) {\n    if (v == null) {\n        return null;\n    }\n    return v.fill;\n}\nexport function stringToBrush(v) {\n    if (v == null) {\n        return null;\n    }\n    var brush = Brush.create(v);\n    return brush;\n}\nexport function ensureEnum($t, v) {\n    if (v == null) {\n        return 0;\n    }\n    if (typeof v == \"number\") {\n        var n = v;\n        if (EnumUtil.getName($t, n) == undefined) {\n            return 0;\n        }\n        return v;\n    }\n    var ret = typeGetValue(EnumUtil.parse($t, v, true));\n    return ret;\n}\nexport function enumToString($t, v) {\n    return EnumUtil.toString($t, v);\n}\nexport function ensureBool(v) {\n    if (v == null) {\n        return false;\n    }\n    if (typeof v == \"boolean\") {\n        return v;\n    }\n    return v.toString().toLowerCase() == \"true\";\n}\nexport function colorToString(v) {\n    if (v == null) {\n        return null;\n    }\n    return v.colorString;\n}\nexport function stringToColor(v) {\n    if (v == null) {\n        return null;\n    }\n    var brush = Brush.create(v);\n    return brush.color;\n}\nexport function fromSize(v) {\n    if (v == null) {\n        return null;\n    }\n    return {\n        width: v.width,\n        height: v.height\n    };\n}\nexport function sizeToString(v) {\n    if (!v) {\n        return null;\n    }\n    return v.width + \" \" + v.height;\n}\nexport function toSize(v) {\n    if (v == null) {\n        return Size.empty;\n    }\n    var size = null;\n    if (typeof v == \"string\") {\n        v = v.trim();\n        var parts = v.split(\" \");\n        if (parts.length != 2) {\n            parts = v.split(\",\");\n        }\n        if (parts.length != 2) {\n            return Size.empty;\n        }\n        parts[0] = parts[0].trim();\n        parts[1] = parts[1].trim();\n        var width = parseFloat(parts[0]);\n        var height = parseFloat(parts[1]);\n        return new Size(0, width, height);\n    }\n    else {\n        if (v != null) {\n            size = new Size(0, v.width, v.height);\n        }\n    }\n    return size;\n}\nexport function fromPoint(v) {\n    return v;\n}\nexport function pointToString(v) {\n    if (!v) {\n        return null;\n    }\n    return v.x + \" \" + v.y;\n}\nexport function toPoint(v) {\n    if (v == null) {\n        return PointUtil.createXY(NaN, NaN);\n    }\n    var point = null;\n    if (typeof v == \"string\") {\n        v = v.trim();\n        var parts = v.split(\" \");\n        if (parts.length != 2) {\n            parts = v.split(\",\");\n        }\n        if (parts.length != 2) {\n            return PointUtil.createXY(NaN, NaN);\n        }\n        parts[0] = parts[0].trim();\n        parts[1] = parts[1].trim();\n        var x = parseFloat(parts[0]);\n        var y = parseFloat(parts[1]);\n        return PointUtil.createXY(x, y);\n    }\n    else {\n        if (v != null) {\n            point = PointUtil.createXY(v.x, v.y);\n        }\n    }\n    return point;\n}\nexport function fromRect(v) {\n    if (v == null) {\n        return null;\n    }\n    return {\n        top: v.top,\n        left: v.left,\n        width: v.width,\n        height: v.height\n    };\n}\nexport function rectToString(v) {\n    if (!v) {\n        return null;\n    }\n    return v.left + \" \" + v.top + \" \" + v.width + \" \" + v.height;\n}\nexport function toRect(v) {\n    if (v == null) {\n        return Rect.empty;\n    }\n    var size = null;\n    if (typeof v == \"string\") {\n        var parts = v.split(\" \");\n        if (parts.length != 4) {\n            parts = v.split(\",\");\n        }\n        if (parts.length != 4) {\n            return Rect.empty;\n        }\n        parts[0] = parts[0].trim();\n        parts[1] = parts[1].trim();\n        parts[2] = parts[2].trim();\n        parts[3] = parts[3].trim();\n        var left = parseFloat(parts[0]);\n        var top_1 = parseFloat(parts[1]);\n        var width = parseFloat(parts[2]);\n        var height = parseFloat(parts[3]);\n        return new Rect(0, left, top_1, width, height);\n    }\n    else {\n        if (v != null) {\n            size = new Rect(0, v.left, v.top, v.width, v.height);\n        }\n    }\n    return size;\n}\nexport function brushCollectionToString(v) {\n    var bArray = fromBrushCollection(v);\n    if (bArray == null) {\n        return null;\n    }\n    return bArray.join(\" \");\n}\nexport function toBrushCollection(v) {\n    if (v == null) {\n        return null;\n    }\n    var isRGB = true;\n    if (typeof v == \"string\") {\n        v = v.trim();\n        v = v.split(/[\\s,]+(?![^(]*\\))/gm);\n        for (var i_1 = 0; i_1 < v.length; i_1++) {\n            v[i_1] = v[i_1].trim();\n        }\n    }\n    var val = v ? v[0] : null;\n    if (typeof val == 'string' && val == 'HSV' || val == 'RGB') {\n        if (v[0] == 'HSV') {\n            isRGB = false;\n        }\n        v = v.slice(1);\n    }\n    var brushCollection = new BrushCollection();\n    for (var i = 0; v && i < v.length; i++) {\n        var brush = Brush.create(v[i]);\n        brushCollection.add(brush);\n    }\n    return brushCollection;\n}\nexport function fromBrushCollection(v) {\n    if (v == null) {\n        return null;\n    }\n    var internalCollection = v;\n    var ret = [];\n    for (var i = 0; i < internalCollection.count; i++) {\n        ret.push(internalCollection.item(i).fill);\n    }\n    return ret;\n}\nexport function colorCollectionToString(v) {\n    var bArray = fromColorCollection(v);\n    if (bArray == null) {\n        return null;\n    }\n    return bArray.join(\" \");\n}\nexport function toColorCollection(v) {\n    if (v == null) {\n        return null;\n    }\n    var isRGB = true;\n    if (typeof v == \"string\") {\n        v = v.trim();\n        v = v.split(/[\\s,]+(?![^(]*\\))/gm);\n        for (var i_2 = 0; i_2 < v.length; i_2++) {\n            v[i_2] = v[i_2].trim();\n        }\n    }\n    var val = v ? v[0] : null;\n    if (typeof val == 'string' && val == 'HSV' || val == 'RGB') {\n        if (v[0] == 'HSV') {\n            isRGB = false;\n        }\n        v = v.slice(1);\n    }\n    var colorCollection = new ObservableColorCollection();\n    for (var i = 0; v && i < v.length; i++) {\n        var color = stringToColor(v[i]);\n        colorCollection.add(color);\n    }\n    return colorCollection;\n}\nexport function fromColorCollection(v) {\n    if (v == null) {\n        return null;\n    }\n    var internalCollection = v;\n    var ret = [];\n    for (var i = 0; i < internalCollection.count; i++) {\n        ret.push(internalCollection.item(i).colorString);\n    }\n    return ret;\n}\nexport function arrayFindByName(arr, name) {\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i].findByName && arr[i].findByName(name)) {\n            return arr[i].findByName(name);\n        }\n    }\n}\nvar CollectionAdapter = /** @class */ /*@__PURE__*/ (function () {\n    function CollectionAdapter(query, target, allList, toTarget, onItemAdded, onItemRemoved, collisionChecker) {\n        var _this = this;\n        this._manualItems = [];\n        this._collisionChecker = null;\n        this.actualContent = [];\n        this._removedManualKeys = new Set();\n        if (collisionChecker) {\n            this._collisionChecker = collisionChecker;\n        }\n        this._query = query;\n        this._target = target;\n        this._toTarget = toTarget;\n        this._allList = allList;\n        this._onItemAdded = onItemAdded;\n        this._onItemRemoved = onItemRemoved;\n        this.syncItems();\n        if (this._query.changes) {\n            this._query.changes.subscribe(function (v) { return _this.onQueryChanged(v); });\n        }\n    }\n    Object.defineProperty(CollectionAdapter.prototype, \"collisionChecker\", {\n        get: function () {\n            return this._collisionChecker;\n        },\n        set: function (v) {\n            this._collisionChecker = v;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CollectionAdapter.prototype.updateQuery = function (q) {\n        var _this = this;\n        this._query = q;\n        if (this._query.changes) {\n            this._query.changes.subscribe(function (v) { return _this.onQueryChanged(v); });\n        }\n        this.notifyContentChanged();\n    };\n    CollectionAdapter.prototype.shiftContentToManual = function (manualCollection, onMoving) {\n        var queryArray = null;\n        if (this._query.toArray) {\n            queryArray = this._query.toArray();\n        }\n        else {\n            queryArray = this._query;\n        }\n        var item = null;\n        var manualSet = new Set();\n        if (this.collisionChecker) {\n            for (var i = 0; i < this._manualItems.length; i++) {\n                item = this._manualItems[i];\n                if (item) {\n                    var key = this.collisionChecker(item);\n                    if (key) {\n                        if (!manualSet.has(key)) {\n                            manualSet.add(key);\n                        }\n                    }\n                }\n            }\n        }\n        var mapWasEmpty = manualSet.size == 0;\n        for (var i = 0; i < queryArray.length; i++) {\n            item = queryArray[i];\n            if (!this._hasShiftedOnceAlready) {\n                this._manualItems.splice(i, 0, item);\n                manualCollection.insert(i, item);\n                onMoving(item);\n            }\n            else {\n                var key = this.collisionChecker(item);\n                if (!key) {\n                    this._manualItems.splice(i, 0, item);\n                    manualCollection.insert(i, item);\n                    onMoving(item);\n                }\n                else {\n                    if (!manualSet.has(key)) {\n                        this._manualItems.splice(manualCollection.count, 0, item);\n                        manualCollection.insert(manualCollection.count, item);\n                        onMoving(item);\n                    }\n                }\n            }\n        }\n        this.syncItems();\n        this._hasShiftedOnceAlready = true;\n    };\n    CollectionAdapter.prototype.syncItems = function () {\n        var targetMap = new Map();\n        var queryMap = new Map();\n        var manualMap = new Map();\n        var item = null;\n        for (var i = 0; i < this._allList.length; i++) {\n            item = this._allList[i];\n            targetMap.set(item, true);\n        }\n        var queryArray = null;\n        if (this._query.toArray) {\n            queryArray = this._query.toArray();\n        }\n        else {\n            queryArray = this._query;\n        }\n        this.actualContent = queryArray;\n        if (this.collisionChecker) {\n            queryArray = queryArray.slice(0);\n            this.actualContent = queryArray;\n            var manualKeySet = new Set();\n            for (var i_3 = 0; i_3 < this._manualItems.length; i_3++) {\n                item = this._manualItems[i_3];\n                if (item) {\n                    var key = this.collisionChecker(item);\n                    if (key) {\n                        if (!manualKeySet.has(key)) {\n                            manualKeySet.add(key);\n                        }\n                    }\n                }\n            }\n            for (var i_4 = queryArray.length - 1; i_4 >= 0; i_4--) {\n                item = queryArray[i_4];\n                if (!item) {\n                    queryArray.splice(i_4, 1);\n                }\n                else {\n                    var key = this.collisionChecker(item);\n                    if (key && (manualKeySet.has(key) || this._removedManualKeys.has(key))) {\n                        queryArray.splice(i_4, 1);\n                    }\n                }\n            }\n        }\n        for (var i = 0; i < queryArray.length; i++) {\n            item = queryArray[i];\n            queryMap.set(item, true);\n        }\n        for (var i = 0; i < this._manualItems.length; i++) {\n            item = this._manualItems[i];\n            manualMap.set(item, true);\n        }\n        for (var i = this._allList.length - 1; i >= 0; i--) {\n            item = this._allList[i];\n            if (!queryMap.has(item) && !manualMap.has(item)) {\n                this._allList.splice(i, 1);\n                this._target.removeAt(i);\n                this._onItemRemoved(item);\n            }\n        }\n        var ind = 0;\n        var ins = 0;\n        var insItem = null;\n        var maxLen = queryArray.length + this._manualItems.length;\n        while (ind < maxLen) {\n            if (ind < queryArray.length) {\n                insItem = queryArray[ind];\n            }\n            else if ((ind - queryArray.length) < this._manualItems.length) {\n                insItem = this._manualItems[ind - queryArray.length];\n            }\n            else {\n                break;\n            }\n            if (ins < this._allList.length) {\n                item = this._allList[ins];\n                if (item === insItem) {\n                    ins++;\n                    ind++;\n                }\n                else {\n                    this._allList.splice(ins, 0, insItem);\n                    this._target.insert(ins, this._toTarget(insItem));\n                    this._onItemAdded(insItem);\n                    ind++;\n                    ins++;\n                }\n            }\n            else {\n                this._allList.push(insItem);\n                this._target.add(this._toTarget(insItem));\n                this._onItemAdded(insItem);\n                ind++;\n                ins++;\n            }\n        }\n    };\n    CollectionAdapter.prototype.notifyContentChanged = function () {\n        this.onQueryChanged(this._query);\n    };\n    CollectionAdapter.prototype.onQueryChanged = function (currentItems) {\n        this.syncItems();\n    };\n    CollectionAdapter.prototype.addManualItem = function (item) {\n        if (this.collisionChecker) {\n            var key = this.collisionChecker(item);\n            if (key) {\n                if (this._removedManualKeys.has(key)) {\n                    this._removedManualKeys.delete(key);\n                }\n            }\n        }\n        this._manualItems.push(item);\n        this.syncItems();\n    };\n    CollectionAdapter.prototype.removeManualItem = function (item) {\n        var ind = this._manualItems.indexOf(item);\n        if (ind >= 0) {\n            if (this.collisionChecker) {\n                var key = this.collisionChecker(item);\n                if (key) {\n                    if (!this._removedManualKeys.has(key)) {\n                        this._removedManualKeys.add(key);\n                    }\n                }\n            }\n            this._manualItems.splice(ind, 1);\n            this.syncItems();\n            return true;\n        }\n        return false;\n    };\n    CollectionAdapter.prototype.removeManualItemAt = function (index) {\n        if (index < this._manualItems.length) {\n            var item = this._manualItems[index];\n            if (this.collisionChecker) {\n                var key = this.collisionChecker(item);\n                if (key) {\n                    if (!this._removedManualKeys.has(key)) {\n                        this._removedManualKeys.add(key);\n                    }\n                }\n            }\n        }\n        this._manualItems.splice(index, 1);\n        this.syncItems();\n    };\n    CollectionAdapter.prototype.clearManualItems = function () {\n        if (this.collisionChecker) {\n            this._removedManualKeys.clear();\n        }\n        this._manualItems.length = 0;\n        this.syncItems();\n    };\n    CollectionAdapter.prototype.insertManualItem = function (index, item) {\n        if (this.collisionChecker) {\n            var key = this.collisionChecker(item);\n            if (key) {\n                if (this._removedManualKeys.has(key)) {\n                    this._removedManualKeys.delete(key);\n                }\n            }\n        }\n        this._manualItems.splice(index, 0, item);\n        this.syncItems();\n    };\n    return CollectionAdapter;\n}());\nexport { CollectionAdapter };\nexport function addPaletteThemeEntry(theme, clss, background, border, foreground) {\n    if (theme[clss] === undefined) {\n        theme[clss] = {};\n    }\n    if (background !== null) {\n        theme[clss][\"background-color\"] = background;\n    }\n    if (border !== null && border !== undefined) {\n        theme[clss][\"border-top-color\"] = border;\n        theme[clss][\"border-left-color\"] = border;\n        theme[clss][\"border-right-color\"] = border;\n        theme[clss][\"border-bottom-color\"] = border;\n    }\n    if (foreground !== null && foreground !== undefined) {\n        theme[clss][\"color\"] = foreground;\n    }\n}\nexport function addTextThemeEntry(theme, clss, fontFamily, fontSize, textColor, leftMargin, topMargin, rightMargin, bottomMargin, horizontalAlignment, verticalAlignment) {\n    if (theme[clss] === undefined) {\n        theme[clss] = {};\n    }\n    var t = theme[clss];\n    if (fontFamily !== null && fontFamily !== undefined) {\n        t[\"font-family\"] = fontFamily;\n        t[\"font-weight\"] = \"\";\n        t[\"font-style\"] = \"\";\n        t[\"font-variant\"] = \"\";\n        t[\"line-height\"] = \"\";\n    }\n    if (fontSize !== null && fontSize !== undefined) {\n        t[\"font-size\"] = fontSize;\n        t[\"font-weight\"] = \"\";\n        t[\"font-style\"] = \"\";\n        t[\"font-variant\"] = \"\";\n        t[\"line-height\"] = \"\";\n    }\n    if (textColor !== null && textColor !== undefined) {\n        t[\"color\"] = textColor;\n    }\n    if (leftMargin !== null && leftMargin !== undefined) {\n        t[\"margin-left\"] = leftMargin;\n    }\n    if (topMargin !== null && topMargin !== undefined) {\n        t[\"margin-top\"] = topMargin;\n    }\n    if (rightMargin !== null && rightMargin !== undefined) {\n        t[\"margin-right\"] = rightMargin;\n    }\n    if (bottomMargin !== null && bottomMargin !== undefined) {\n        t[\"margin-bottom\"] = bottomMargin;\n    }\n    if (horizontalAlignment !== null && horizontalAlignment !== undefined) {\n        t[\"text-align\"] = horizontalAlignment;\n    }\n    if (verticalAlignment !== null && verticalAlignment !== undefined) {\n        t[\"vertical-align\"] = verticalAlignment;\n    }\n}\nfunction isStylableProperty(name) {\n    // using lower case to prevent issGrues with matching case of properties (e.g. chart.brushes)\n    var propName = name.toLowerCase();\n    // skip non-stylable properties\n    if (propName == \"height\" ||\n        propName == \"width\") {\n        return false;\n    }\n    // check for all stylable properties\n    if (stringEndsWith(propName, \"height\") || // grid.rowHeight\n        stringEndsWith(propName, \"width\") || // zoomSlider.HigherThumbWidth\n        stringEndsWith(propName, \"width\") || // zoomSlider.HigherCalloutOutline\n        stringEndsWith(propName, \"inset\") || // zoomSlider.EndInset\n        stringEndsWith(propName, \"orientation\") || // zoomSlider.Orientation\n        stringEndsWith(propName, \"duration\") || // zoomSlider.PanTransitionDuration\n        stringEndsWith(propName, \"outline\") || // zoomSlider.BarOutline\n        stringEndsWith(propName, \"brush\") ||\n        stringEndsWith(propName, \"background\") ||\n        stringEndsWith(propName, \"opacity\") ||\n        stringEndsWith(propName, \"textstyle\") ||\n        stringEndsWith(propName, \"brushes\") || // chart.brushes  || chart.negativeBrushes\n        stringEndsWith(propName, \"outlines\") || // chart.outlines || chart.negativeOutlines\n        stringEndsWith(propName, \"thickness\") || // chart.AxisStrokeThickness\n        stringEndsWith(propName, \"colors\") || //\n        stringEndsWith(propName, \"color\") || // chart.AxisLabelTextColor\n        stringEndsWith(propName, \"margin\") || // chart.AxisLabelTopMargin\n        stringEndsWith(propName, \"location\") || // chart.AxisLabelLocation\n        stringEndsWith(propName, \"style\") || // chart.AxisLabelTextStyle\n        stringEndsWith(propName, \"alignment\") || // chart.AxisLabelHorizontalAlignment\n        stringEndsWith(propName, \"visibility\") || // chart.AxisLabelVisibility\n        stringEndsWith(propName, \"extent\") || // chart.AxisExtent\n        stringEndsWith(propName, \"length\") || // chart.AxisTickLength\n        stringEndsWith(propName, \"strip\") || // chart.AxisStrip\n        stringEndsWith(propName, \"stroke\") || // chart.AxisStroke\n        stringEndsWith(propName, \"fill\") || // piechart.OthersCategoryFill\n        stringEndsWith(propName, \"visible\") ||\n        stringEndsWith(propName, \"radius\") ||\n        stringStartsWith(propName, \"padding\") ||\n        propName === \"usecanvas\" ||\n        propName === \"useaccessibility\") { // chart.isToolbarVisible\n        return true;\n    }\n    return false;\n}\nfunction resolveUnits(val) {\n    // TODO convert \"em, px, pt, cm, in\" units to \"px\"?\n    // https://www.w3.org/Style/Examples/007/units.en.html\n    var value = val.toLowerCase();\n    if (stringEndsWith(value, \"px\")) { // 20px\n        value = value.replace(\"px\", \"\");\n        value = value.replace(\" \", \"\");\n    }\n    return value;\n}\nexport function toSpinal(value) {\n    if (value == null) {\n        return null;\n    }\n    var output = [];\n    var upperRun = 0;\n    for (var i = 0; i < value.length; i++) {\n        var curr = value[i];\n        var upperChar = curr.toUpperCase();\n        var lowerChar = curr.toLowerCase();\n        var charIsNewWord = (upperRun == 0 && output.length > 0);\n        var previousCharWasNewWord = (upperRun > 1);\n        if (upperChar == curr) {\n            if (charIsNewWord) {\n                output.push('-');\n            }\n            upperRun++;\n        }\n        else if (lowerChar == curr) {\n            if (previousCharWasNewWord) {\n                output.splice(output.length - 1, 0, '-');\n            }\n            upperRun = 0;\n        }\n        else {\n            upperRun = 0;\n        }\n        output.push(lowerChar);\n    }\n    var sb = \"\";\n    for (var i = 0; i < output.length; i++) {\n        sb += output[i];\n    }\n    return sb;\n}\nexport function fromSpinal(value) {\n    if (value == null) {\n        return value;\n    }\n    var parts = value.split('-');\n    for (var j = 1; j < parts.length; j++) {\n        parts[j] = parts[j].substr(0, 1).toUpperCase() + parts[j].substr(1);\n    }\n    var ret = \"\";\n    for (var j = 0; j < parts.length; j++) {\n        ret += parts[j];\n    }\n    return ret;\n}\nfunction toCssPropertyName(value) {\n    var sb = toSpinal(value);\n    return sb;\n}\n// get all property names for specified component and its base classes\nexport function getAllPropertyNames(comp) {\n    var members = [];\n    while (comp = (comp.prototype || Object.getPrototypeOf(comp))) {\n        if (comp == HTMLElement.prototype) {\n            break;\n        }\n        var props = Object.getOwnPropertyNames(comp.constructor.prototype);\n        for (var i = 0; i < props.length; i++) {\n            members.push(props[i]);\n        }\n    }\n    return members;\n}\nvar stylableMap = /*@__PURE__*/ new Map();\nexport function initializePropertiesFromCss(ele, comp, cssPrefix, ignoredProperties, prefixRequired, additionalPrefixes) {\n    var e_1, _a;\n    var styles = getComputedStyle(ele);\n    var props = getAllPropertyNames(comp);\n    var filtered = false;\n    var stylableProperties = [];\n    if (stylableMap.has(comp.prototype || Object.getPrototypeOf(comp))) {\n        stylableProperties = stylableMap.get(comp.prototype || Object.getPrototypeOf(comp));\n        props = stylableProperties;\n        filtered = true;\n    }\n    var compName = comp.constructor.name;\n    try {\n        for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n            var prop = props_1_1.value;\n            var cssPropName = null;\n            if (filtered) {\n                cssPropName = prop[1];\n                prop = prop[0];\n            }\n            if (ignoredProperties && ignoredProperties.has(prop)) {\n                if (!filtered && isStylableProperty(prop)) {\n                    var cssName = toCssPropertyName(prop);\n                    stylableProperties.push([prop, cssName]);\n                }\n                continue;\n            }\n            if (filtered || isStylableProperty(prop)) {\n                var cssName = \"\";\n                if (cssPropName) {\n                    cssName = cssPropName;\n                }\n                else {\n                    cssName = toCssPropertyName(prop);\n                }\n                // check if custom property is set with a prefix\n                var cssValue = styles.getPropertyValue(\"--\" + cssPrefix + cssName);\n                if (cssValue && cssValue.length && cssValue.length > 0) {\n                    comp[prop] = resolveUnits(cssValue.trim());\n                }\n                if (additionalPrefixes) {\n                    for (var i = 0; i < additionalPrefixes.length; i++) {\n                        var p = additionalPrefixes[i];\n                        cssValue = styles.getPropertyValue(\"--\" + p + cssName);\n                        if (cssValue && cssValue.length && cssValue.length > 0) {\n                            comp[prop] = resolveUnits(cssValue.trim());\n                        }\n                    }\n                }\n                if (!prefixRequired) {\n                    // check if custom property is set without a prefix\n                    cssValue = styles.getPropertyValue(\"--\" + cssName);\n                    if (cssValue && cssValue.length && cssValue.length > 0) {\n                        comp[prop] = resolveUnits(cssValue.trim());\n                    }\n                }\n                if (!filtered) {\n                    stylableProperties.push([prop, cssName]);\n                }\n            }\n        }\n    }\n    catch (e_1_1) {\n        e_1 = { error: e_1_1 };\n    }\n    finally {\n        try {\n            if (props_1_1 && !props_1_1.done && (_a = props_1.return))\n                _a.call(props_1);\n        }\n        finally {\n            if (e_1)\n                throw e_1.error;\n        }\n    }\n    if (!filtered) {\n        stylableMap.set(comp.prototype || Object.getPrototypeOf(comp), stylableProperties);\n    }\n}\nexport function addBrushPaletteThemeEntry(theme, clss, backgrounds, outlines) {\n    if (outlines == null) {\n        outlines = backgrounds;\n    }\n    var t = theme;\n    for (var i = 0; i < Math.max(backgrounds.length, outlines.length); i++) {\n        var pName = clss + \"-\" + (i + 1);\n        if (t[pName] === undefined) {\n            t[pName] = {};\n        }\n        if (backgrounds[i] !== undefined) {\n            t[pName][\"background-color\"] = backgrounds[i];\n        }\n        if (outlines[i] !== undefined) {\n            t[pName][\"border-top-color\"] = outlines[i];\n            t[pName][\"border-left-color\"] = outlines[i];\n            t[pName][\"border-right-color\"] = outlines[i];\n            t[pName][\"border-bottom-color\"] = outlines[i];\n        }\n    }\n}\nexport function getModifiedProps(prevProps, nextProps) {\n    var e_2, _a;\n    var mod = {};\n    try {\n        for (var _b = __values(Object.keys(nextProps)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var p = _c.value;\n            if (prevProps[p] == undefined ||\n                prevProps[p] !== nextProps[p]) {\n                mod[p] = nextProps[p];\n            }\n        }\n    }\n    catch (e_2_1) {\n        e_2 = { error: e_2_1 };\n    }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return))\n                _a.call(_b);\n        }\n        finally {\n            if (e_2)\n                throw e_2.error;\n        }\n    }\n    return mod;\n}\nexport function isValidProp(owner, prop) {\n    while (owner = (owner.prototype || Object.getPrototypeOf(owner))) {\n        if (owner == HTMLElement.prototype) {\n            break;\n        }\n        if (owner.hasOwnProperty(prop)) {\n            return true;\n        }\n    }\n    return false;\n}\nvar NamePatcher = /** @class */ /*@__PURE__*/ (function () {\n    function NamePatcher() {\n    }\n    NamePatcher.ensureStylablePatched = function (prot) {\n        this.ensurePatched(prot, isStylableProperty);\n    };\n    NamePatcher.ensurePatched = function (prot, nameFilter) {\n        var e_3, _a;\n        if (!prot) {\n            return;\n        }\n        if (prot === Object.prototype || prot === HTMLElement.prototype) {\n            return;\n        }\n        if (this._patched.has(prot)) {\n            return;\n        }\n        this._patched.add(prot);\n        var _loop_1 = function (key) {\n            if (nameFilter && !nameFilter(key)) {\n                return \"continue\";\n            }\n            var p = Object.getOwnPropertyDescriptor(prot, key);\n            if (!p) {\n                return \"continue\";\n            }\n            var set = p.set;\n            var name_1 = key;\n            if (set !== undefined) {\n                var newSet = function (v) {\n                    this.__p = name_1;\n                    if (this.__m) {\n                        this.__m(name_1);\n                    }\n                    set.call(this, v);\n                };\n                Object.defineProperty(prot, key, __assign(__assign({}, p), { set: newSet }));\n            }\n        };\n        try {\n            for (var _b = __values(Object.getOwnPropertyNames(prot)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                _loop_1(key);\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        var base = Object.getPrototypeOf(prot);\n        if (base) {\n            this.ensurePatched(base, nameFilter);\n        }\n    };\n    NamePatcher._patched = new Set();\n    return NamePatcher;\n}());\nexport { NamePatcher };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}