{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, runOn, Delegate_$type, markType, typeCast, INotifyPropertyChanged_$type, PropertyChangedEventArgs, EventArgs, Point_$type, markDep } from \"./type\";\nimport { ISchedulableRender_$type } from \"./ISchedulableRender\";\nimport { List$1 } from \"./List$1\";\nimport { Image } from \"./Image\";\nimport { RenderingContext } from \"./RenderingContext\";\nimport { StackPool$1 } from \"./StackPool$1\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { Tile } from \"./Tile\";\nimport { Rect } from \"./Rect\";\nimport { CanvasRenderScheduler } from \"./CanvasRenderScheduler\";\nimport { WriteableBitmap } from \"./WriteableBitmap\";\nimport { Uri } from \"./Uri\";\nimport { CancellingMultiScaleImageEventArgs } from \"./CancellingMultiScaleImageEventArgs\";\nimport { DownloadingMultiScaleImageEventArgs } from \"./DownloadingMultiScaleImageEventArgs\";\nimport { CanvasViewRenderer } from \"./CanvasViewRenderer\";\nimport { truncate, intDivide, logBase } from \"./number\";\nimport { DependencyObject } from \"./DependencyObject\";\nimport { Control } from \"./Control\";\nimport { DependencyProperty } from \"./DependencyProperty\";\nimport { IEasingFunction_$type } from \"./IEasingFunction\";\nimport { LRUCache$2 } from \"./LRUCache$2\";\nimport { TilePositionComparer } from \"./TilePositionComparer\";\nimport { Convert } from \"./Convert\";\nimport { MathUtil } from \"./MathUtil\";\nimport { PropertyMetadata } from \"./PropertyMetadata\";\nimport { stringIsNullOrEmpty } from \"./string\";\nimport { dateNow } from \"./date\";\n/**\n * @hidden\n */\n\nvar XamMultiScaleImageView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(XamMultiScaleImageView, _super);\n\n  function XamMultiScaleImageView(a) {\n    var _this = _super.call(this) || this;\n\n    _this.b = null;\n    _this.h = null;\n    _this.g = new Dictionary$2(Base.$, List$1.$.specialize(Delegate_$type), 0);\n    _this.j = new List$1(Tile.$, 0);\n    _this.i = new List$1(Tile.$, 0);\n    _this.p = -1;\n    _this.o = -1;\n    _this.k = null;\n    _this.m = null;\n    _this.c = null;\n    _this._isDirty = false;\n    _this.au = Rect.empty;\n    _this.l = null;\n    _this.b = a;\n\n    _this.b.ag.l(_this);\n\n    _this.h = new List$1(Image.$, 0);\n\n    _this.b.ap = function () {\n      var $ret = new StackPool$1(Image.$);\n      $ret.j = runOn(_this, _this.at);\n      $ret.b = runOn(_this, _this.y);\n      $ret.c = runOn(_this, _this.aa);\n      $ret.d = runOn(_this, _this.z);\n      return $ret;\n    }();\n\n    for (var b = 0; b < 4; ++b) {\n      _this.i.add(null);\n    }\n\n    return _this;\n  }\n\n  XamMultiScaleImageView.prototype.at = function () {\n    return new Image();\n  };\n\n  XamMultiScaleImageView.prototype.y = function (a) {\n    this.h.add(a);\n  };\n\n  XamMultiScaleImageView.prototype.aa = function (a) {\n    this.h.remove(a);\n  };\n\n  XamMultiScaleImageView.prototype.z = function (a) {};\n\n  XamMultiScaleImageView.prototype.ao = function (a, b, c) {\n    a.n = b;\n    a.o = c;\n  };\n\n  XamMultiScaleImageView.prototype.r = function (a) {\n    var _loop_1 = function _loop_1(b) {\n      if (a == this_1.i._inner[b]) {\n        if (a.i != null && a.i.ac != null) {\n          var c = a.i.ac;\n          var d_1 = c.c;\n          var e_1 = this_1.b.ao.w(a.f + 8, a.d, a.e);\n\n          if (e_1 != null) {\n            var f = function () {\n              var $ret = new CancellingMultiScaleImageEventArgs();\n              $ret.uri = e_1.value;\n              $ret.image = d_1;\n              return $ret;\n            }();\n\n            this_1.b.bu(f);\n          }\n\n          if (this_1.g.containsKey(d_1)) {\n            var g = this_1.g.item(d_1);\n\n            for (var h = 0; h < g.count; h++) {\n              g._inner[h]();\n            }\n\n            g.clear();\n            this_1.g.removeItem(d_1);\n          }\n        }\n\n        this_1.i._inner[b] = null;\n        this_1.q();\n        return {\n          value: void 0\n        };\n      }\n    };\n\n    var this_1 = this;\n\n    for (var b = 0; b < this.i.count; ++b) {\n      var state_1 = _loop_1(b);\n\n      if (typeof state_1 === \"object\") return state_1.value;\n    }\n\n    for (var i = 0; i < this.j.count; ++i) {\n      if (this.j._inner[i] == a) {\n        this.j.removeAt(i);\n        break;\n      }\n    }\n  };\n\n  XamMultiScaleImageView.prototype.u = function (a) {\n    this.j.add(a);\n    this.j.aa(function (b, c) {\n      var d = 0;\n      var e = 0;\n\n      if (b.h != null) {\n        d = b.h.ac.b;\n      }\n\n      if (c.h != null) {\n        e = c.h.ac.b;\n      }\n\n      if (d < e) {\n        return -1;\n      } else if (d > e) {\n        return 1;\n      }\n\n      return 0;\n    });\n    this.q();\n  };\n\n  XamMultiScaleImageView.prototype.q = function () {\n    var _this = this;\n\n    var index_ = -1;\n\n    if (this.l == null) {\n      return;\n    }\n\n    if (this.j.count > 0) {\n      for (var a = 0; a < this.i.count; ++a) {\n        if (this.i._inner[a] == null) {\n          index_ = a;\n          break;\n        }\n      }\n    }\n\n    if (index_ >= 0) {\n      this.i._inner[index_] = this.j._inner[0];\n      var b = new WriteableBitmap(this.b.ao.r, this.b.ao.p);\n      this.i._inner[index_].i.ac = b;\n      var ele_ = this.l.createElement(\"img\");\n      var c_1 = ele_.getNativeElement();\n      b.c = c_1;\n      var self_ = this;\n      var d = new List$1(Delegate_$type, 0);\n      this.g.addItem(c_1, d);\n      d.add(ele_.listen(\"load\", function (e) {\n        return _this.ab(e, index_);\n      }));\n      d.add(ele_.listen(\"readystatechange\", function (e) {\n        return _this.ab(e, index_);\n      }));\n      d.add(ele_.listen(\"error\", function (e) {\n        return _this.ac(e, index_);\n      }));\n      this.j.removeAt(0);\n      var e = this.b.ao.w(this.i._inner[index_].f + 8, this.i._inner[index_].d, this.i._inner[index_].e);\n\n      if (e == null) {\n        return;\n      }\n\n      var f_1 = e.value;\n\n      var g = function () {\n        var $ret = new DownloadingMultiScaleImageEventArgs();\n        $ret.uri = f_1;\n        $ret.image = c_1;\n        return $ret;\n      }();\n\n      this.b.bv(g);\n      f_1 = g.uri;\n\n      if (f_1 != null) {\n        c_1.src = f_1;\n      }\n    }\n  };\n\n  XamMultiScaleImageView.prototype.ab = function (a, b) {\n    var e_ = a.originalEvent;\n    var img_ = e_.target;\n    var c = img_.complete || img_.readyState == 'complete' && e_.type == 'readystatechange';\n\n    if (c) {\n      this.downloadCompleted(a, b);\n    }\n  };\n\n  XamMultiScaleImageView.prototype.ac = function (a, b) {\n    this.downloadError(a, b);\n  };\n\n  XamMultiScaleImageView.prototype.downloadError = function (a, b) {\n    var c = this.i._inner[b];\n    this.i._inner[b] = null;\n\n    if (c != null && c.i != null && c.i.ac != null) {\n      var e_ = a.originalEvent;\n      var d = e_.target;\n\n      if (this.g.containsKey(d)) {\n        var e = this.g.item(d);\n\n        for (var f = 0; f < e.count; f++) {\n          e._inner[f]();\n        }\n\n        e.clear();\n        this.g.removeItem(d);\n      }\n    }\n\n    this.q();\n    this.ad();\n  };\n\n  XamMultiScaleImageView.prototype.downloadCompleted = function (a, b) {\n    var c = this.i._inner[b];\n    var d = true;\n\n    if (c != null && c.i != null && c.i.ac != null) {\n      d = false;\n      var ele_ = c.i.ac.c;\n\n      if (!ele_.complete) {\n        d = true;\n      }\n\n      if (ele_.width == 0 && ele_.height == 0) {\n        d = true;\n      }\n    }\n\n    this.i._inner[b] = null;\n\n    if (d) {\n      this.q();\n      this.ad();\n      return;\n    }\n\n    var e_ = a.originalEvent;\n    var e = e_.target;\n\n    if (this.g.containsKey(e)) {\n      var f = this.g.item(e);\n\n      for (var g = 0; g < f.count; g++) {\n        f._inner[g]();\n      }\n\n      f.clear();\n      this.g.removeItem(e);\n    }\n\n    this.b.bo(c, c.i.ac);\n\n    if (c.i != null) {\n      this.b.ca(c);\n    }\n\n    this.q();\n    this.ad();\n  };\n\n  XamMultiScaleImageView.prototype.a = function (a, b, c, d) {\n    var e = new WriteableBitmap(a, a);\n    e.c = b.c;\n\n    if (!b.d.isEmpty) {\n      c += truncate(Math.round(b.d.left));\n      d += truncate(Math.round(b.d.top));\n    }\n\n    e.d = new Rect(0, c, d, a, a);\n    return e;\n  };\n\n  XamMultiScaleImageView.prototype.am = function (a) {\n    a.s = 0;\n  };\n\n  XamMultiScaleImageView.prototype.an = function (a) {\n    a.s = 1;\n  };\n\n  XamMultiScaleImageView.prototype.f = function () {\n    return true;\n  };\n\n  XamMultiScaleImageView.prototype.s = function (a) {\n    if (this.b.al != null) {\n      this.b.al.deferredRefresh();\n    } else {\n      if (this.k != null) {\n        this.k.setTimeout(a, 0);\n      } else {\n        window.setTimeout(a, 0);\n      }\n    }\n  };\n\n  XamMultiScaleImageView.prototype.aq = function () {\n    if (this.p == -1) {\n      this.p = window.setInterval(runOn(this.b, this.b.b9), 50);\n    }\n  };\n\n  XamMultiScaleImageView.prototype.as = function () {\n    if (this.p != -1) {\n      window.clearInterval(this.p);\n      this.p = -1;\n    }\n  };\n\n  XamMultiScaleImageView.prototype.ap = function () {\n    if (this.o == -1) {\n      this.o = window.setInterval(runOn(this.b, this.b.br), 50);\n    }\n  };\n\n  XamMultiScaleImageView.prototype.ar = function () {\n    if (this.o != -1) {\n      window.clearInterval(this.o);\n      this.o = -1;\n    }\n  };\n\n  XamMultiScaleImageView.prototype.t = function () {\n    if (this.p != -1) {\n      this.ar();\n      this.b.by();\n    }\n  };\n\n  XamMultiScaleImageView.prototype.ae = function (a) {\n    this.k = a;\n    this.k.rootWrapper.setStyleProperty(\"position\", \"relative\");\n    this.m = this.k.createElement(\"canvas\");\n    this.m.setStyleProperty(\"position\", \"absolute\");\n    this.m.setStyleProperty(\"top\", \"0px\");\n    this.m.setStyleProperty(\"left\", \"0px\");\n    this.k.append(this.m);\n    this.c = new RenderingContext(new CanvasViewRenderer(), this.k.get2DCanvasContext(this.m));\n    this.af(this.k.rootWrapper.width(), this.k.rootWrapper.height());\n  };\n\n  XamMultiScaleImageView.prototype.af = function (a, b) {\n    this.m.setAttribute(\"width\", truncate(a * this.b.a4).toString());\n    this.m.setAttribute(\"height\", truncate(b * this.b.a4).toString());\n    this.m.setStyleProperty(\"width\", a.toString() + \"px\");\n    this.m.setStyleProperty(\"height\", b.toString() + \"px\");\n    this.b.cn = new Rect(0, 0, 0, a, b);\n    this.b.b5();\n  };\n\n  XamMultiScaleImageView.prototype.aj = function () {\n    this.ad();\n  };\n\n  Object.defineProperty(XamMultiScaleImageView.prototype, \"index\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamMultiScaleImageView.prototype.postRender = function () {};\n\n  Object.defineProperty(XamMultiScaleImageView.prototype, \"isDirty\", {\n    get: function get() {\n      return this._isDirty;\n    },\n    set: function set(a) {\n      this._isDirty = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamMultiScaleImageView.prototype.ad = function () {\n    if (this.c == null) {\n      return;\n    }\n\n    if (!this.isDirty) {\n      this.isDirty = true;\n      this.b.ag.n();\n    }\n  };\n\n  XamMultiScaleImageView.prototype.undirty = function (a) {\n    this.isDirty = false;\n    this.ak();\n  };\n\n  XamMultiScaleImageView.prototype.ak = function () {\n    if (this.c == null) {\n      return;\n    }\n\n    if (this.c.d && this.b.a4 != 1) {\n      this.c.z();\n      this.c.aa(this.b.a4, this.b.a4);\n    }\n\n    if (!this.au.isEmpty) {\n      this.c.k(this.au.left, this.au.top, this.au.width, this.au.height);\n    }\n\n    this.au = this.b.cn;\n\n    for (var a = 0; a < this.h.count; a++) {\n      var b = this.h._inner[a];\n\n      if (b.s == 0) {\n        this.al(b);\n      }\n    }\n\n    for (var c = 0; c < this.h.count; c++) {\n      var d = this.h._inner[c];\n\n      if (d.s == 1) {\n        this.al(d);\n      }\n    }\n\n    if (this.c.d && this.b.a4 != 1) {\n      this.c.y();\n    }\n\n    this.b.bt();\n    this.b.bw();\n  };\n\n  XamMultiScaleImageView.prototype.d = function () {\n    var a = true;\n\n    for (var b = 0; b < this.i.count; b++) {\n      if (this.i._inner[b] != null) {\n        a = false;\n      }\n    }\n\n    return a;\n  };\n\n  XamMultiScaleImageView.prototype.al = function (a) {\n    if (this.c == null) {\n      return;\n    }\n\n    var b = a.ac;\n    var c = a._opacity * this.b._opacity;\n\n    if (b == null || b.c == null) {\n      return;\n    }\n\n    if (this.e(b.c)) {\n      return;\n    }\n\n    if (!b.d.isEmpty) {\n      if (b.d.width < 1 || b.d.height < 1) {\n        return;\n      }\n\n      this.c.n(b.c, c, b.d.left, b.d.top, b.d.width, b.d.height, Math.round(a.n + this.b.cn.left), Math.round(a.o + this.b.cn.top), a.width, a.height);\n    } else {\n      this.c.m(b.c, c, Math.round(a.n + this.b.cn.left), Math.round(a.o + this.b.cn.top), a.width, a.height);\n    }\n  };\n\n  XamMultiScaleImageView.prototype.e = function (a) {\n    var img_ = a;\n\n    if (!img_.complete) {\n      return true;\n    }\n\n    if (img_.width == 0 && img_.height == 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  XamMultiScaleImageView.prototype.x = function () {\n    this.ad();\n  };\n\n  XamMultiScaleImageView.prototype.ag = function (a) {\n    this.c = a;\n    this.ad();\n  };\n\n  XamMultiScaleImageView.prototype.ah = function (a) {\n    this.l = a;\n    this.q();\n  };\n\n  XamMultiScaleImageView.prototype.ai = function (a) {\n    this.b.cn = a;\n    this.b.b5();\n  };\n\n  XamMultiScaleImageView.prototype.preRender = function () {};\n\n  XamMultiScaleImageView.prototype.isValid = function () {\n    return true;\n  };\n\n  XamMultiScaleImageView.$t = markType(XamMultiScaleImageView, 'XamMultiScaleImageView', Base.$, [ISchedulableRender_$type]);\n  return XamMultiScaleImageView;\n}(Base);\n\nexport { XamMultiScaleImageView };\n/**\n * @hidden\n */\n\nvar XamMultiScaleTileSource =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(XamMultiScaleTileSource, _super);\n\n  function XamMultiScaleTileSource(a, b, c, d, e) {\n    var _this = _super.call(this) || this;\n\n    _this.t = 0;\n    _this.s = 0;\n    _this.n = 1;\n    _this.l = false;\n    _this.r = 0;\n    _this.p = 0;\n    _this.q = 0;\n    _this.j = null;\n    _this.t = a;\n    _this.s = b;\n    _this.r = c;\n    _this.p = d;\n    _this.q = e;\n    return _this;\n  }\n\n  Object.defineProperty(XamMultiScaleTileSource.prototype, \"v\", {\n    get: function get() {\n      return this.t;\n    },\n    set: function set(a) {\n      this.t = a;\n      this.y(0, 0, 0, 0);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamMultiScaleTileSource.prototype, \"u\", {\n    get: function get() {\n      return this.s;\n    },\n    set: function set(a) {\n      this.s = a;\n      this.y(0, 0, 0, 0);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamMultiScaleTileSource.prototype, \"o\", {\n    get: function get() {\n      return this.n;\n    },\n    set: function set(a) {\n      this.n = a;\n\n      if (this.k != null) {\n        this.k._opacity = this.n;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamMultiScaleTileSource.prototype, \"m\", {\n    get: function get() {\n      return this.l;\n    },\n    set: function set(a) {\n      this.l = a;\n\n      if (this.k != null) {\n        this.k.av = this.l;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(XamMultiScaleTileSource.prototype, \"k\", {\n    get: function get() {\n      return this.j;\n    },\n    set: function set(a) {\n      this.j = a;\n\n      if (this.j != null) {\n        this.j._opacity = this.o;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamMultiScaleTileSource.prototype.w = function (a, b, c) {\n    var d = new List$1(Base.$, 0);\n    this.x(a, b, c, d);\n    var e = null;\n\n    if (d.count > 0) {\n      e = typeCast(Uri.$, d._inner[0]);\n    }\n\n    return e;\n  };\n\n  XamMultiScaleTileSource.prototype.y = function (a, b, c, d) {\n    if (this.k != null) {\n      this.k.bs(a, b, c, d);\n    }\n  };\n\n  XamMultiScaleTileSource.$t = markType(XamMultiScaleTileSource, 'XamMultiScaleTileSource', DependencyObject.$);\n  return XamMultiScaleTileSource;\n}(DependencyObject);\n\nexport { XamMultiScaleTileSource };\n/**\n * @hidden\n */\n\nvar XamMultiScaleImage =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(XamMultiScaleImage, _super);\n\n  function XamMultiScaleImage() {\n    var _this = _super.call(this) || this;\n\n    _this.ap = null;\n    _this.an = null;\n    _this.ak = null;\n    _this.ck = null;\n    _this.a2 = 0;\n    _this.at = false;\n    _this.propertyChanged = null;\n    _this.ba = 0;\n    _this.bb = 0;\n    _this.a0 = new Date();\n    _this.cl = null;\n    _this.a3 = 0;\n    _this.ay = new List$1(Tile.$, 0);\n    _this.aw = false;\n    _this.aq = new LRUCache$2(Tile.$, WriteableBitmap.$, 1, 0x7FFFFFFF, new TilePositionComparer());\n    _this.az = new List$1(Tile.$, 0);\n    _this.imageTilesReady = null;\n    _this.as = false;\n    _this.cn = null;\n    _this.ag = null;\n    _this.imagesChanged = null;\n    _this.downloadingImage = null;\n    _this.cancellingImage = null;\n    _this.a1 = 1;\n    _this.cn = Rect.empty;\n    _this.ag = new CanvasRenderScheduler();\n    _this.an = new XamMultiScaleImageView(_this);\n    _this.ab = XamMultiScaleImage.$;\n    _this.ck = _this.cm;\n    _this.a2 = _this.a5;\n    return _this;\n  }\n\n  Object.defineProperty(XamMultiScaleImage.prototype, \"al\", {\n    get: function get() {\n      return this.ak;\n    },\n    set: function set(a) {\n      if (this.ak != null) {\n        this.ak.unRegister(this);\n      }\n\n      this.ak = a;\n\n      if (this.ak != null) {\n        this.ak.register(this, runOn(this, this.b6));\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamMultiScaleImage.prototype.bc = function () {\n    if (!stringIsNullOrEmpty(this.bf)) {\n      return this.bf;\n    }\n\n    return null;\n  };\n\n  XamMultiScaleImage.prototype.bd = function () {\n    if (!stringIsNullOrEmpty(this.bj)) {\n      return this.bj;\n    }\n\n    return null;\n  };\n\n  XamMultiScaleImage.prototype.bx = function (a, b, c) {\n    var d = new PropertyChangedEventArgs(a);\n\n    if (this.propertyChanged != null) {\n      this.propertyChanged(this, d);\n    }\n\n    switch (a) {\n      case XamMultiScaleImage.$$p[2]:\n        if (this.ao != null) {\n          this.ao.k = this;\n        }\n\n        this.b4();\n        this.b7();\n        this.b5();\n        break;\n\n      case XamMultiScaleImage.$$p[6]:\n        this.b8();\n        break;\n\n      case XamMultiScaleImage.$$p[7]:\n        this.b8();\n        break;\n\n      case XamMultiScaleImage.$$p[5]:\n        if (!this.ax) {\n          this.an.t();\n        }\n\n        break;\n\n      case XamMultiScaleImage.$$p[0]:\n        this.at = this.av;\n        this.b5();\n        break;\n    }\n  };\n\n  XamMultiScaleImage.prototype.v = function () {\n    _super.prototype.v.call(this);\n\n    this.b5();\n  };\n\n  XamMultiScaleImage.prototype.b7 = function () {\n    this.cb();\n\n    if (this.ao != null) {\n      this.ba = Convert.toInt32(logBase(this.ao.r, 2));\n      this.bb = Convert.toInt32(logBase(this.ao.v, 2));\n    }\n  };\n\n  XamMultiScaleImage.prototype.bs = function (a, b, c, d) {\n    this.b4();\n    this.b7();\n    this.b5();\n  };\n\n  XamMultiScaleImage.prototype.b8 = function () {\n    if (this.ax) {\n      this.a0 = dateNow();\n      this.cl = this.ck;\n      this.a3 = this.a2;\n      this.an.aq();\n    } else {\n      this.ck = this.cm;\n      this.a2 = this.a5;\n      this.b5();\n    }\n  };\n\n  XamMultiScaleImage.prototype.b9 = function () {\n    var a = 2;\n    var b = dateNow().getTime() - this.a0.getTime();\n    var c = b / 1000;\n    var d = MathUtil.c(c / a, 0, 1);\n    var e = this.aj != null ? this.aj.ease(d) : d;\n    var f = 1 - e;\n    this.a2 = this.a3 * f + this.a5 * e;\n    this.ck = {\n      $type: Point_$type,\n      x: this.cl.x * f + this.cm.x * e,\n      y: this.cl.y * f + this.cm.y * e\n    };\n\n    if (d >= 1) {\n      this.an.as();\n    } else {}\n\n    this.b5();\n  };\n\n  XamMultiScaleImage.prototype.a8 = function (a, b, c, d) {\n    for (var e = 0; e < this.ay.count; ++e) {\n      if (this.ay._inner[e].c == a && this.ay._inner[e].d == b && this.ay._inner[e].e == c && this.ay._inner[e].f == d) {\n        return e;\n      }\n    }\n\n    return -1;\n  };\n\n  XamMultiScaleImage.prototype.b6 = function (a) {\n    var _this = this;\n\n    this.aw = false;\n    this.as = false;\n    var b = this.at;\n\n    if (this.ao == null || !this.an.f() || this.cn.width == 0 || this.cn.height == 0) {\n      return;\n    }\n\n    var c = truncate(Math.ceil(this.cn.width / this.ao.r));\n    var d = truncate(Math.max(1, Math.floor(-logBase(this.a2 / c, 2))));\n\n    if (d >= this.bb - 8) {\n      d = this.bb - 8 - 1;\n    }\n\n    var e = truncate(Math.round(Math.pow(2, d)));\n    var f = this.a2;\n    var g = this.cn.height * f / this.cn.width;\n    var h = this.ao.v / Math.pow(2, d);\n    var i = this.ao.u / Math.pow(2, d);\n    var j = truncate(Math.floor(this.ck.x * this.ao.v / h));\n    var k = truncate(Math.ceil((this.ck.x + f) * this.ao.v / h));\n    var l = truncate(Math.floor(this.ck.y * this.ao.u / i));\n    var m = truncate(Math.ceil((this.ck.y + g) * this.ao.v / i));\n\n    if (!b) {\n      j = Math.max(j, 0);\n      k = Math.min(k, e);\n    }\n\n    l = Math.max(l, 0);\n    m = Math.min(m, e);\n    var n = (j * h - this.ck.x * this.ao.v) / h;\n    var o = (l * i - this.ck.y * this.ao.u) / i;\n    var p = f * this.ao.v / h * (this.ao.r / this.cn.width);\n    var q = new List$1(Tile.$, 0);\n    var r;\n    var s;\n\n    for (var t = j; t < k; ++t) {\n      r = t;\n      s = t;\n\n      while (s < 0) {\n        s = e + s;\n      }\n\n      while (s > e - 1) {\n        s = s - e;\n      }\n\n      var _loop_2 = function _loop_2(u) {\n        var v = this_2.a8(r, s, u, d);\n\n        if (v >= 0) {\n          q.add(this_2.ay._inner[v]);\n          this_2.ay.removeAt(v);\n        } else {\n          q.add(function () {\n            var $ret = new Tile();\n            $ret.c = r;\n            $ret.d = s;\n            $ret.e = u;\n            $ret.f = d;\n            return $ret;\n          }());\n        }\n      };\n\n      var this_2 = this;\n\n      for (var u = l; u < m; ++u) {\n        _loop_2(u);\n      }\n    }\n\n    this.ap.f = true;\n    this.cb();\n    this.ay = q;\n\n    var _loop_3 = function _loop_3(w) {\n      if (this_3.ay._inner[w].i == null) {\n        this_3.ay._inner[w].i = this_3.ap.a();\n        this_3.ay._inner[w].i._opacity = 1;\n        this_3.an.am(this_3.ay._inner[w].i);\n        var x = this_3.am(this_3.ay._inner[w]);\n\n        if (x != null) {\n          this_3.ay._inner[w].i.ac = x;\n        } else {\n          var y = null;\n\n          var z = function () {\n            var $ret = new Tile();\n            $ret.d = _this.ay._inner[w].d;\n            $ret.e = _this.ay._inner[w].e;\n            $ret.f = _this.ay._inner[w].f;\n            return $ret;\n          }();\n\n          while (z.f >= 0 && y == null) {\n            z.d = z.d >> 1;\n            z.e = z.e >> 1;\n            z.f = z.f - 1;\n            y = this_3.am(z);\n          }\n\n          if (y != null) {\n            var aa = truncate(Math.pow(2, this_3.ay._inner[w].f - z.f));\n            var ab = intDivide(256, aa);\n            var ac = ab * (this_3.ay._inner[w].d % aa);\n            var ad = ab * (this_3.ay._inner[w].e % aa);\n            this_3.ay._inner[w].h = this_3.ap.a();\n            this_3.ay._inner[w].h._opacity = 1;\n            this_3.an.an(this_3.ay._inner[w].h);\n            x = this_3.an.a(ab, y, ac, ad);\n            this_3.ay._inner[w].h.ac = x;\n          }\n\n          this_3.an.u(this_3.ay._inner[w]);\n        }\n      }\n\n      var ae = this_3.ao.r / p;\n      var af = this_3.ao.p / p;\n      var ag = (this_3.ay._inner[w].c - j + n) * ae;\n      var ah = (this_3.ay._inner[w].e - l + o) * af;\n      this_3.ay._inner[w].i.width = ae + 0.5;\n      this_3.ay._inner[w].i.height = af + 0.5;\n      this_3.an.ao(this_3.ay._inner[w].i, ag, ah);\n\n      if (this_3.ay._inner[w].h != null) {\n        this_3.ay._inner[w].h.width = ae + 0.5;\n        this_3.ay._inner[w].h.height = af + 0.5;\n        this_3.an.ao(this_3.ay._inner[w].h, ag, ah);\n      }\n    };\n\n    var this_3 = this;\n\n    for (var w = 0; w < this.ay.count; ++w) {\n      _loop_3(w);\n    }\n\n    this.ap.f = false;\n    this.an.aj();\n  };\n\n  XamMultiScaleImage.prototype.b5 = function () {\n    if (this.ao == null || !this.an.f() || this.cn.width == 0 || this.cn.height == 0) {\n      return;\n    }\n\n    if (this.aw) {\n      return;\n    }\n\n    this.aw = true;\n    this.an.s(runOn(this, this.b6));\n  };\n\n  XamMultiScaleImage.prototype.cb = function () {\n    for (var a = 0; a < this.ay.count; ++a) {\n      this.an.r(this.ay._inner[a]);\n      this.bp(this.ay._inner[a]);\n\n      if (this.ay._inner[a].i != null) {\n        this.ap.n(this.ay._inner[a].i);\n        this.ay._inner[a].i.ac = null;\n        this.ay._inner[a].i = null;\n      }\n    }\n  };\n\n  XamMultiScaleImage.prototype.b4 = function () {\n    this.ar.i();\n  };\n\n  XamMultiScaleImage.prototype.am = function (a) {\n    return this.ar.item(a);\n  };\n\n  XamMultiScaleImage.prototype.bo = function (a, b) {\n    this.ar.item(a, b);\n  };\n\n  Object.defineProperty(XamMultiScaleImage.prototype, \"ar\", {\n    get: function get() {\n      return this.aq;\n    },\n    set: function set(a) {\n      this.aq = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamMultiScaleImage.prototype.au = function () {\n    return this.az.count != 0;\n  };\n\n  XamMultiScaleImage.prototype.bt = function () {\n    var a = true;\n\n    if (this.au()) {\n      a = false;\n    }\n\n    if (!this.an.d()) {\n      a = false;\n    }\n\n    if (a && !this.as) {\n      if (this.imageTilesReady != null) {\n        this.imageTilesReady(this, new EventArgs());\n      }\n    }\n\n    this.as = a;\n  };\n\n  XamMultiScaleImage.prototype.ca = function (a) {\n    if (a.h != null) {\n      a.b = dateNow();\n      this.az.add(a);\n      this.an.ap();\n    } else {\n      this.bt();\n    }\n  };\n\n  XamMultiScaleImage.prototype.bp = function (a) {\n    if (a.h != null) {\n      this.ap.n(a.h);\n      a.h.ac = null;\n      a.h = null;\n\n      for (var b = 0; b < this.az.count; ++b) {\n        if (this.az._inner[b] == a) {\n          this.az.removeAt(b);\n          break;\n        }\n      }\n\n      if (this.az.count == 0) {\n        this.an.ar();\n      }\n    }\n  };\n\n  XamMultiScaleImage.prototype.br = function () {\n    var a = dateNow();\n    var b = 0.5;\n\n    for (var c = 0; c < this.az.count;) {\n      var d = a.getTime() - this.az._inner[c].b.getTime();\n\n      var e = d / 1000;\n      var f = e / b;\n      f = MathUtil.c(f, 0, 1);\n      this.az._inner[c].h._opacity = 1 - f;\n\n      if (f >= 1) {\n        this.ap.n(this.az._inner[c].h);\n        this.az._inner[c].h.ac = null;\n        this.az._inner[c].h = null;\n        this.az.removeAt(c);\n      } else {\n        ++c;\n      }\n\n      this.an.x();\n    }\n\n    if (this.az.count == 0) {\n      this.an.ar();\n    }\n  };\n\n  XamMultiScaleImage.prototype.by = function () {\n    this.a2 = this.a5;\n    this.ck = this.cm;\n    this.b5();\n  };\n\n  XamMultiScaleImage.prototype.b0 = function (a) {\n    var b = a;\n    this.ag.j(b);\n    this.an.ae(a);\n  };\n\n  XamMultiScaleImage.prototype.b1 = function (a) {\n    this.an.ag(a);\n  };\n\n  XamMultiScaleImage.prototype.b2 = function (a) {\n    this.an.ah(a);\n  };\n\n  XamMultiScaleImage.prototype.b3 = function (a) {\n    this.an.ai(a);\n  };\n\n  XamMultiScaleImage.prototype.bw = function () {\n    if (this.imagesChanged != null) {\n      this.imagesChanged(this, new EventArgs());\n    }\n  };\n\n  XamMultiScaleImage.prototype.bq = function () {\n    this.aw = false;\n  };\n\n  XamMultiScaleImage.prototype.bv = function (a) {\n    if (this.downloadingImage != null) {\n      this.downloadingImage(this, a);\n    }\n  };\n\n  XamMultiScaleImage.prototype.bu = function (a) {\n    if (this.cancellingImage != null) {\n      this.cancellingImage(this, a);\n    }\n  };\n\n  Object.defineProperty(XamMultiScaleImage.prototype, \"a4\", {\n    get: function get() {\n      return this.a1;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  XamMultiScaleImage.prototype.bz = function (a) {\n    this.a1 = a;\n  };\n\n  Object.defineProperty(XamMultiScaleImage.prototype, \"a9\", {\n    get: function get() {\n      return this.ar.h;\n    },\n    set: function set(a) {\n      var b = a != this.a9;\n\n      if (b) {\n        this.ar = new LRUCache$2(Tile.$, WriteableBitmap.$, 1, a, new TilePositionComparer());\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  XamMultiScaleImage.$t = markType(XamMultiScaleImage, 'XamMultiScaleImage', Control.$, [INotifyPropertyChanged_$type]);\n  XamMultiScaleImage.$$p = markDep(DependencyProperty, PropertyMetadata, XamMultiScaleImage, 'bx', ['IsHorizontalTileWrappingEnabled:av:cc', [0, false], 'Referer:bf:cd', [2, null], 'Source:ao:ce', [XamMultiScaleTileSource.$, null], 'SpringsEasingFunction:aj:cf', [IEasingFunction_$type, null], 'UserAgent:bj:cg', [2, null], 'UseSprings:ax:ch', [0, false], 'ViewportOrigin:cm:ci', [Point_$type, {\n    $type: Point_$type,\n    x: 0,\n    y: 0\n  }], 'ViewportWidth:a5:cj', [1, 1]]);\n  return XamMultiScaleImage;\n}(Control);\n\nexport { XamMultiScaleImage };","map":{"version":3,"names":["__extends","Base","runOn","Delegate_$type","markType","typeCast","INotifyPropertyChanged_$type","PropertyChangedEventArgs","EventArgs","Point_$type","markDep","ISchedulableRender_$type","List$1","Image","RenderingContext","StackPool$1","Dictionary$2","Tile","Rect","CanvasRenderScheduler","WriteableBitmap","Uri","CancellingMultiScaleImageEventArgs","DownloadingMultiScaleImageEventArgs","CanvasViewRenderer","truncate","intDivide","logBase","DependencyObject","Control","DependencyProperty","IEasingFunction_$type","LRUCache$2","TilePositionComparer","Convert","MathUtil","PropertyMetadata","stringIsNullOrEmpty","dateNow","XamMultiScaleImageView","_super","a","_this","call","b","h","g","$","specialize","j","i","p","o","k","m","c","_isDirty","au","empty","l","ag","ap","$ret","at","y","aa","d","z","add","prototype","remove","ao","n","r","_loop_1","this_1","_inner","ac","d_1","e_1","w","f","e","uri","value","image","bu","containsKey","item","count","clear","removeItem","q","state_1","removeAt","u","index_","ele_","createElement","c_1","getNativeElement","self_","addItem","listen","ab","f_1","bv","src","e_","originalEvent","img_","target","complete","readyState","type","downloadCompleted","downloadError","ad","width","height","bo","ca","isEmpty","Math","round","left","top","am","s","an","al","deferredRefresh","setTimeout","window","aq","setInterval","b9","as","clearInterval","br","ar","t","by","ae","rootWrapper","setStyleProperty","append","get2DCanvasContext","af","setAttribute","a4","toString","cn","b5","aj","Object","defineProperty","get","enumerable","configurable","postRender","set","isDirty","undirty","ak","bt","bw","_opacity","x","ah","ai","preRender","isValid","$t","XamMultiScaleTileSource","av","bs","XamMultiScaleImage","ck","a2","propertyChanged","ba","bb","a0","Date","cl","a3","ay","aw","az","imageTilesReady","imagesChanged","downloadingImage","cancellingImage","a1","cm","a5","unRegister","register","b6","bc","bf","bd","bj","bx","$$p","b4","b7","b8","ax","v","cb","toInt32","getTime","ease","$type","a8","ceil","max","floor","pow","min","_loop_2","this_2","_loop_3","this_3","bp","b0","b1","b2","b3","bq","bz","a9"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-core/esm5/lib/XamMultiScaleImageView_combined.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends } from \"tslib\";\nimport { Base, runOn, Delegate_$type, markType, typeCast, INotifyPropertyChanged_$type, PropertyChangedEventArgs, EventArgs, Point_$type, markDep } from \"./type\";\nimport { ISchedulableRender_$type } from \"./ISchedulableRender\";\nimport { List$1 } from \"./List$1\";\nimport { Image } from \"./Image\";\nimport { RenderingContext } from \"./RenderingContext\";\nimport { StackPool$1 } from \"./StackPool$1\";\nimport { Dictionary$2 } from \"./Dictionary$2\";\nimport { Tile } from \"./Tile\";\nimport { Rect } from \"./Rect\";\nimport { CanvasRenderScheduler } from \"./CanvasRenderScheduler\";\nimport { WriteableBitmap } from \"./WriteableBitmap\";\nimport { Uri } from \"./Uri\";\nimport { CancellingMultiScaleImageEventArgs } from \"./CancellingMultiScaleImageEventArgs\";\nimport { DownloadingMultiScaleImageEventArgs } from \"./DownloadingMultiScaleImageEventArgs\";\nimport { CanvasViewRenderer } from \"./CanvasViewRenderer\";\nimport { truncate, intDivide, logBase } from \"./number\";\nimport { DependencyObject } from \"./DependencyObject\";\nimport { Control } from \"./Control\";\nimport { DependencyProperty } from \"./DependencyProperty\";\nimport { IEasingFunction_$type } from \"./IEasingFunction\";\nimport { LRUCache$2 } from \"./LRUCache$2\";\nimport { TilePositionComparer } from \"./TilePositionComparer\";\nimport { Convert } from \"./Convert\";\nimport { MathUtil } from \"./MathUtil\";\nimport { PropertyMetadata } from \"./PropertyMetadata\";\nimport { stringIsNullOrEmpty } from \"./string\";\nimport { dateNow } from \"./date\";\n/**\n * @hidden\n */\nvar XamMultiScaleImageView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(XamMultiScaleImageView, _super);\n    function XamMultiScaleImageView(a) {\n        var _this = _super.call(this) || this;\n        _this.b = null;\n        _this.h = null;\n        _this.g = new Dictionary$2(Base.$, List$1.$.specialize(Delegate_$type), 0);\n        _this.j = new List$1(Tile.$, 0);\n        _this.i = new List$1(Tile.$, 0);\n        _this.p = -1;\n        _this.o = -1;\n        _this.k = null;\n        _this.m = null;\n        _this.c = null;\n        _this._isDirty = false;\n        _this.au = Rect.empty;\n        _this.l = null;\n        _this.b = a;\n        _this.b.ag.l(_this);\n        _this.h = new List$1(Image.$, 0);\n        _this.b.ap = ((function () {\n            var $ret = new StackPool$1(Image.$);\n            $ret.j = runOn(_this, _this.at);\n            $ret.b = runOn(_this, _this.y);\n            $ret.c = runOn(_this, _this.aa);\n            $ret.d = runOn(_this, _this.z);\n            return $ret;\n        })());\n        for (var b = 0; b < 4; ++b) {\n            _this.i.add(null);\n        }\n        return _this;\n    }\n    XamMultiScaleImageView.prototype.at = function () {\n        return new Image();\n    };\n    XamMultiScaleImageView.prototype.y = function (a) {\n        this.h.add(a);\n    };\n    XamMultiScaleImageView.prototype.aa = function (a) {\n        this.h.remove(a);\n    };\n    XamMultiScaleImageView.prototype.z = function (a) {\n    };\n    XamMultiScaleImageView.prototype.ao = function (a, b, c) {\n        a.n = b;\n        a.o = c;\n    };\n    XamMultiScaleImageView.prototype.r = function (a) {\n        var _loop_1 = function (b) {\n            if (a == this_1.i._inner[b]) {\n                if (a.i != null && a.i.ac != null) {\n                    var c = a.i.ac;\n                    var d_1 = c.c;\n                    var e_1 = this_1.b.ao.w(a.f + 8, a.d, a.e);\n                    if (e_1 != null) {\n                        var f = ((function () {\n                            var $ret = new CancellingMultiScaleImageEventArgs();\n                            $ret.uri = e_1.value;\n                            $ret.image = d_1;\n                            return $ret;\n                        })());\n                        this_1.b.bu(f);\n                    }\n                    if (this_1.g.containsKey(d_1)) {\n                        var g = this_1.g.item(d_1);\n                        for (var h = 0; h < g.count; h++) {\n                            g._inner[h]();\n                        }\n                        g.clear();\n                        this_1.g.removeItem(d_1);\n                    }\n                }\n                this_1.i._inner[b] = null;\n                this_1.q();\n                return { value: void 0 };\n            }\n        };\n        var this_1 = this;\n        for (var b = 0; b < this.i.count; ++b) {\n            var state_1 = _loop_1(b);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        for (var i = 0; i < this.j.count; ++i) {\n            if (this.j._inner[i] == a) {\n                this.j.removeAt(i);\n                break;\n            }\n        }\n    };\n    XamMultiScaleImageView.prototype.u = function (a) {\n        this.j.add(a);\n        this.j.aa(function (b, c) {\n            var d = 0;\n            var e = 0;\n            if (b.h != null) {\n                d = b.h.ac.b;\n            }\n            if (c.h != null) {\n                e = c.h.ac.b;\n            }\n            if (d < e) {\n                return -1;\n            }\n            else if (d > e) {\n                return 1;\n            }\n            return 0;\n        });\n        this.q();\n    };\n    XamMultiScaleImageView.prototype.q = function () {\n        var _this = this;\n        var index_ = -1;\n        if (this.l == null) {\n            return;\n        }\n        if (this.j.count > 0) {\n            for (var a = 0; a < this.i.count; ++a) {\n                if (this.i._inner[a] == null) {\n                    index_ = a;\n                    break;\n                }\n            }\n        }\n        if (index_ >= 0) {\n            this.i._inner[index_] = this.j._inner[0];\n            var b = new WriteableBitmap(this.b.ao.r, this.b.ao.p);\n            this.i._inner[index_].i.ac = b;\n            var ele_ = this.l.createElement(\"img\");\n            var c_1 = ele_.getNativeElement();\n            b.c = c_1;\n            var self_ = this;\n            var d = new List$1(Delegate_$type, 0);\n            this.g.addItem(c_1, d);\n            d.add(ele_.listen(\"load\", function (e) { return _this.ab(e, index_); }));\n            d.add(ele_.listen(\"readystatechange\", function (e) { return _this.ab(e, index_); }));\n            d.add(ele_.listen(\"error\", function (e) { return _this.ac(e, index_); }));\n            this.j.removeAt(0);\n            var e = this.b.ao.w(this.i._inner[index_].f + 8, this.i._inner[index_].d, this.i._inner[index_].e);\n            if (e == null) {\n                return;\n            }\n            var f_1 = e.value;\n            var g = ((function () {\n                var $ret = new DownloadingMultiScaleImageEventArgs();\n                $ret.uri = f_1;\n                $ret.image = c_1;\n                return $ret;\n            })());\n            this.b.bv(g);\n            f_1 = g.uri;\n            if (f_1 != null) {\n                c_1.src = f_1;\n            }\n        }\n    };\n    XamMultiScaleImageView.prototype.ab = function (a, b) {\n        var e_ = a.originalEvent;\n        var img_ = (e_.target);\n        var c = (img_.complete || (img_.readyState == 'complete' && e_.type == 'readystatechange'));\n        if (c) {\n            this.downloadCompleted(a, b);\n        }\n    };\n    XamMultiScaleImageView.prototype.ac = function (a, b) {\n        this.downloadError(a, b);\n    };\n    XamMultiScaleImageView.prototype.downloadError = function (a, b) {\n        var c = this.i._inner[b];\n        this.i._inner[b] = null;\n        if (c != null && c.i != null && c.i.ac != null) {\n            var e_ = a.originalEvent;\n            var d = (e_.target);\n            if (this.g.containsKey(d)) {\n                var e = this.g.item(d);\n                for (var f = 0; f < e.count; f++) {\n                    e._inner[f]();\n                }\n                e.clear();\n                this.g.removeItem(d);\n            }\n        }\n        this.q();\n        this.ad();\n    };\n    XamMultiScaleImageView.prototype.downloadCompleted = function (a, b) {\n        var c = this.i._inner[b];\n        var d = true;\n        if (c != null && c.i != null && c.i.ac != null) {\n            d = false;\n            var ele_ = c.i.ac.c;\n            if (!ele_.complete) {\n                d = true;\n            }\n            if ((ele_.width == 0 && ele_.height == 0)) {\n                d = true;\n            }\n        }\n        this.i._inner[b] = null;\n        if (d) {\n            this.q();\n            this.ad();\n            return;\n        }\n        var e_ = a.originalEvent;\n        var e = (e_.target);\n        if (this.g.containsKey(e)) {\n            var f = this.g.item(e);\n            for (var g = 0; g < f.count; g++) {\n                f._inner[g]();\n            }\n            f.clear();\n            this.g.removeItem(e);\n        }\n        this.b.bo(c, c.i.ac);\n        if (c.i != null) {\n            this.b.ca(c);\n        }\n        this.q();\n        this.ad();\n    };\n    XamMultiScaleImageView.prototype.a = function (a, b, c, d) {\n        var e = new WriteableBitmap(a, a);\n        e.c = b.c;\n        if (!b.d.isEmpty) {\n            c += truncate(Math.round(b.d.left));\n            d += truncate(Math.round(b.d.top));\n        }\n        e.d = new Rect(0, c, d, a, a);\n        return e;\n    };\n    XamMultiScaleImageView.prototype.am = function (a) {\n        a.s = 0;\n    };\n    XamMultiScaleImageView.prototype.an = function (a) {\n        a.s = 1;\n    };\n    XamMultiScaleImageView.prototype.f = function () {\n        return true;\n    };\n    XamMultiScaleImageView.prototype.s = function (a) {\n        if (this.b.al != null) {\n            this.b.al.deferredRefresh();\n        }\n        else {\n            if (this.k != null) {\n                this.k.setTimeout(a, 0);\n            }\n            else {\n                window.setTimeout(a, 0);\n            }\n        }\n    };\n    XamMultiScaleImageView.prototype.aq = function () {\n        if (this.p == -1) {\n            this.p = window.setInterval(runOn(this.b, this.b.b9), 50);\n        }\n    };\n    XamMultiScaleImageView.prototype.as = function () {\n        if (this.p != -1) {\n            window.clearInterval(this.p);\n            this.p = -1;\n        }\n    };\n    XamMultiScaleImageView.prototype.ap = function () {\n        if (this.o == -1) {\n            this.o = window.setInterval(runOn(this.b, this.b.br), 50);\n        }\n    };\n    XamMultiScaleImageView.prototype.ar = function () {\n        if (this.o != -1) {\n            window.clearInterval(this.o);\n            this.o = -1;\n        }\n    };\n    XamMultiScaleImageView.prototype.t = function () {\n        if (this.p != -1) {\n            this.ar();\n            this.b.by();\n        }\n    };\n    XamMultiScaleImageView.prototype.ae = function (a) {\n        this.k = a;\n        this.k.rootWrapper.setStyleProperty(\"position\", \"relative\");\n        this.m = this.k.createElement(\"canvas\");\n        this.m.setStyleProperty(\"position\", \"absolute\");\n        this.m.setStyleProperty(\"top\", \"0px\");\n        this.m.setStyleProperty(\"left\", \"0px\");\n        this.k.append(this.m);\n        this.c = new RenderingContext(new CanvasViewRenderer(), this.k.get2DCanvasContext(this.m));\n        this.af(this.k.rootWrapper.width(), this.k.rootWrapper.height());\n    };\n    XamMultiScaleImageView.prototype.af = function (a, b) {\n        this.m.setAttribute(\"width\", truncate((a * this.b.a4)).toString());\n        this.m.setAttribute(\"height\", truncate((b * this.b.a4)).toString());\n        this.m.setStyleProperty(\"width\", a.toString() + \"px\");\n        this.m.setStyleProperty(\"height\", b.toString() + \"px\");\n        this.b.cn = new Rect(0, 0, 0, a, b);\n        this.b.b5();\n    };\n    XamMultiScaleImageView.prototype.aj = function () {\n        this.ad();\n    };\n    Object.defineProperty(XamMultiScaleImageView.prototype, \"index\", {\n        get: function () {\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamMultiScaleImageView.prototype.postRender = function () {\n    };\n    Object.defineProperty(XamMultiScaleImageView.prototype, \"isDirty\", {\n        get: function () {\n            return this._isDirty;\n        },\n        set: function (a) {\n            this._isDirty = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamMultiScaleImageView.prototype.ad = function () {\n        if (this.c == null) {\n            return;\n        }\n        if (!this.isDirty) {\n            this.isDirty = true;\n            this.b.ag.n();\n        }\n    };\n    XamMultiScaleImageView.prototype.undirty = function (a) {\n        this.isDirty = false;\n        this.ak();\n    };\n    XamMultiScaleImageView.prototype.ak = function () {\n        if (this.c == null) {\n            return;\n        }\n        if (this.c.d && this.b.a4 != 1) {\n            this.c.z();\n            this.c.aa(this.b.a4, this.b.a4);\n        }\n        if (!this.au.isEmpty) {\n            this.c.k(this.au.left, this.au.top, this.au.width, this.au.height);\n        }\n        this.au = this.b.cn;\n        for (var a = 0; a < this.h.count; a++) {\n            var b = this.h._inner[a];\n            if (b.s == 0) {\n                this.al(b);\n            }\n        }\n        for (var c = 0; c < this.h.count; c++) {\n            var d = this.h._inner[c];\n            if (d.s == 1) {\n                this.al(d);\n            }\n        }\n        if (this.c.d && this.b.a4 != 1) {\n            this.c.y();\n        }\n        this.b.bt();\n        this.b.bw();\n    };\n    XamMultiScaleImageView.prototype.d = function () {\n        var a = true;\n        for (var b = 0; b < this.i.count; b++) {\n            if (this.i._inner[b] != null) {\n                a = false;\n            }\n        }\n        return a;\n    };\n    XamMultiScaleImageView.prototype.al = function (a) {\n        if (this.c == null) {\n            return;\n        }\n        var b = a.ac;\n        var c = a._opacity * this.b._opacity;\n        if (b == null || b.c == null) {\n            return;\n        }\n        if (this.e(b.c)) {\n            return;\n        }\n        if (!b.d.isEmpty) {\n            if (b.d.width < 1 || b.d.height < 1) {\n                return;\n            }\n            this.c.n(b.c, c, b.d.left, b.d.top, b.d.width, b.d.height, Math.round(a.n + this.b.cn.left), Math.round(a.o + this.b.cn.top), a.width, a.height);\n        }\n        else {\n            this.c.m(b.c, c, Math.round(a.n + this.b.cn.left), Math.round(a.o + this.b.cn.top), a.width, a.height);\n        }\n    };\n    XamMultiScaleImageView.prototype.e = function (a) {\n        var img_ = a;\n        if (!img_.complete) {\n            return true;\n        }\n        if ((img_.width == 0 && img_.height == 0)) {\n            return true;\n        }\n        return false;\n    };\n    XamMultiScaleImageView.prototype.x = function () {\n        this.ad();\n    };\n    XamMultiScaleImageView.prototype.ag = function (a) {\n        this.c = a;\n        this.ad();\n    };\n    XamMultiScaleImageView.prototype.ah = function (a) {\n        this.l = a;\n        this.q();\n    };\n    XamMultiScaleImageView.prototype.ai = function (a) {\n        this.b.cn = a;\n        this.b.b5();\n    };\n    XamMultiScaleImageView.prototype.preRender = function () {\n    };\n    XamMultiScaleImageView.prototype.isValid = function () {\n        return true;\n    };\n    XamMultiScaleImageView.$t = markType(XamMultiScaleImageView, 'XamMultiScaleImageView', Base.$, [ISchedulableRender_$type]);\n    return XamMultiScaleImageView;\n}(Base));\nexport { XamMultiScaleImageView };\n/**\n * @hidden\n */\nvar XamMultiScaleTileSource = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(XamMultiScaleTileSource, _super);\n    function XamMultiScaleTileSource(a, b, c, d, e) {\n        var _this = _super.call(this) || this;\n        _this.t = 0;\n        _this.s = 0;\n        _this.n = 1;\n        _this.l = false;\n        _this.r = 0;\n        _this.p = 0;\n        _this.q = 0;\n        _this.j = null;\n        _this.t = a;\n        _this.s = b;\n        _this.r = c;\n        _this.p = d;\n        _this.q = e;\n        return _this;\n    }\n    Object.defineProperty(XamMultiScaleTileSource.prototype, \"v\", {\n        get: function () {\n            return this.t;\n        },\n        set: function (a) {\n            this.t = a;\n            this.y(0, 0, 0, 0);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamMultiScaleTileSource.prototype, \"u\", {\n        get: function () {\n            return this.s;\n        },\n        set: function (a) {\n            this.s = a;\n            this.y(0, 0, 0, 0);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamMultiScaleTileSource.prototype, \"o\", {\n        get: function () {\n            return this.n;\n        },\n        set: function (a) {\n            this.n = a;\n            if (this.k != null) {\n                this.k._opacity = this.n;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamMultiScaleTileSource.prototype, \"m\", {\n        get: function () {\n            return this.l;\n        },\n        set: function (a) {\n            this.l = a;\n            if (this.k != null) {\n                this.k.av = this.l;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(XamMultiScaleTileSource.prototype, \"k\", {\n        get: function () {\n            return this.j;\n        },\n        set: function (a) {\n            this.j = a;\n            if (this.j != null) {\n                this.j._opacity = this.o;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamMultiScaleTileSource.prototype.w = function (a, b, c) {\n        var d = new List$1(Base.$, 0);\n        this.x(a, b, c, d);\n        var e = null;\n        if (d.count > 0) {\n            e = typeCast(Uri.$, d._inner[0]);\n        }\n        return e;\n    };\n    XamMultiScaleTileSource.prototype.y = function (a, b, c, d) {\n        if (this.k != null) {\n            this.k.bs(a, b, c, d);\n        }\n    };\n    XamMultiScaleTileSource.$t = markType(XamMultiScaleTileSource, 'XamMultiScaleTileSource', DependencyObject.$);\n    return XamMultiScaleTileSource;\n}(DependencyObject));\nexport { XamMultiScaleTileSource };\n/**\n * @hidden\n */\nvar XamMultiScaleImage = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(XamMultiScaleImage, _super);\n    function XamMultiScaleImage() {\n        var _this = _super.call(this) || this;\n        _this.ap = null;\n        _this.an = null;\n        _this.ak = null;\n        _this.ck = null;\n        _this.a2 = 0;\n        _this.at = false;\n        _this.propertyChanged = null;\n        _this.ba = 0;\n        _this.bb = 0;\n        _this.a0 = new Date();\n        _this.cl = null;\n        _this.a3 = 0;\n        _this.ay = new List$1(Tile.$, 0);\n        _this.aw = false;\n        _this.aq = new LRUCache$2(Tile.$, WriteableBitmap.$, 1, 0x7FFFFFFF, new TilePositionComparer());\n        _this.az = new List$1(Tile.$, 0);\n        _this.imageTilesReady = null;\n        _this.as = false;\n        _this.cn = null;\n        _this.ag = null;\n        _this.imagesChanged = null;\n        _this.downloadingImage = null;\n        _this.cancellingImage = null;\n        _this.a1 = 1;\n        _this.cn = Rect.empty;\n        _this.ag = new CanvasRenderScheduler();\n        _this.an = new XamMultiScaleImageView(_this);\n        _this.ab = XamMultiScaleImage.$;\n        _this.ck = _this.cm;\n        _this.a2 = _this.a5;\n        return _this;\n    }\n    Object.defineProperty(XamMultiScaleImage.prototype, \"al\", {\n        get: function () {\n            return this.ak;\n        },\n        set: function (a) {\n            if (this.ak != null) {\n                this.ak.unRegister(this);\n            }\n            this.ak = a;\n            if (this.ak != null) {\n                this.ak.register(this, runOn(this, this.b6));\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamMultiScaleImage.prototype.bc = function () {\n        if (!stringIsNullOrEmpty(this.bf)) {\n            return this.bf;\n        }\n        return null;\n    };\n    XamMultiScaleImage.prototype.bd = function () {\n        if (!stringIsNullOrEmpty(this.bj)) {\n            return this.bj;\n        }\n        return null;\n    };\n    XamMultiScaleImage.prototype.bx = function (a, b, c) {\n        var d = new PropertyChangedEventArgs(a);\n        if (this.propertyChanged != null) {\n            this.propertyChanged(this, d);\n        }\n        switch (a) {\n            case XamMultiScaleImage.$$p[2]:\n                if (this.ao != null) {\n                    this.ao.k = this;\n                }\n                this.b4();\n                this.b7();\n                this.b5();\n                break;\n            case XamMultiScaleImage.$$p[6]:\n                this.b8();\n                break;\n            case XamMultiScaleImage.$$p[7]:\n                this.b8();\n                break;\n            case XamMultiScaleImage.$$p[5]:\n                if (!this.ax) {\n                    this.an.t();\n                }\n                break;\n            case XamMultiScaleImage.$$p[0]:\n                this.at = this.av;\n                this.b5();\n                break;\n        }\n    };\n    XamMultiScaleImage.prototype.v = function () {\n        _super.prototype.v.call(this);\n        this.b5();\n    };\n    XamMultiScaleImage.prototype.b7 = function () {\n        this.cb();\n        if (this.ao != null) {\n            this.ba = Convert.toInt32(logBase(this.ao.r, 2));\n            this.bb = Convert.toInt32(logBase(this.ao.v, 2));\n        }\n    };\n    XamMultiScaleImage.prototype.bs = function (a, b, c, d) {\n        this.b4();\n        this.b7();\n        this.b5();\n    };\n    XamMultiScaleImage.prototype.b8 = function () {\n        if (this.ax) {\n            this.a0 = dateNow();\n            this.cl = this.ck;\n            this.a3 = this.a2;\n            this.an.aq();\n        }\n        else {\n            this.ck = this.cm;\n            this.a2 = this.a5;\n            this.b5();\n        }\n    };\n    XamMultiScaleImage.prototype.b9 = function () {\n        var a = 2;\n        var b = dateNow().getTime() - this.a0.getTime();\n        var c = b / 1000;\n        var d = MathUtil.c((c) / a, 0, 1);\n        var e = this.aj != null ? this.aj.ease(d) : d;\n        var f = 1 - e;\n        this.a2 = this.a3 * f + this.a5 * e;\n        this.ck = { $type: Point_$type, x: this.cl.x * f + this.cm.x * e, y: this.cl.y * f + this.cm.y * e };\n        if (d >= 1) {\n            this.an.as();\n        }\n        else {\n        }\n        this.b5();\n    };\n    XamMultiScaleImage.prototype.a8 = function (a, b, c, d) {\n        for (var e = 0; e < this.ay.count; ++e) {\n            if (this.ay._inner[e].c == a && this.ay._inner[e].d == b && this.ay._inner[e].e == c && this.ay._inner[e].f == d) {\n                return e;\n            }\n        }\n        return -1;\n    };\n    XamMultiScaleImage.prototype.b6 = function (a) {\n        var _this = this;\n        this.aw = false;\n        this.as = false;\n        var b = this.at;\n        if (this.ao == null || !this.an.f() || this.cn.width == 0 || this.cn.height == 0) {\n            return;\n        }\n        var c = truncate(Math.ceil(this.cn.width / this.ao.r));\n        var d = truncate(Math.max(1, Math.floor(-logBase(this.a2 / c, 2))));\n        if (d >= this.bb - 8) {\n            d = (this.bb - 8) - 1;\n        }\n        var e = truncate(Math.round(Math.pow(2, d)));\n        var f = this.a2;\n        var g = this.cn.height * f / this.cn.width;\n        var h = this.ao.v / Math.pow(2, d);\n        var i = this.ao.u / Math.pow(2, d);\n        var j = truncate(Math.floor((this.ck.x * this.ao.v) / h));\n        var k = truncate(Math.ceil(((this.ck.x + f) * this.ao.v) / h));\n        var l = truncate(Math.floor((this.ck.y * this.ao.u) / i));\n        var m = truncate(Math.ceil(((this.ck.y + g) * this.ao.v) / i));\n        if (!b) {\n            j = Math.max(j, 0);\n            k = Math.min(k, e);\n        }\n        l = Math.max(l, 0);\n        m = Math.min(m, e);\n        var n = ((j * h) - (this.ck.x * this.ao.v)) / h;\n        var o = ((l * i) - (this.ck.y * this.ao.u)) / i;\n        var p = (f * this.ao.v / h) * (this.ao.r / this.cn.width);\n        var q = new List$1(Tile.$, 0);\n        var r;\n        var s;\n        for (var t = j; t < k; ++t) {\n            r = t;\n            s = t;\n            while (s < 0) {\n                s = e + s;\n            }\n            while (s > e - 1) {\n                s = (s - e);\n            }\n            var _loop_2 = function (u) {\n                var v = this_2.a8(r, s, u, d);\n                if (v >= 0) {\n                    q.add(this_2.ay._inner[v]);\n                    this_2.ay.removeAt(v);\n                }\n                else {\n                    q.add(((function () {\n                        var $ret = new Tile();\n                        $ret.c = r;\n                        $ret.d = s;\n                        $ret.e = u;\n                        $ret.f = d;\n                        return $ret;\n                    })()));\n                }\n            };\n            var this_2 = this;\n            for (var u = l; u < m; ++u) {\n                _loop_2(u);\n            }\n        }\n        this.ap.f = true;\n        this.cb();\n        this.ay = q;\n        var _loop_3 = function (w) {\n            if (this_3.ay._inner[w].i == null) {\n                this_3.ay._inner[w].i = this_3.ap.a();\n                this_3.ay._inner[w].i._opacity = 1;\n                this_3.an.am(this_3.ay._inner[w].i);\n                var x = this_3.am(this_3.ay._inner[w]);\n                if (x != null) {\n                    this_3.ay._inner[w].i.ac = x;\n                }\n                else {\n                    var y = null;\n                    var z = ((function () {\n                        var $ret = new Tile();\n                        $ret.d = _this.ay._inner[w].d;\n                        $ret.e = _this.ay._inner[w].e;\n                        $ret.f = _this.ay._inner[w].f;\n                        return $ret;\n                    })());\n                    while (z.f >= 0 && y == null) {\n                        z.d = z.d >> 1;\n                        z.e = z.e >> 1;\n                        z.f = z.f - 1;\n                        y = this_3.am(z);\n                    }\n                    if (y != null) {\n                        var aa = truncate(Math.pow(2, this_3.ay._inner[w].f - z.f));\n                        var ab = intDivide(256, aa);\n                        var ac = ab * (this_3.ay._inner[w].d % aa);\n                        var ad = ab * (this_3.ay._inner[w].e % aa);\n                        this_3.ay._inner[w].h = this_3.ap.a();\n                        this_3.ay._inner[w].h._opacity = 1;\n                        this_3.an.an(this_3.ay._inner[w].h);\n                        x = this_3.an.a(ab, y, ac, ad);\n                        this_3.ay._inner[w].h.ac = x;\n                    }\n                    this_3.an.u(this_3.ay._inner[w]);\n                }\n            }\n            var ae = this_3.ao.r / p;\n            var af = this_3.ao.p / p;\n            var ag = (this_3.ay._inner[w].c - j + n) * ae;\n            var ah = (this_3.ay._inner[w].e - l + o) * af;\n            this_3.ay._inner[w].i.width = ae + 0.5;\n            this_3.ay._inner[w].i.height = af + 0.5;\n            this_3.an.ao(this_3.ay._inner[w].i, ag, ah);\n            if (this_3.ay._inner[w].h != null) {\n                this_3.ay._inner[w].h.width = ae + 0.5;\n                this_3.ay._inner[w].h.height = af + 0.5;\n                this_3.an.ao(this_3.ay._inner[w].h, ag, ah);\n            }\n        };\n        var this_3 = this;\n        for (var w = 0; w < this.ay.count; ++w) {\n            _loop_3(w);\n        }\n        this.ap.f = false;\n        this.an.aj();\n    };\n    XamMultiScaleImage.prototype.b5 = function () {\n        if (this.ao == null || !this.an.f() || this.cn.width == 0 || this.cn.height == 0) {\n            return;\n        }\n        if (this.aw) {\n            return;\n        }\n        this.aw = true;\n        this.an.s(runOn(this, this.b6));\n    };\n    XamMultiScaleImage.prototype.cb = function () {\n        for (var a = 0; a < this.ay.count; ++a) {\n            this.an.r(this.ay._inner[a]);\n            this.bp(this.ay._inner[a]);\n            if (this.ay._inner[a].i != null) {\n                this.ap.n(this.ay._inner[a].i);\n                this.ay._inner[a].i.ac = null;\n                this.ay._inner[a].i = null;\n            }\n        }\n    };\n    XamMultiScaleImage.prototype.b4 = function () {\n        this.ar.i();\n    };\n    XamMultiScaleImage.prototype.am = function (a) {\n        return this.ar.item(a);\n    };\n    XamMultiScaleImage.prototype.bo = function (a, b) {\n        this.ar.item(a, b);\n    };\n    Object.defineProperty(XamMultiScaleImage.prototype, \"ar\", {\n        get: function () {\n            return this.aq;\n        },\n        set: function (a) {\n            this.aq = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamMultiScaleImage.prototype.au = function () {\n        return this.az.count != 0;\n    };\n    XamMultiScaleImage.prototype.bt = function () {\n        var a = true;\n        if (this.au()) {\n            a = false;\n        }\n        if (!this.an.d()) {\n            a = false;\n        }\n        if (a && !this.as) {\n            if (this.imageTilesReady != null) {\n                this.imageTilesReady(this, new EventArgs());\n            }\n        }\n        this.as = a;\n    };\n    XamMultiScaleImage.prototype.ca = function (a) {\n        if (a.h != null) {\n            a.b = dateNow();\n            this.az.add(a);\n            this.an.ap();\n        }\n        else {\n            this.bt();\n        }\n    };\n    XamMultiScaleImage.prototype.bp = function (a) {\n        if (a.h != null) {\n            this.ap.n(a.h);\n            a.h.ac = null;\n            a.h = null;\n            for (var b = 0; b < this.az.count; ++b) {\n                if (this.az._inner[b] == a) {\n                    this.az.removeAt(b);\n                    break;\n                }\n            }\n            if (this.az.count == 0) {\n                this.an.ar();\n            }\n        }\n    };\n    XamMultiScaleImage.prototype.br = function () {\n        var a = dateNow();\n        var b = 0.5;\n        for (var c = 0; c < this.az.count;) {\n            var d = a.getTime() - this.az._inner[c].b.getTime();\n            var e = d / 1000;\n            var f = (e) / b;\n            f = MathUtil.c(f, 0, 1);\n            this.az._inner[c].h._opacity = 1 - f;\n            if (f >= 1) {\n                this.ap.n(this.az._inner[c].h);\n                this.az._inner[c].h.ac = null;\n                this.az._inner[c].h = null;\n                this.az.removeAt(c);\n            }\n            else {\n                ++c;\n            }\n            this.an.x();\n        }\n        if (this.az.count == 0) {\n            this.an.ar();\n        }\n    };\n    XamMultiScaleImage.prototype.by = function () {\n        this.a2 = this.a5;\n        this.ck = this.cm;\n        this.b5();\n    };\n    XamMultiScaleImage.prototype.b0 = function (a) {\n        var b = a;\n        this.ag.j(b);\n        this.an.ae(a);\n    };\n    XamMultiScaleImage.prototype.b1 = function (a) {\n        this.an.ag(a);\n    };\n    XamMultiScaleImage.prototype.b2 = function (a) {\n        this.an.ah(a);\n    };\n    XamMultiScaleImage.prototype.b3 = function (a) {\n        this.an.ai(a);\n    };\n    XamMultiScaleImage.prototype.bw = function () {\n        if (this.imagesChanged != null) {\n            this.imagesChanged(this, new EventArgs());\n        }\n    };\n    XamMultiScaleImage.prototype.bq = function () {\n        this.aw = false;\n    };\n    XamMultiScaleImage.prototype.bv = function (a) {\n        if (this.downloadingImage != null) {\n            this.downloadingImage(this, a);\n        }\n    };\n    XamMultiScaleImage.prototype.bu = function (a) {\n        if (this.cancellingImage != null) {\n            this.cancellingImage(this, a);\n        }\n    };\n    Object.defineProperty(XamMultiScaleImage.prototype, \"a4\", {\n        get: function () {\n            return this.a1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamMultiScaleImage.prototype.bz = function (a) {\n        this.a1 = a;\n    };\n    Object.defineProperty(XamMultiScaleImage.prototype, \"a9\", {\n        get: function () {\n            return this.ar.h;\n        },\n        set: function (a) {\n            var b = a != this.a9;\n            if (b) {\n                this.ar = new LRUCache$2(Tile.$, WriteableBitmap.$, 1, a, new TilePositionComparer());\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    XamMultiScaleImage.$t = markType(XamMultiScaleImage, 'XamMultiScaleImage', Control.$, [INotifyPropertyChanged_$type]);\n    XamMultiScaleImage.$$p = markDep(DependencyProperty, PropertyMetadata, XamMultiScaleImage, 'bx', ['IsHorizontalTileWrappingEnabled:av:cc', [0, false], 'Referer:bf:cd', [2, null], 'Source:ao:ce', [XamMultiScaleTileSource.$, null], 'SpringsEasingFunction:aj:cf', [IEasingFunction_$type, null], 'UserAgent:bj:cg', [2, null], 'UseSprings:ax:ch', [0, false], 'ViewportOrigin:cm:ci', [Point_$type, { $type: Point_$type, x: 0, y: 0 }], 'ViewportWidth:a5:cj', [1, 1]]);\n    return XamMultiScaleImage;\n}(Control));\nexport { XamMultiScaleImage };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}