{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, Point_$type, runOn, fromEnum, markType, PointUtil } from \"igniteui-react-core\";\nimport { ISeriesViewerInteractionManager_$type } from \"./ISeriesViewerInteractionManager\";\nimport { HighlightingManager } from \"./HighlightingManager\";\nimport { SeriesViewerScrollbarManager } from \"./SeriesViewerScrollbarManager\";\nimport { Rect } from \"igniteui-react-core\";\nimport { TileZoomManager } from \"./TileZoomManager\";\nimport { Size } from \"igniteui-react-core\";\nimport { MathUtil } from \"igniteui-react-core\";\nimport { MouseEventArgs } from \"igniteui-react-core\";\nimport { MouseButtonEventArgs } from \"igniteui-react-core\";\nimport { truncate, intDivide, isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\n\nvar SeriesViewerInteractionManager =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(SeriesViewerInteractionManager, _super);\n\n  function SeriesViewerInteractionManager() {\n    var _this = _super.call(this) || this;\n\n    _this.t = 0;\n    _this.u = 0;\n    _this.ai = null;\n    _this.q = 0;\n    _this.r = 0;\n    _this.p = 0;\n    _this.s = 0;\n    _this.i = false;\n    _this.aj = null;\n    _this.al = null;\n    _this.j = false;\n    _this.l = false;\n    _this.f = null;\n    _this.b = null;\n    _this.e = null;\n    _this.ak = null;\n    _this.am = null;\n    _this.d = null;\n    _this.a = null;\n    _this.h = false;\n    _this.ak = Rect.empty;\n    _this.aj = Rect.empty;\n    return _this;\n  }\n\n  Object.defineProperty(SeriesViewerInteractionManager.prototype, \"f$b\", {\n    get: function get() {\n      if (this.b == null) {\n        this.b = new HighlightingManager();\n      }\n\n      return this.b;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SeriesViewerInteractionManager.prototype, \"f$c\", {\n    get: function get() {\n      if (this.e == null) {\n        this.e = new SeriesViewerScrollbarManager();\n      }\n\n      return this.e;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  SeriesViewerInteractionManager.prototype.f$ao = function (a, b) {\n    var c = null;\n    var d = null;\n    var e = null;\n    e = a.cq.e();\n    var f;\n\n    var g = function () {\n      var h = a.cq.f(b, false, f, false);\n      f = h.p2;\n      return h.ret;\n    }();\n\n    if (g != e) {\n      if (e.a6.a$c) {\n        e.a6.a$z(e, b, null, null, false);\n      }\n    }\n\n    c = f;\n\n    if (a != null) {\n      a.od(b);\n    }\n\n    if (g != null && !g.a6.a$c) {\n      g.a6.a$y(g, b, c, d, false);\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$a = function (a) {\n    if (a.at != 0) {\n      return a.at;\n    }\n\n    var b = 1;\n    var c = false;\n    var d = false;\n\n    for (var e = 0; e < a.series.count; e++) {\n      var f = a.series._inner[e];\n\n      if (f.isStacked) {\n        f.la(function (g) {\n          if (g.bo == 2) {\n            c = true;\n          }\n\n          if (g.bo == 1) {\n            d = true;\n          }\n\n          return true;\n        });\n      } else {\n        if (f.bo == 2) {\n          c = true;\n        }\n\n        if (f.bo == 1) {\n          d = true;\n        }\n      }\n    }\n\n    if (d) {\n      b = 1;\n    }\n\n    if (c) {\n      b = 2;\n    }\n\n    if (c && d) {\n      b = 3;\n    }\n\n    return b;\n  };\n\n  SeriesViewerInteractionManager.prototype.f$an = function (a) {\n    var b = a.r6;\n    var c = b;\n    var d = a.cq;\n    var e = a.dl();\n    var f = a.dp;\n    var g = a.ez;\n    var h = a.e7;\n\n    if (!e) {\n      c = {\n        $type: Point_$type,\n        x: NaN,\n        y: NaN\n      };\n    }\n\n    if (c.x < 0 || c.x > 1 || c.y < 0 || c.y > 1) {\n      c = {\n        $type: Point_$type,\n        x: NaN,\n        y: NaN\n      };\n    }\n\n    for (var i = 0; i < a.series.count; i++) {\n      var j = a.series._inner[i];\n      j.lg(c);\n    }\n\n    a.lp(c);\n    var k = a.ch == 0 && !a.d7 && (a.dv || f) && !g && !h;\n    var l = a.su;\n\n    if (k && !isNaN_(b.x) && !l.isEmpty) {\n      var m = l.width * (b.x - a.sf.left) / a.sf.width;\n      d.eo(l.left + m, l.top, l.left + m, l.bottom);\n      d.ed();\n      d.ei(m);\n    } else {\n      d.cl();\n    }\n\n    if (k && !isNaN_(b.y) && !l.isEmpty) {\n      var n = l.height * (b.y - a.sf.top) / a.sf.height;\n      d.eh(l.left, l.top + n, l.right, l.top + n);\n      d.d9();\n    } else {\n      d.cg();\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ag = function (a) {\n    switch (a.ch) {\n      case 0:\n        a.cq.d5();\n        this.f$an(a);\n        a.cq.cd();\n        break;\n\n      case 1:\n        a.cq.d7();\n        a.cq.ck();\n        this.f$an(a);\n        a.cq.cc();\n        break;\n\n      case 2:\n        a.cq.d7();\n        a.cq.ck();\n        this.f$an(a);\n        a.cq.ce();\n        break;\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$q = function (a, b) {\n    if (b.x >= 0 && b.y >= 0 && b.x <= a.su.width && b.y <= a.su.height) {\n      this.ae(a, b);\n    } else {\n      a.lc();\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.ae = function (a, b) {\n    var e_1, _a;\n\n    var c = a.cq;\n    var d = a.su;\n\n    if (a.d8 || a.d7) {\n      return;\n    }\n\n    if (a.dp && a.dv) {\n      var e = d.height > d.width;\n      c.bv(e);\n\n      try {\n        for (var _b = __values(fromEnum(a.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var f = _c.value;\n\n          if (f.isStacked) {\n            f.la(function (g) {\n              if (g._visibility == 0) {\n                g.mo(b, runOn(c, c.bm));\n              }\n\n              return true;\n            });\n          } else {\n            if (f._visibility == 0) {\n              f.mo(b, runOn(c, c.bm));\n            }\n          }\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n\n      c.ea();\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.ad = function (a, b) {\n    if (a.dv || a.d5) {\n      a.dp = true;\n      a.m9();\n      this.aj = new Rect(0, b.x, b.y, 0, 0);\n      this.al = new Rect(0, b.x, b.y, 0, 0);\n      a.ch = 0;\n      a.k3(a.r9(b));\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ae = function (a, b) {\n    this.ad(a, b);\n    this.ae(a, b);\n    this.f$an(a);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$r = function (a, b, c) {\n    if (!a.dp) {\n      this.ag(a, b, c);\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$p = function (a, b) {\n    this.ak = Rect.empty;\n    a.lc();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$al = function (a) {\n    if (this.j) {\n      this.f$c.onScrollbarDragCancel();\n      this.j = false;\n    }\n\n    var b = a.cq;\n    this.s = 1;\n    this.ac(a);\n    a.ch = 0;\n    this.i = true;\n    a.ez = true;\n    a.na();\n  };\n\n  SeriesViewerInteractionManager.prototype.ac = function (a) {\n    var b = a.cq;\n    a.dp = false;\n    b.cj();\n    b.cf();\n    b.ch();\n    a.k3({\n      $type: Point_$type,\n      x: NaN,\n      y: NaN\n    });\n    b.cg();\n    b.cl();\n    b.ck();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ad = function (a, b) {\n    this.f$al(a);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$am = function (a, b, c, d, e) {\n    this.t = b.x;\n    this.u = b.y;\n    this.q = c;\n    this.r = d;\n    this.p = e;\n    this.ai = a.sf;\n    this.f$al(a);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ac = function (a, b) {\n    var c = a.cq;\n    c.cg();\n    c.cl();\n\n    if (c.av) {\n      this.y(a, b);\n    } else {\n      this.aa(a, b);\n      this.s = b;\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ai = function (a, b, c, d, e) {\n    var f = a.cq;\n    f.cg();\n    f.cl();\n    this.q = this.q * c;\n    this.r = this.r * d;\n    this.p = this.p * e;\n\n    if (a.ee) {\n      this.q = this.p;\n      this.r = this.p;\n    }\n\n    var g = a.sf;\n    var h = a.su;\n    var i = b.x - this.t;\n    var j = b.y - this.u;\n    this.t = b.x;\n    this.u = b.y;\n    var k = g.width;\n    var l = g.height;\n    var m = this.ai.width / this.q;\n    var n = this.ai.height / this.r;\n\n    if (m > 1) {\n      m = 1;\n    }\n\n    if (n > 1) {\n      n = 1;\n    }\n\n    var o = {\n      $type: Point_$type,\n      x: b.x,\n      y: b.y\n    };\n    var p = {\n      $type: Point_$type,\n      x: (o.x - h.left) / h.width * g.width + g.left,\n      y: (o.y - h.top) / h.height * g.height + g.top\n    };\n    var q = new Rect(0, g.left, g.top, m, n);\n    var r = {\n      $type: Point_$type,\n      x: (p.x - q.left) / q.width * h.width + h.left,\n      y: (p.y - q.top) / q.height * h.height + h.top\n    };\n    var s = r.x - o.x - i;\n    var t = r.y - o.y - j;\n    var u = s / h.width * q.width;\n    var v = t / h.height * q.height;\n    q = new Rect(0, q.left + u, q.top + v, q.width, q.height);\n    g = q;\n    a.ot(g, true);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$z = function (a, b) {\n    this.aj = new Rect(0, b.x, b.y, 0, 0);\n    this.al = new Rect(0, b.x, b.y, 0, 0);\n  };\n\n  SeriesViewerInteractionManager.prototype.z = function (a, b, c) {\n    var d = a.sf.width;\n    var e = a.sf.height;\n    var f = a.sf.left + d / 2;\n    var g = a.sf.top + e / 2;\n    d = d / b;\n    e = e / b;\n    var h = f - d / 2;\n    var i = g - e / 2;\n    a.ot(new Rect(0, h, i, d, e), true);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ab = function (a, b) {\n    var c = a.cq;\n\n    if (c.av) {\n      this.y(a, b);\n    } else {\n      this.aa(a, b);\n    }\n\n    this.aj = Rect.empty;\n    a.ez = false;\n  };\n\n  SeriesViewerInteractionManager.prototype.f$s = function (a, b) {\n    a.ez = false;\n    this.aj = Rect.empty;\n    a.lc();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$y = function (a, b) {\n    a.kz();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ah = function (a, b, c, d, e) {\n    a.ez = false;\n    this.aj = Rect.empty;\n    a.lc();\n  };\n\n  SeriesViewerInteractionManager.prototype.y = function (a, b) {\n    var c = a.sv;\n    var d = 1 / b;\n    var e = {\n      $type: Point_$type,\n      x: c.x + c.width / 2,\n      y: c.y + c.height / 2\n    };\n    var f = {\n      $type: Point_$type,\n      x: c.x - e.x,\n      y: c.y - e.y\n    };\n    var g = new Rect(0, f.x * d + e.x, f.y * d + e.y, c.width * d, c.height * d);\n    a.ot(g, true);\n  };\n\n  SeriesViewerInteractionManager.prototype.aa = function (a, b) {\n    var c = a.su;\n    var d = a.sv;\n    var e = b - this.s;\n\n    if (e != 0) {\n      var f = 0.03;\n      var g = e < 0 ? 1 + f : 1 - f;\n      var h = {\n        $type: Point_$type,\n        x: d.x + d.width / 2,\n        y: d.y + d.height / 2\n      };\n      var i = {\n        $type: Point_$type,\n        x: d.x - h.x,\n        y: d.y - h.y\n      };\n      var j = new Rect(0, i.x * g + h.x, i.y * g + h.y, d.width * g, d.height * g);\n      a.ot(j, true);\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$n = function (a, b, c) {\n    if (!a.ez) {\n      this.i = false;\n    }\n\n    var d = false;\n\n    if (a.dq) {\n      if (this.f$c.shouldHandleInteraction(b, c)) {\n        this.j = true;\n        d = true;\n        this.ac(a);\n        a.cq.dr();\n        return;\n      }\n    }\n\n    this.ag(a, b, c);\n    a.mt(b, c);\n  };\n\n  SeriesViewerInteractionManager.prototype.ag = function (a, b, c) {\n    var d;\n    var e = a.cq;\n    var f = a.cf(c);\n\n    if (e.ez == 0) {\n      switch (f) {\n        case 1:\n          d = a.el() ? f : 0;\n          break;\n\n        default:\n          d = f;\n          break;\n      }\n    } else {\n      if (e.ez == a.rf) {\n        d = 1;\n      } else if (e.ez == a.rg) {\n        d = 2;\n      } else {\n        d = 0;\n      }\n    }\n\n    switch (d) {\n      case 1:\n      case 2:\n        a.cq.ca();\n        a.cq.dr();\n        break;\n    }\n\n    a.ch = d;\n\n    switch (a.ch) {\n      case 1:\n        a.k3({\n          $type: Point_$type,\n          x: NaN,\n          y: NaN\n        });\n        this.aj = new Rect(0, b.x, b.y, 0, 0);\n        this.al = new Rect(0, b.x, b.y, 0, 0);\n        this.ak = new Rect(0, b.x, b.y, 0, 0);\n        e.d8();\n        e.eg(this.aj);\n        a.nf(Rect.empty, true);\n        break;\n\n      case 2:\n        this.aj = new Rect(0, b.x, b.y, 0, 0);\n        this.ak = new Rect(0, b.x, b.y, 0, 0);\n        break;\n    }\n\n    this.am = a.sf;\n    a.sw = a.sf;\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ak = function (a) {\n    a.oe();\n    a.cq.dl();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$aj = function (a) {\n    a.k7();\n    a.cq.dk();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$ap = function (a) {\n    if (a.dk && !this.l) {\n      this.l = true;\n      this.af(a);\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$k = function (a) {\n    if (this.l) {\n      this.ab(a);\n      this.l = false;\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$h = function (a) {\n    if (this.f == null) {\n      return;\n    }\n\n    this.g.ab();\n  };\n\n  Object.defineProperty(SeriesViewerInteractionManager.prototype, \"g\", {\n    get: function get() {\n      return this.f;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  SeriesViewerInteractionManager.prototype.af = function (a) {\n    if (this.f == null) {\n      this.f = new TileZoomManager(a, true, a.hb);\n      this.f.h = !a.e0;\n    }\n\n    a.d4 = true;\n    a.ne();\n    this.f.al();\n    a.cq.br();\n    a.cq.bs();\n  };\n\n  SeriesViewerInteractionManager.prototype.ab = function (a) {\n    if (this.f == null) {\n      return;\n    }\n\n    a.d4 = false;\n    a.cq.dg();\n    this.f.ah();\n    a.ny();\n    a.cq.by();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$j = function (a) {\n    a.k1();\n    a.n0();\n  };\n\n  SeriesViewerInteractionManager.prototype.n = function (a) {\n    return a.ch == 2;\n  };\n\n  SeriesViewerInteractionManager.prototype.o = function (a, b) {\n    return a.b7 == 1 || b || a.dk;\n  };\n\n  SeriesViewerInteractionManager.prototype.m = function (a) {\n    return a.ch == 1;\n  };\n\n  SeriesViewerInteractionManager.prototype.f$m = function (a, b, c) {\n    var d = a.cq;\n\n    if (this.j) {\n      a.a6.onScrollbarDrag(b, c);\n      return;\n    }\n\n    if (this.aj.isEmpty && c) {\n      this.ag(a, b, c);\n    }\n\n    var e = 2;\n\n    if (c) {\n      e = 10;\n    }\n\n    var f = false;\n    var g = new Rect(2, {\n      $type: Point_$type,\n      x: this.aj.x,\n      y: this.aj.y\n    }, b);\n    var h = new Rect(0, 0, 0, 0, 0);\n\n    if (!this.ak.isEmpty) {\n      h = new Rect(2, {\n        $type: Point_$type,\n        x: this.ak.x,\n        y: this.ak.y\n      }, b);\n    }\n\n    if (h.width > e && h.height > e) {\n      f = true;\n    }\n\n    if (!a.ez) {\n      if (f) {\n        this.i = false;\n      }\n    }\n\n    if (!a.ez && (a.dp || !c)) {\n      a.k3(a.r9(b));\n    }\n\n    if (this.m(a)) {\n      if (f) {\n        var i = a.st(g);\n        a.nf(i, true);\n      } else {\n        a.nf(Rect.empty, true);\n      }\n\n      a.l2();\n      d.eg(g);\n    }\n\n    var j = a.su;\n    var k = a.sf;\n\n    if (this.n(a)) {\n      var l = j;\n      var m = k.left + k.width * (this.aj.x - b.x) / l.width;\n      var n = k.top + k.height * (this.aj.y - b.y) / l.height;\n      var o = new Rect(0, m, n, k.width, k.height);\n\n      if (this.o(a, c)) {\n        if (h.width != 0 || h.height != 0) {\n          a.na();\n        }\n\n        a.nf(Rect.empty, true);\n        var p = a.sf;\n        a.ot(o, true);\n        var q = a.sf;\n\n        if (p.equals1(q) && a.cq.k.ac) {\n          a.cq.k.au();\n        }\n\n        this.aj = new Rect(3, b, new Size(1, 0, 0));\n        this.al = new Rect(3, b, new Size(1, 0, 0));\n      } else {\n        a.nf(o, true);\n      }\n    }\n\n    this.al = new Rect(3, b, new Size(1, 0, 0));\n    d.bu(b);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$l = function (a, b, c, d) {\n    var e = a.cq;\n    var f = 2;\n\n    if (c) {\n      f = 10;\n    }\n\n    var g = a.su;\n    var h = a.sf;\n\n    if (!d) {\n      if (this.j) {\n        this.f$c.onScrollbarDragComplete(b, c);\n        this.j = false;\n        e.bw();\n        return;\n      }\n    }\n\n    if (!this.i) {\n      var i = false;\n      var j = new Rect(2, {\n        $type: Point_$type,\n        x: this.aj.x,\n        y: this.aj.y\n      }, b);\n\n      if (j.width > f && j.height > f) {\n        i = true;\n      }\n\n      if (a.ch == 1) {\n        a.l1();\n        e.cf();\n\n        if (i) {\n          a.ot(a.st(j), true);\n        }\n      }\n\n      if (a.ch == 2) {\n        var k = g;\n        var l = h.left + h.width * (this.aj.x - b.x) / k.width;\n        var m = h.top + h.height * (this.aj.y - b.y) / k.height;\n        a.ot(new Rect(0, l, m, h.width, h.height), true);\n      }\n    }\n\n    var n = false;\n    var o = new Rect(2, {\n      $type: Point_$type,\n      x: this.ak.x,\n      y: this.ak.y\n    }, b);\n\n    if (o.width > f || o.height > f) {\n      n = true;\n    }\n\n    if (n) {\n      a.e7 = true;\n    }\n\n    a.ch = 0;\n    a.nf(Rect.empty, true);\n    e.bw();\n    a.e7 = false;\n    e.cg();\n    e.cl();\n\n    if (c) {\n      e.ck();\n      e.cg();\n      e.cl();\n      e.ch();\n    }\n\n    a.lc();\n    a.m9();\n    a.mu(b, c, d);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$af = function (a) {\n    if (this.g != null) {\n      this.g.h = !a.e0;\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$e = function (a, b) {\n    var c = a.cq;\n    var d = a.sf;\n\n    if (a.ch == 2 && b == 8) {\n      c.bt();\n      a.ch = 0;\n      a.m9();\n      a.nf(Rect.empty, true);\n\n      if (a.b7 == 1) {\n        a.ot(this.am, true);\n      }\n\n      return true;\n    }\n\n    if (a.ch == 1 && b == 8) {\n      c.bt();\n      a.ch = 0;\n      a.m9();\n      c.cf();\n      a.nf(Rect.empty, true);\n      return true;\n    }\n\n    var e = Rect.empty;\n    var f = false;\n\n    switch (b) {\n      case 13:\n        f = true;\n        e = new Rect(0, 0, 0, 1, 1);\n        break;\n\n      case 11:\n        f = true;\n        e = new Rect(0, d.left - 0.1 * d.width, d.top - 0.1 * d.height, 1.2 * d.width, 1.2 * d.height);\n        break;\n\n      case 10:\n        f = true;\n        e = new Rect(0, d.left + 0.1 * d.width, d.top + 0.1 * d.height, 0.8 * d.width, 0.8 * d.height);\n        break;\n\n      case 14:\n        f = true;\n        e = new Rect(0, d.left - 0.1 * d.width, d.top, d.width, d.height);\n        e.x = e.x - Math.min(e.left, 0);\n        break;\n\n      case 16:\n        f = true;\n        e = new Rect(0, d.left + 0.1 * d.width, d.top, d.width, d.height);\n        e.x = e.x - Math.max(e.right - 1, 0);\n        break;\n\n      case 15:\n        f = true;\n        e = new Rect(0, d.left, d.top - 0.1 * d.height, d.width, d.height);\n        e.y = e.y - Math.min(e.top, 0);\n        break;\n\n      case 17:\n        f = true;\n        e = new Rect(0, d.left, d.top + 0.1 * d.height, d.width, d.height);\n        e.y = e.y - Math.max(e.bottom - 1, 0);\n        break;\n    }\n\n    if (!e.isEmpty && Rect.l_op_Inequality(e, d)) {\n      a.ot(e, true);\n    }\n\n    return f;\n  };\n\n  SeriesViewerInteractionManager.prototype.f$f = function (a, b, c) {\n    var d = a.cq;\n    var e = a.sf;\n    var f = e.left + e.width * b.x / a.su.width;\n    var g = e.top + e.height * b.y / a.su.height;\n    var h = 1 - MathUtil.c(c, -0.5, 0.5);\n    var i = Math.max(0, f - h * (f - e.left));\n    var j = Math.min(1, g + h * (e.bottom - g));\n    var k = Math.min(1, f + h * (e.right - f));\n    var l = Math.max(0, g - h * (g - e.top));\n    a.na();\n    this.x(a, 1000);\n    a.ot(new Rect(0, i, l, k - i, j - l), true);\n    return a.el();\n  };\n\n  SeriesViewerInteractionManager.prototype.x = function (a, b) {\n    a.cq.bz(b);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$o = function (a, b) {\n    var c = a.sf;\n    var d = c.left + c.width * b.x / a.su.width;\n    var e = c.top + c.height * b.y / a.su.height;\n    var f = 0.7;\n    var g = Math.max(0, d - f * (d - c.left));\n    var h = Math.min(1, e + f * (c.bottom - e));\n    var i = Math.min(1, d + f * (c.right - d));\n    var j = Math.max(0, e - f * (e - c.top));\n    a.ot(new Rect(0, g, j, i - g, h - j), true);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$i = function (a) {\n    this.g.ac();\n  };\n\n  SeriesViewerInteractionManager.prototype.f$d = function (a, b, c, d, e, f, g) {\n    var e_2, _a;\n\n    var h = true;\n    var i = false;\n    var j = false;\n    var k = a;\n\n    if (k.as == 1) {\n      h = false;\n      i = true;\n    }\n\n    if (k.as == 3 || k.as == 4) {\n      i = true;\n    }\n\n    if (k.as == 4) {\n      j = true;\n    }\n\n    var l = truncate(Math.round(d.x));\n    var m = truncate(Math.round(d.y));\n    f = null;\n    var n = -1;\n\n    if (h && c != null) {\n      var o = l;\n      var p = m;\n\n      if (a.f4 != 1) {\n        o = truncate(Math.round(d.x * a.f4));\n        p = truncate(Math.round(d.y * a.f4));\n      }\n\n      var q = c.a(o, p);\n\n      if (q == null || q.length == 0) {\n        f = null;\n        return {\n          ret: null,\n          p5: f\n        };\n      }\n\n      if ((q[0] > 0 || q[1] > 0 || q[2] > 0) && q[3] == 255) {\n        var num2_ = q[2];\n\n        if (num2_ % 4 != 0) {\n          num2_ = num2_ + (4 - num2_ % 4);\n        }\n\n        var num1_ = q[1];\n\n        if (num1_ % 4 != 0) {\n          num1_ = num1_ + (4 - num1_ % 4);\n        }\n\n        var num0_ = q[0];\n\n        if (num0_ % 4 != 0) {\n          num0_ = num0_ + (4 - num0_ % 4);\n        }\n\n        var num_ = 0;\n        num_ = num2_ >> 2;\n        num_ = num_ << 6;\n        num_ = num_ | num1_ >> 2;\n        num_ = num_ << 6;\n        num_ = num_ | num0_ >> 2;\n        n = truncate(Math.floor(intDivide(num_, 1000)));\n        n--;\n      }\n    }\n\n    var r = null;\n    var s = -1;\n\n    if (n >= 0) {\n      var t_1 = false;\n      var u_1 = 0;\n\n      try {\n        for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var v = _c.value;\n\n          if (!v.el) {\n            continue;\n          }\n\n          if (t_1) {\n            break;\n          }\n\n          if (v.isStacked) {\n            v.la(function (w) {\n              if (w.ho == n) {\n                r = w;\n                s = u_1;\n                t_1 = true;\n                return false;\n              }\n\n              return true;\n            });\n          } else if (v.ho == n) {\n            r = v;\n            s = u_1;\n            break;\n          }\n\n          u_1++;\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n    }\n\n    var w = null;\n\n    if (i) {\n      var x = false;\n\n      for (var y = b.count - 1; y >= 0; y--) {\n        var z = b._inner[y];\n\n        if (!z.el) {\n          continue;\n        }\n\n        var aa = z.b0;\n\n        if (!z.e9(aa.bu, aa.bv, aa)) {\n          continue;\n        }\n\n        if (!x && y < s && h && !j) {\n          if (r != null) {\n            w = r;\n            x = true;\n            break;\n          }\n        }\n\n        if (z != null && z.bo == 1) {\n          if (z.ev(d, g)) {\n            w = z;\n            break;\n          }\n        }\n      }\n\n      if (h && !x) {\n        if (r != null) {\n          w = r;\n          x = true;\n        }\n      }\n    } else {\n      w = r;\n    }\n\n    if (w != null) {\n      var ab = w.at({\n        $type: Point_$type,\n        x: l,\n        y: m\n      }, g);\n\n      if (ab != null) {\n        f = ab;\n      }\n\n      return {\n        ret: w,\n        p5: f\n      };\n    }\n\n    return {\n      ret: null,\n      p5: f\n    };\n  };\n\n  SeriesViewerInteractionManager.prototype.f$g = function (a, b) {\n    if (PointUtil.equals(b, null)) {\n      return false;\n    }\n\n    var c = b.x;\n    var d = b.y;\n\n    if (this.j) {\n      return true;\n    }\n\n    if (c >= a.su.left && d >= a.su.top && c <= a.su.left + a.su.width && d <= a.su.top + a.su.height) {\n      var e = a.cj;\n\n      if (e != null && e.viewShouldInteract(b)) {\n        return false;\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  SeriesViewerInteractionManager.prototype.c = function (a) {\n    if (a != null) {\n      return a.bf();\n    } else {\n      return null;\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$w = function (a, b, c, d, e, f) {\n    var _this = this;\n\n    if (!f && a.dj) {\n      this.ah(a, false);\n    }\n\n    var g = new MouseEventArgs();\n    g.position = d;\n\n    if (a.ch == 2 || a.ch == 1 || a.ez || a.cj != null && a.cj.isPinching) {\n      if (this.d != null) {\n        this.d.a6.a$z(this.d, g.position, this.a, g, f);\n        this.d = null;\n      }\n\n      return;\n    }\n\n    var h = null;\n\n    var i = function () {\n      var j = _this.f$d(a, b, c, d, !e, h, f);\n\n      h = j.p5;\n      return j.ret;\n    }();\n\n    this.a = h;\n    var j = this.c(i);\n\n    if (i != null) {\n      var k = false;\n      var l = false;\n\n      if (this.d != i) {\n        l = true;\n      }\n\n      if (this.d == null || l) {\n        k = true;\n      }\n\n      if (k) {\n        if (l) {\n          if (this.d != null) {\n            j = this.c(this.d);\n            this.d.a6.a$z(this.d, g.position, h, g, f);\n\n            if (j != null) {\n              j.a6.a$z(j, g.position, h, g, f);\n            }\n          }\n        }\n\n        this.d = i;\n        i.lv(g.position, h, g, f);\n\n        if (j != null) {\n          j.lv(g.position, h, g, f);\n        }\n      } else {\n        this.d = i;\n        i.a6.a$ab(i, g.position, h, g, f);\n\n        if (j != null) {\n          j.a6.a$ab(j, g.position, h, g, f);\n        }\n      }\n    } else {\n      if (this.d != null) {\n        j = this.c(this.d);\n        this.d.a6.a$z(this.d, g.position, h, g, f);\n\n        if (j != null) {\n          j.a6.a$z(j, g.position, h, g, f);\n        }\n\n        this.d = null;\n      }\n\n      for (var m = 0; m < a.series.count; m++) {\n        var n = a.series._inner[m];\n\n        if (n.a6.a$b) {\n          j = this.c(n);\n          n.a6.a$z(n, g.position, n.a6.a$p, g, f);\n\n          if (j != null) {\n            j.a6.a$z(j, g.position, n.a6.a$p, g, f);\n          }\n        }\n      }\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$v = function (a, b) {\n    if (this.d != null) {\n      var c = this.c(this.d);\n      var d = new MouseEventArgs();\n      d.position = b;\n      this.d.a6.a$z(this.d, d.position, null, d, false);\n\n      if (c != null) {\n        c.a6.a$z(c, d.position, null, d, false);\n      }\n\n      this.d = null;\n    }\n\n    a.mo(b, a.ch != 0 || a.eq);\n  };\n\n  SeriesViewerInteractionManager.prototype.f$u = function (a, b, c) {\n    if (this.d != null) {\n      var d = new MouseButtonEventArgs();\n      d.position = c;\n\n      if (b.al) {\n        this.d.a6.a$ac(this.d, d.position, this.a, d);\n      } else {\n        this.d.a6.a$w(this.d, d.position, this.a, d);\n      }\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$x = function (a, b, c) {\n    var d;\n    var e = this.d != null ? this.d : function () {\n      var f = a.cq.f(c, false, d, false);\n      d = f.p2;\n      return f.ret;\n    }();\n\n    if (e != null) {\n      var f = new MouseButtonEventArgs();\n      f.position = c;\n\n      if (b.al) {\n        e.a6.a$ad(e, f.position, this.a, f);\n      } else {\n        e.a6.a$aa(e, f.position, this.a, f);\n      }\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$t = function (a, b, c) {\n    if (!c && a.es) {\n      this.ah(a, false);\n    }\n\n    if (c && !a.es) {\n      this.ah(a, true);\n    }\n\n    a.l6(b, c);\n  };\n\n  SeriesViewerInteractionManager.prototype.ah = function (a, b) {\n    if (a != null) {\n      if (!this.k) {\n        a.dj = b;\n      }\n    }\n  };\n\n  SeriesViewerInteractionManager.prototype.f$aa = function (a, b) {\n    this.h = true;\n  };\n\n  Object.defineProperty(SeriesViewerInteractionManager.prototype, \"k\", {\n    get: function get() {\n      return this.h;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  SeriesViewerInteractionManager.$t = markType(SeriesViewerInteractionManager, 'SeriesViewerInteractionManager', Base.$, [ISeriesViewerInteractionManager_$type]);\n  return SeriesViewerInteractionManager;\n}(Base);\n\nexport { SeriesViewerInteractionManager };","map":{"version":3,"names":["__extends","__values","Base","Point_$type","runOn","fromEnum","markType","PointUtil","ISeriesViewerInteractionManager_$type","HighlightingManager","SeriesViewerScrollbarManager","Rect","TileZoomManager","Size","MathUtil","MouseEventArgs","MouseButtonEventArgs","truncate","intDivide","isNaN_","SeriesViewerInteractionManager","_super","_this","call","t","u","ai","q","r","p","s","i","aj","al","j","l","f","b","e","ak","am","d","a","h","empty","Object","defineProperty","prototype","get","enumerable","configurable","f$ao","c","cq","g","p2","ret","a6","a$c","a$z","od","a$y","f$a","at","series","count","_inner","isStacked","la","bo","f$an","r6","dl","dp","ez","e7","$type","x","NaN","y","lg","lp","k","ch","d7","dv","su","isEmpty","m","width","sf","left","eo","top","bottom","ed","ei","cl","n","height","eh","right","d9","cg","f$ag","d5","cd","ck","cc","ce","f$q","ae","lc","e_1","_a","d8","bv","_b","_c","next","done","value","_visibility","mo","bm","e_1_1","error","return","ea","ad","m9","k3","r9","f$ae","f$r","ag","f$p","f$al","f$c","onScrollbarDragCancel","ac","na","cj","cf","f$ad","f$am","f$ac","av","aa","f$ai","ee","o","v","ot","f$z","z","f$ab","f$s","f$y","kz","f$ah","sv","f$n","dq","shouldHandleInteraction","dr","mt","el","rf","rg","ca","eg","nf","sw","f$ak","oe","f$aj","k7","dk","f$ap","af","f$k","ab","f$h","hb","e0","d4","ne","br","bs","dg","ah","ny","by","f$j","k1","n0","b7","f$m","onScrollbarDrag","st","l2","equals1","au","bu","f$l","onScrollbarDragComplete","bw","l1","mu","f$af","f$e","bt","Math","min","max","l_op_Inequality","f$f","bz","f$o","f$i","f$d","e_2","as","round","f4","length","p5","num2_","num1_","num0_","num_","floor","t_1","u_1","w","ho","e_2_1","b0","e9","ev","f$g","equals","viewShouldInteract","bf","f$w","dj","position","isPinching","lv","a$ab","a$b","a$p","f$v","eq","f$u","a$ac","a$w","f$x","a$ad","a$aa","f$t","es","l6","f$aa","$t","$"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-charts/esm5/lib/SeriesViewerInteractionManager.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { Base, Point_$type, runOn, fromEnum, markType, PointUtil } from \"igniteui-react-core\";\nimport { ISeriesViewerInteractionManager_$type } from \"./ISeriesViewerInteractionManager\";\nimport { HighlightingManager } from \"./HighlightingManager\";\nimport { SeriesViewerScrollbarManager } from \"./SeriesViewerScrollbarManager\";\nimport { Rect } from \"igniteui-react-core\";\nimport { TileZoomManager } from \"./TileZoomManager\";\nimport { Size } from \"igniteui-react-core\";\nimport { MathUtil } from \"igniteui-react-core\";\nimport { MouseEventArgs } from \"igniteui-react-core\";\nimport { MouseButtonEventArgs } from \"igniteui-react-core\";\nimport { truncate, intDivide, isNaN_ } from \"igniteui-react-core\";\n/**\n * @hidden\n */\nvar SeriesViewerInteractionManager = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(SeriesViewerInteractionManager, _super);\n    function SeriesViewerInteractionManager() {\n        var _this = _super.call(this) || this;\n        _this.t = 0;\n        _this.u = 0;\n        _this.ai = null;\n        _this.q = 0;\n        _this.r = 0;\n        _this.p = 0;\n        _this.s = 0;\n        _this.i = false;\n        _this.aj = null;\n        _this.al = null;\n        _this.j = false;\n        _this.l = false;\n        _this.f = null;\n        _this.b = null;\n        _this.e = null;\n        _this.ak = null;\n        _this.am = null;\n        _this.d = null;\n        _this.a = null;\n        _this.h = false;\n        _this.ak = Rect.empty;\n        _this.aj = Rect.empty;\n        return _this;\n    }\n    Object.defineProperty(SeriesViewerInteractionManager.prototype, \"f$b\", {\n        get: function () {\n            if (this.b == null) {\n                this.b = new HighlightingManager();\n            }\n            return this.b;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SeriesViewerInteractionManager.prototype, \"f$c\", {\n        get: function () {\n            if (this.e == null) {\n                this.e = new SeriesViewerScrollbarManager();\n            }\n            return this.e;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SeriesViewerInteractionManager.prototype.f$ao = function (a, b) {\n        var c = null;\n        var d = null;\n        var e = null;\n        e = a.cq.e();\n        var f;\n        var g = ((function () { var h = a.cq.f(b, false, f, false); f = h.p2; return h.ret; })());\n        if (g != e) {\n            if (e.a6.a$c) {\n                e.a6.a$z(e, b, null, null, false);\n            }\n        }\n        c = f;\n        if (a != null) {\n            a.od(b);\n        }\n        if (g != null && !g.a6.a$c) {\n            g.a6.a$y(g, b, c, d, false);\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$a = function (a) {\n        if (a.at != 0) {\n            return a.at;\n        }\n        var b = 1;\n        var c = false;\n        var d = false;\n        for (var e = 0; e < a.series.count; e++) {\n            var f = a.series._inner[e];\n            if (f.isStacked) {\n                f.la(function (g) {\n                    if (g.bo == 2) {\n                        c = true;\n                    }\n                    if (g.bo == 1) {\n                        d = true;\n                    }\n                    return true;\n                });\n            }\n            else {\n                if (f.bo == 2) {\n                    c = true;\n                }\n                if (f.bo == 1) {\n                    d = true;\n                }\n            }\n        }\n        if (d) {\n            b = 1;\n        }\n        if (c) {\n            b = 2;\n        }\n        if (c && d) {\n            b = 3;\n        }\n        return b;\n    };\n    SeriesViewerInteractionManager.prototype.f$an = function (a) {\n        var b = a.r6;\n        var c = b;\n        var d = a.cq;\n        var e = a.dl();\n        var f = a.dp;\n        var g = a.ez;\n        var h = a.e7;\n        if (!e) {\n            c = { $type: Point_$type, x: NaN, y: NaN };\n        }\n        if (c.x < 0 || c.x > 1 || c.y < 0 || c.y > 1) {\n            c = { $type: Point_$type, x: NaN, y: NaN };\n        }\n        for (var i = 0; i < a.series.count; i++) {\n            var j = a.series._inner[i];\n            j.lg(c);\n        }\n        a.lp(c);\n        var k = a.ch == 0 && !a.d7 && (a.dv || f) && !g && !h;\n        var l = a.su;\n        if (k && !isNaN_(b.x) && !l.isEmpty) {\n            var m = l.width * (b.x - a.sf.left) / a.sf.width;\n            d.eo(l.left + m, l.top, l.left + m, l.bottom);\n            d.ed();\n            d.ei(m);\n        }\n        else {\n            d.cl();\n        }\n        if (k && !isNaN_(b.y) && !l.isEmpty) {\n            var n = l.height * (b.y - a.sf.top) / a.sf.height;\n            d.eh(l.left, l.top + n, l.right, l.top + n);\n            d.d9();\n        }\n        else {\n            d.cg();\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$ag = function (a) {\n        switch (a.ch) {\n            case 0:\n                a.cq.d5();\n                this.f$an(a);\n                a.cq.cd();\n                break;\n            case 1:\n                a.cq.d7();\n                a.cq.ck();\n                this.f$an(a);\n                a.cq.cc();\n                break;\n            case 2:\n                a.cq.d7();\n                a.cq.ck();\n                this.f$an(a);\n                a.cq.ce();\n                break;\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$q = function (a, b) {\n        if (b.x >= 0 && b.y >= 0 && b.x <= a.su.width && b.y <= a.su.height) {\n            this.ae(a, b);\n        }\n        else {\n            a.lc();\n        }\n    };\n    SeriesViewerInteractionManager.prototype.ae = function (a, b) {\n        var e_1, _a;\n        var c = a.cq;\n        var d = a.su;\n        if (a.d8 || a.d7) {\n            return;\n        }\n        if (a.dp && a.dv) {\n            var e = d.height > d.width;\n            c.bv(e);\n            try {\n                for (var _b = __values(fromEnum(a.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var f = _c.value;\n                    if (f.isStacked) {\n                        f.la(function (g) {\n                            if (g._visibility == 0) {\n                                g.mo(b, runOn(c, c.bm));\n                            }\n                            return true;\n                        });\n                    }\n                    else {\n                        if (f._visibility == 0) {\n                            f.mo(b, runOn(c, c.bm));\n                        }\n                    }\n                }\n            }\n            catch (e_1_1) {\n                e_1 = { error: e_1_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_1)\n                        throw e_1.error;\n                }\n            }\n            c.ea();\n        }\n    };\n    SeriesViewerInteractionManager.prototype.ad = function (a, b) {\n        if (a.dv || a.d5) {\n            a.dp = true;\n            a.m9();\n            this.aj = new Rect(0, b.x, b.y, 0, 0);\n            this.al = new Rect(0, b.x, b.y, 0, 0);\n            a.ch = 0;\n            a.k3(a.r9(b));\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$ae = function (a, b) {\n        this.ad(a, b);\n        this.ae(a, b);\n        this.f$an(a);\n    };\n    SeriesViewerInteractionManager.prototype.f$r = function (a, b, c) {\n        if (!a.dp) {\n            this.ag(a, b, c);\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$p = function (a, b) {\n        this.ak = Rect.empty;\n        a.lc();\n    };\n    SeriesViewerInteractionManager.prototype.f$al = function (a) {\n        if (this.j) {\n            this.f$c.onScrollbarDragCancel();\n            this.j = false;\n        }\n        var b = a.cq;\n        this.s = 1;\n        this.ac(a);\n        a.ch = 0;\n        this.i = true;\n        a.ez = true;\n        a.na();\n    };\n    SeriesViewerInteractionManager.prototype.ac = function (a) {\n        var b = a.cq;\n        a.dp = false;\n        b.cj();\n        b.cf();\n        b.ch();\n        a.k3({ $type: Point_$type, x: NaN, y: NaN });\n        b.cg();\n        b.cl();\n        b.ck();\n    };\n    SeriesViewerInteractionManager.prototype.f$ad = function (a, b) {\n        this.f$al(a);\n    };\n    SeriesViewerInteractionManager.prototype.f$am = function (a, b, c, d, e) {\n        this.t = b.x;\n        this.u = b.y;\n        this.q = c;\n        this.r = d;\n        this.p = e;\n        this.ai = a.sf;\n        this.f$al(a);\n    };\n    SeriesViewerInteractionManager.prototype.f$ac = function (a, b) {\n        var c = a.cq;\n        c.cg();\n        c.cl();\n        if (c.av) {\n            this.y(a, b);\n        }\n        else {\n            this.aa(a, b);\n            this.s = b;\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$ai = function (a, b, c, d, e) {\n        var f = a.cq;\n        f.cg();\n        f.cl();\n        this.q = this.q * c;\n        this.r = this.r * d;\n        this.p = this.p * e;\n        if (a.ee) {\n            this.q = this.p;\n            this.r = this.p;\n        }\n        var g = a.sf;\n        var h = a.su;\n        var i = b.x - this.t;\n        var j = b.y - this.u;\n        this.t = b.x;\n        this.u = b.y;\n        var k = g.width;\n        var l = g.height;\n        var m = this.ai.width / this.q;\n        var n = this.ai.height / this.r;\n        if (m > 1) {\n            m = 1;\n        }\n        if (n > 1) {\n            n = 1;\n        }\n        var o = { $type: Point_$type, x: b.x, y: b.y };\n        var p = { $type: Point_$type, x: (o.x - h.left) / h.width * g.width + g.left, y: (o.y - h.top) / h.height * g.height + g.top };\n        var q = new Rect(0, g.left, g.top, m, n);\n        var r = { $type: Point_$type, x: (p.x - q.left) / q.width * h.width + h.left, y: (p.y - q.top) / q.height * h.height + h.top };\n        var s = (r.x - o.x) - i;\n        var t = (r.y - o.y) - j;\n        var u = s / h.width * q.width;\n        var v = t / h.height * q.height;\n        q = new Rect(0, q.left + u, q.top + v, q.width, q.height);\n        g = q;\n        a.ot(g, true);\n    };\n    SeriesViewerInteractionManager.prototype.f$z = function (a, b) {\n        this.aj = new Rect(0, b.x, b.y, 0, 0);\n        this.al = new Rect(0, b.x, b.y, 0, 0);\n    };\n    SeriesViewerInteractionManager.prototype.z = function (a, b, c) {\n        var d = a.sf.width;\n        var e = a.sf.height;\n        var f = a.sf.left + d / 2;\n        var g = a.sf.top + e / 2;\n        d = d / b;\n        e = e / b;\n        var h = f - d / 2;\n        var i = g - e / 2;\n        a.ot(new Rect(0, h, i, d, e), true);\n    };\n    SeriesViewerInteractionManager.prototype.f$ab = function (a, b) {\n        var c = a.cq;\n        if (c.av) {\n            this.y(a, b);\n        }\n        else {\n            this.aa(a, b);\n        }\n        this.aj = Rect.empty;\n        a.ez = false;\n    };\n    SeriesViewerInteractionManager.prototype.f$s = function (a, b) {\n        a.ez = false;\n        this.aj = Rect.empty;\n        a.lc();\n    };\n    SeriesViewerInteractionManager.prototype.f$y = function (a, b) {\n        a.kz();\n    };\n    SeriesViewerInteractionManager.prototype.f$ah = function (a, b, c, d, e) {\n        a.ez = false;\n        this.aj = Rect.empty;\n        a.lc();\n    };\n    SeriesViewerInteractionManager.prototype.y = function (a, b) {\n        var c = a.sv;\n        var d = 1 / b;\n        var e = { $type: Point_$type, x: c.x + c.width / 2, y: c.y + c.height / 2 };\n        var f = { $type: Point_$type, x: c.x - e.x, y: c.y - e.y };\n        var g = new Rect(0, f.x * d + e.x, f.y * d + e.y, c.width * d, c.height * d);\n        a.ot(g, true);\n    };\n    SeriesViewerInteractionManager.prototype.aa = function (a, b) {\n        var c = a.su;\n        var d = a.sv;\n        var e = b - this.s;\n        if (e != 0) {\n            var f = 0.03;\n            var g = e < 0 ? 1 + f : 1 - f;\n            var h = { $type: Point_$type, x: d.x + d.width / 2, y: d.y + d.height / 2 };\n            var i = { $type: Point_$type, x: d.x - h.x, y: d.y - h.y };\n            var j = new Rect(0, i.x * g + h.x, i.y * g + h.y, d.width * g, d.height * g);\n            a.ot(j, true);\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$n = function (a, b, c) {\n        if (!a.ez) {\n            this.i = false;\n        }\n        var d = false;\n        if (a.dq) {\n            if (this.f$c.shouldHandleInteraction(b, c)) {\n                this.j = true;\n                d = true;\n                this.ac(a);\n                a.cq.dr();\n                return;\n            }\n        }\n        this.ag(a, b, c);\n        a.mt(b, c);\n    };\n    SeriesViewerInteractionManager.prototype.ag = function (a, b, c) {\n        var d;\n        var e = a.cq;\n        var f = a.cf(c);\n        if (e.ez == 0) {\n            switch (f) {\n                case 1:\n                    d = a.el() ? f : 0;\n                    break;\n                default:\n                    d = f;\n                    break;\n            }\n        }\n        else {\n            if (e.ez == a.rf) {\n                d = 1;\n            }\n            else if (e.ez == a.rg) {\n                d = 2;\n            }\n            else {\n                d = 0;\n            }\n        }\n        switch (d) {\n            case 1:\n            case 2:\n                a.cq.ca();\n                a.cq.dr();\n                break;\n        }\n        a.ch = d;\n        switch (a.ch) {\n            case 1:\n                a.k3({ $type: Point_$type, x: NaN, y: NaN });\n                this.aj = new Rect(0, b.x, b.y, 0, 0);\n                this.al = new Rect(0, b.x, b.y, 0, 0);\n                this.ak = new Rect(0, b.x, b.y, 0, 0);\n                e.d8();\n                e.eg(this.aj);\n                a.nf(Rect.empty, true);\n                break;\n            case 2:\n                this.aj = new Rect(0, b.x, b.y, 0, 0);\n                this.ak = new Rect(0, b.x, b.y, 0, 0);\n                break;\n        }\n        this.am = a.sf;\n        a.sw = a.sf;\n    };\n    SeriesViewerInteractionManager.prototype.f$ak = function (a) {\n        a.oe();\n        a.cq.dl();\n    };\n    SeriesViewerInteractionManager.prototype.f$aj = function (a) {\n        a.k7();\n        a.cq.dk();\n    };\n    SeriesViewerInteractionManager.prototype.f$ap = function (a) {\n        if (a.dk && !this.l) {\n            this.l = true;\n            this.af(a);\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$k = function (a) {\n        if (this.l) {\n            this.ab(a);\n            this.l = false;\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$h = function (a) {\n        if (this.f == null) {\n            return;\n        }\n        this.g.ab();\n    };\n    Object.defineProperty(SeriesViewerInteractionManager.prototype, \"g\", {\n        get: function () {\n            return this.f;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SeriesViewerInteractionManager.prototype.af = function (a) {\n        if (this.f == null) {\n            this.f = new TileZoomManager(a, true, a.hb);\n            this.f.h = !a.e0;\n        }\n        a.d4 = true;\n        a.ne();\n        this.f.al();\n        a.cq.br();\n        a.cq.bs();\n    };\n    SeriesViewerInteractionManager.prototype.ab = function (a) {\n        if (this.f == null) {\n            return;\n        }\n        a.d4 = false;\n        a.cq.dg();\n        this.f.ah();\n        a.ny();\n        a.cq.by();\n    };\n    SeriesViewerInteractionManager.prototype.f$j = function (a) {\n        a.k1();\n        a.n0();\n    };\n    SeriesViewerInteractionManager.prototype.n = function (a) {\n        return a.ch == 2;\n    };\n    SeriesViewerInteractionManager.prototype.o = function (a, b) {\n        return a.b7 == 1 || b || a.dk;\n    };\n    SeriesViewerInteractionManager.prototype.m = function (a) {\n        return a.ch == 1;\n    };\n    SeriesViewerInteractionManager.prototype.f$m = function (a, b, c) {\n        var d = a.cq;\n        if (this.j) {\n            a.a6.onScrollbarDrag(b, c);\n            return;\n        }\n        if (this.aj.isEmpty && c) {\n            this.ag(a, b, c);\n        }\n        var e = 2;\n        if (c) {\n            e = 10;\n        }\n        var f = false;\n        var g = new Rect(2, { $type: Point_$type, x: this.aj.x, y: this.aj.y }, b);\n        var h = new Rect(0, 0, 0, 0, 0);\n        if (!this.ak.isEmpty) {\n            h = new Rect(2, { $type: Point_$type, x: this.ak.x, y: this.ak.y }, b);\n        }\n        if (h.width > e && h.height > e) {\n            f = true;\n        }\n        if (!a.ez) {\n            if (f) {\n                this.i = false;\n            }\n        }\n        if (!a.ez && (a.dp || !c)) {\n            a.k3(a.r9(b));\n        }\n        if (this.m(a)) {\n            if (f) {\n                var i = a.st(g);\n                a.nf(i, true);\n            }\n            else {\n                a.nf(Rect.empty, true);\n            }\n            a.l2();\n            d.eg(g);\n        }\n        var j = a.su;\n        var k = a.sf;\n        if (this.n(a)) {\n            var l = j;\n            var m = k.left + k.width * (this.aj.x - b.x) / l.width;\n            var n = k.top + k.height * (this.aj.y - b.y) / l.height;\n            var o = new Rect(0, m, n, k.width, k.height);\n            if (this.o(a, c)) {\n                if (h.width != 0 || h.height != 0) {\n                    a.na();\n                }\n                a.nf(Rect.empty, true);\n                var p = a.sf;\n                a.ot(o, true);\n                var q = a.sf;\n                if (p.equals1(q) && a.cq.k.ac) {\n                    a.cq.k.au();\n                }\n                this.aj = new Rect(3, b, new Size(1, 0, 0));\n                this.al = new Rect(3, b, new Size(1, 0, 0));\n            }\n            else {\n                a.nf(o, true);\n            }\n        }\n        this.al = new Rect(3, b, new Size(1, 0, 0));\n        d.bu(b);\n    };\n    SeriesViewerInteractionManager.prototype.f$l = function (a, b, c, d) {\n        var e = a.cq;\n        var f = 2;\n        if (c) {\n            f = 10;\n        }\n        var g = a.su;\n        var h = a.sf;\n        if (!d) {\n            if (this.j) {\n                this.f$c.onScrollbarDragComplete(b, c);\n                this.j = false;\n                e.bw();\n                return;\n            }\n        }\n        if (!this.i) {\n            var i = false;\n            var j = new Rect(2, { $type: Point_$type, x: this.aj.x, y: this.aj.y }, b);\n            if (j.width > f && j.height > f) {\n                i = true;\n            }\n            if (a.ch == 1) {\n                a.l1();\n                e.cf();\n                if (i) {\n                    a.ot(a.st(j), true);\n                }\n            }\n            if (a.ch == 2) {\n                var k = g;\n                var l = h.left + h.width * (this.aj.x - b.x) / k.width;\n                var m = h.top + h.height * (this.aj.y - b.y) / k.height;\n                a.ot(new Rect(0, l, m, h.width, h.height), true);\n            }\n        }\n        var n = false;\n        var o = new Rect(2, { $type: Point_$type, x: this.ak.x, y: this.ak.y }, b);\n        if (o.width > f || o.height > f) {\n            n = true;\n        }\n        if (n) {\n            a.e7 = true;\n        }\n        a.ch = 0;\n        a.nf(Rect.empty, true);\n        e.bw();\n        a.e7 = false;\n        e.cg();\n        e.cl();\n        if (c) {\n            e.ck();\n            e.cg();\n            e.cl();\n            e.ch();\n        }\n        a.lc();\n        a.m9();\n        a.mu(b, c, d);\n    };\n    SeriesViewerInteractionManager.prototype.f$af = function (a) {\n        if (this.g != null) {\n            this.g.h = !a.e0;\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$e = function (a, b) {\n        var c = a.cq;\n        var d = a.sf;\n        if (a.ch == 2 && b == 8) {\n            c.bt();\n            a.ch = 0;\n            a.m9();\n            a.nf(Rect.empty, true);\n            if (a.b7 == 1) {\n                a.ot(this.am, true);\n            }\n            return true;\n        }\n        if (a.ch == 1 && b == 8) {\n            c.bt();\n            a.ch = 0;\n            a.m9();\n            c.cf();\n            a.nf(Rect.empty, true);\n            return true;\n        }\n        var e = Rect.empty;\n        var f = false;\n        switch (b) {\n            case 13:\n                f = true;\n                e = new Rect(0, 0, 0, 1, 1);\n                break;\n            case 11:\n                f = true;\n                e = new Rect(0, d.left - 0.1 * d.width, d.top - 0.1 * d.height, 1.2 * d.width, 1.2 * d.height);\n                break;\n            case 10:\n                f = true;\n                e = new Rect(0, d.left + 0.1 * d.width, d.top + 0.1 * d.height, 0.8 * d.width, 0.8 * d.height);\n                break;\n            case 14:\n                f = true;\n                e = new Rect(0, d.left - 0.1 * d.width, d.top, d.width, d.height);\n                e.x = e.x - Math.min(e.left, 0);\n                break;\n            case 16:\n                f = true;\n                e = new Rect(0, d.left + 0.1 * d.width, d.top, d.width, d.height);\n                e.x = e.x - Math.max(e.right - 1, 0);\n                break;\n            case 15:\n                f = true;\n                e = new Rect(0, d.left, d.top - 0.1 * d.height, d.width, d.height);\n                e.y = e.y - Math.min(e.top, 0);\n                break;\n            case 17:\n                f = true;\n                e = new Rect(0, d.left, d.top + 0.1 * d.height, d.width, d.height);\n                e.y = e.y - Math.max(e.bottom - 1, 0);\n                break;\n        }\n        if (!e.isEmpty && Rect.l_op_Inequality(e, d)) {\n            a.ot(e, true);\n        }\n        return f;\n    };\n    SeriesViewerInteractionManager.prototype.f$f = function (a, b, c) {\n        var d = a.cq;\n        var e = a.sf;\n        var f = e.left + e.width * b.x / a.su.width;\n        var g = e.top + e.height * b.y / a.su.height;\n        var h = 1 - MathUtil.c(c, -0.5, 0.5);\n        var i = Math.max(0, f - h * (f - e.left));\n        var j = Math.min(1, g + h * (e.bottom - g));\n        var k = Math.min(1, f + h * (e.right - f));\n        var l = Math.max(0, g - h * (g - e.top));\n        a.na();\n        this.x(a, 1000);\n        a.ot(new Rect(0, i, l, k - i, j - l), true);\n        return a.el();\n    };\n    SeriesViewerInteractionManager.prototype.x = function (a, b) {\n        a.cq.bz(b);\n    };\n    SeriesViewerInteractionManager.prototype.f$o = function (a, b) {\n        var c = a.sf;\n        var d = c.left + c.width * b.x / a.su.width;\n        var e = c.top + c.height * b.y / a.su.height;\n        var f = 0.7;\n        var g = Math.max(0, d - f * (d - c.left));\n        var h = Math.min(1, e + f * (c.bottom - e));\n        var i = Math.min(1, d + f * (c.right - d));\n        var j = Math.max(0, e - f * (e - c.top));\n        a.ot(new Rect(0, g, j, i - g, h - j), true);\n    };\n    SeriesViewerInteractionManager.prototype.f$i = function (a) {\n        this.g.ac();\n    };\n    SeriesViewerInteractionManager.prototype.f$d = function (a, b, c, d, e, f, g) {\n        var e_2, _a;\n        var h = true;\n        var i = false;\n        var j = false;\n        var k = a;\n        if (k.as == 1) {\n            h = false;\n            i = true;\n        }\n        if (k.as == 3 || k.as == 4) {\n            i = true;\n        }\n        if (k.as == 4) {\n            j = true;\n        }\n        var l = truncate(Math.round(d.x));\n        var m = truncate(Math.round(d.y));\n        f = null;\n        var n = -1;\n        if (h && c != null) {\n            var o = l;\n            var p = m;\n            if (a.f4 != 1) {\n                o = truncate(Math.round(d.x * a.f4));\n                p = truncate(Math.round(d.y * a.f4));\n            }\n            var q = c.a(o, p);\n            if (q == null || q.length == 0) {\n                f = null;\n                return {\n                    ret: null,\n                    p5: f\n                };\n            }\n            if ((q[0] > 0 || q[1] > 0 || q[2] > 0) && q[3] == 255) {\n                var num2_ = q[2];\n                if (num2_ % 4 != 0) {\n                    num2_ = num2_ + (4 - (num2_ % 4));\n                }\n                var num1_ = q[1];\n                if (num1_ % 4 != 0) {\n                    num1_ = num1_ + (4 - (num1_ % 4));\n                }\n                var num0_ = q[0];\n                if (num0_ % 4 != 0) {\n                    num0_ = num0_ + (4 - (num0_ % 4));\n                }\n                var num_ = 0;\n                num_ = (num2_ >> 2);\n                num_ = (num_ << 6);\n                num_ = (num_ | (num1_ >> 2));\n                num_ = (num_ << 6);\n                num_ = (num_ | (num0_ >> 2));\n                n = truncate(Math.floor((intDivide(num_, 1000))));\n                n--;\n            }\n        }\n        var r = null;\n        var s = -1;\n        if (n >= 0) {\n            var t_1 = false;\n            var u_1 = 0;\n            try {\n                for (var _b = __values(fromEnum(b)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var v = _c.value;\n                    if (!v.el) {\n                        continue;\n                    }\n                    if (t_1) {\n                        break;\n                    }\n                    if (v.isStacked) {\n                        v.la(function (w) {\n                            if (w.ho == n) {\n                                r = w;\n                                s = u_1;\n                                t_1 = true;\n                                return false;\n                            }\n                            return true;\n                        });\n                    }\n                    else if (v.ho == n) {\n                        r = v;\n                        s = u_1;\n                        break;\n                    }\n                    u_1++;\n                }\n            }\n            catch (e_2_1) {\n                e_2 = { error: e_2_1 };\n            }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return))\n                        _a.call(_b);\n                }\n                finally {\n                    if (e_2)\n                        throw e_2.error;\n                }\n            }\n        }\n        var w = null;\n        if (i) {\n            var x = false;\n            for (var y = b.count - 1; y >= 0; y--) {\n                var z = b._inner[y];\n                if (!z.el) {\n                    continue;\n                }\n                var aa = z.b0;\n                if (!z.e9(aa.bu, aa.bv, aa)) {\n                    continue;\n                }\n                if (!x && y < s && h && !j) {\n                    if (r != null) {\n                        w = r;\n                        x = true;\n                        break;\n                    }\n                }\n                if (z != null && z.bo == 1) {\n                    if (z.ev(d, g)) {\n                        w = z;\n                        break;\n                    }\n                }\n            }\n            if (h && !x) {\n                if (r != null) {\n                    w = r;\n                    x = true;\n                }\n            }\n        }\n        else {\n            w = r;\n        }\n        if (w != null) {\n            var ab = w.at({ $type: Point_$type, x: l, y: m }, g);\n            if (ab != null) {\n                f = ab;\n            }\n            return {\n                ret: w,\n                p5: f\n            };\n        }\n        return {\n            ret: null,\n            p5: f\n        };\n    };\n    SeriesViewerInteractionManager.prototype.f$g = function (a, b) {\n        if (PointUtil.equals(b, null)) {\n            return false;\n        }\n        var c = b.x;\n        var d = b.y;\n        if (this.j) {\n            return true;\n        }\n        if (c >= a.su.left && d >= a.su.top && c <= a.su.left + a.su.width && d <= a.su.top + a.su.height) {\n            var e = a.cj;\n            if (e != null && e.viewShouldInteract(b)) {\n                return false;\n            }\n            return true;\n        }\n        return false;\n    };\n    SeriesViewerInteractionManager.prototype.c = function (a) {\n        if (a != null) {\n            return a.bf();\n        }\n        else {\n            return null;\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$w = function (a, b, c, d, e, f) {\n        var _this = this;\n        if (!f && a.dj) {\n            this.ah(a, false);\n        }\n        var g = new MouseEventArgs();\n        g.position = d;\n        if (a.ch == 2 || a.ch == 1 || a.ez || (a.cj != null && a.cj.isPinching)) {\n            if (this.d != null) {\n                this.d.a6.a$z(this.d, g.position, this.a, g, f);\n                this.d = null;\n            }\n            return;\n        }\n        var h = null;\n        var i = ((function () { var j = _this.f$d(a, b, c, d, !e, h, f); h = j.p5; return j.ret; })());\n        this.a = h;\n        var j = this.c(i);\n        if (i != null) {\n            var k = false;\n            var l = false;\n            if (this.d != i) {\n                l = true;\n            }\n            if (this.d == null || l) {\n                k = true;\n            }\n            if (k) {\n                if (l) {\n                    if (this.d != null) {\n                        j = this.c(this.d);\n                        this.d.a6.a$z(this.d, g.position, h, g, f);\n                        if (j != null) {\n                            j.a6.a$z(j, g.position, h, g, f);\n                        }\n                    }\n                }\n                this.d = i;\n                i.lv(g.position, h, g, f);\n                if (j != null) {\n                    j.lv(g.position, h, g, f);\n                }\n            }\n            else {\n                this.d = i;\n                i.a6.a$ab(i, g.position, h, g, f);\n                if (j != null) {\n                    j.a6.a$ab(j, g.position, h, g, f);\n                }\n            }\n        }\n        else {\n            if (this.d != null) {\n                j = this.c(this.d);\n                this.d.a6.a$z(this.d, g.position, h, g, f);\n                if (j != null) {\n                    j.a6.a$z(j, g.position, h, g, f);\n                }\n                this.d = null;\n            }\n            for (var m = 0; m < a.series.count; m++) {\n                var n = a.series._inner[m];\n                if (n.a6.a$b) {\n                    j = this.c(n);\n                    n.a6.a$z(n, g.position, n.a6.a$p, g, f);\n                    if (j != null) {\n                        j.a6.a$z(j, g.position, n.a6.a$p, g, f);\n                    }\n                }\n            }\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$v = function (a, b) {\n        if (this.d != null) {\n            var c = this.c(this.d);\n            var d = new MouseEventArgs();\n            d.position = b;\n            this.d.a6.a$z(this.d, d.position, null, d, false);\n            if (c != null) {\n                c.a6.a$z(c, d.position, null, d, false);\n            }\n            this.d = null;\n        }\n        a.mo(b, a.ch != 0 || a.eq);\n    };\n    SeriesViewerInteractionManager.prototype.f$u = function (a, b, c) {\n        if (this.d != null) {\n            var d = new MouseButtonEventArgs();\n            d.position = c;\n            if (b.al) {\n                this.d.a6.a$ac(this.d, d.position, this.a, d);\n            }\n            else {\n                this.d.a6.a$w(this.d, d.position, this.a, d);\n            }\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$x = function (a, b, c) {\n        var d;\n        var e = (this.d != null) ? this.d : ((function () { var f = a.cq.f(c, false, d, false); d = f.p2; return f.ret; })());\n        if (e != null) {\n            var f = new MouseButtonEventArgs();\n            f.position = c;\n            if (b.al) {\n                e.a6.a$ad(e, f.position, this.a, f);\n            }\n            else {\n                e.a6.a$aa(e, f.position, this.a, f);\n            }\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$t = function (a, b, c) {\n        if (!c && a.es) {\n            this.ah(a, false);\n        }\n        if (c && !a.es) {\n            this.ah(a, true);\n        }\n        a.l6(b, c);\n    };\n    SeriesViewerInteractionManager.prototype.ah = function (a, b) {\n        if (a != null) {\n            if (!this.k) {\n                a.dj = b;\n            }\n        }\n    };\n    SeriesViewerInteractionManager.prototype.f$aa = function (a, b) {\n        this.h = true;\n    };\n    Object.defineProperty(SeriesViewerInteractionManager.prototype, \"k\", {\n        get: function () {\n            return this.h;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SeriesViewerInteractionManager.$t = markType(SeriesViewerInteractionManager, 'SeriesViewerInteractionManager', Base.$, [ISeriesViewerInteractionManager_$type]);\n    return SeriesViewerInteractionManager;\n}(Base));\nexport { SeriesViewerInteractionManager };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}