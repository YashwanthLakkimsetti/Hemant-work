{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { ScatterBase } from \"./ScatterBase\";\nimport { IScaleLegendSeries_$type } from \"igniteui-react-core\";\nimport { ISupportsSizeScale_$type } from \"./ISupportsSizeScale\";\nimport { ISupportsFillScale_$type } from \"./ISupportsFillScale\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { UIElement } from \"igniteui-react-core\";\nimport { Base, typeCast, Point_$type, fromEnum, markType, markDep, enumGetBox, runOn } from \"igniteui-react-core\";\nimport { ActualRange } from \"./ActualRange\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { SizeScale } from \"./SizeScale\";\nimport { BrushScale } from \"./BrushScale\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { IChartLegend_$type } from \"igniteui-react-core\";\nimport { ValueBrushScale } from \"./ValueBrushScale\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { ScatterBaseView } from \"./ScatterBaseView\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { OwnedPoint } from \"./OwnedPoint\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { BubbleMarkerManager } from \"./BubbleMarkerManager\";\nimport { IChartItemLegend_$type } from \"igniteui-react-core\";\nimport { IChartScaleLegend_$type } from \"igniteui-react-core\";\nimport { ContentControl } from \"igniteui-react-core\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_, isInfinity, logBase } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { BrushSelectionMode_$type } from \"./BrushSelectionMode\";\nimport { ScatterTrendLineManager } from \"./ScatterTrendLineManager\";\nimport { Defaults } from \"./Defaults\";\n/**\n * @hidden\n */\n\nvar BubbleSeries =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(BubbleSeries, _super);\n\n  function BubbleSeries() {\n    var _this = _super.call(this) || this;\n\n    _this.wu = null;\n    _this.wt = null;\n    _this.vh = null;\n    _this.u9 = null;\n    _this.u8 = null;\n    _this.u7 = null;\n    _this.u5 = null;\n    _this.ab = BubbleSeries.$;\n    _this.r2 = new ScatterFrame();\n    _this.r4 = new ScatterFrame();\n    _this.r0 = new ScatterFrame();\n    return _this;\n  }\n\n  BubbleSeries.prototype.get_c4 = function () {\n    return true;\n  };\n\n  BubbleSeries.prototype.bx = function () {\n    return new BubbleSeriesView(this);\n  };\n\n  BubbleSeries.prototype.ly = function (a) {\n    _super.prototype.ly.call(this, a);\n\n    this.u4 = a;\n  };\n\n  BubbleSeries.prototype.gv = function () {\n    return 0.7;\n  };\n\n  BubbleSeries.prototype.p6 = function () {\n    if (this.p5 == 0) {\n      return 2;\n    }\n\n    return _super.prototype.p6.call(this);\n  };\n\n  BubbleSeries.prototype.isAttachedTo = function (a) {\n    return this.a1 == a;\n  };\n\n  BubbleSeries.prototype.c3 = function () {\n    return true;\n  };\n\n  BubbleSeries.prototype.k9 = function (a) {\n    _super.prototype.k9.call(this, a);\n\n    if (this.vc != null && this.vh != null && this.vh.count > 0) {\n      for (var b = 0; b < this.vh.count; b++) {\n        a(this.vh._inner[b]);\n      }\n    }\n  };\n\n  Object.defineProperty(BubbleSeries.prototype, \"vb\", {\n    get: function get() {\n      return this.vd;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  BubbleSeries.prototype.ws = function (a) {\n    var b = typeCast(CustomPaletteBrushScale.$, this.u3);\n    var c = typeCast(ValueBrushScale.$, this.u3);\n    var d = this.u3;\n\n    if (b != null && this.ck != null) {\n      return b.getBrush1(a, this.ck.count);\n    } else if (c != null) {\n      return c.getBrushByIndex(a, this.va);\n    } else if (d != null) {\n      return d.getBrush(a);\n    }\n\n    return null;\n  };\n\n  Object.defineProperty(BubbleSeries.prototype, \"legendReady\", {\n    get: function get() {\n      return this.vd != null && this.vd.count != 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BubbleSeries.prototype, \"minScaleText\", {\n    get: function get() {\n      var a = this.u2(this.u6).b;\n      return (Math.round(a * 1000) / 1000).toString();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BubbleSeries.prototype, \"maxScaleText\", {\n    get: function get() {\n      var a = this.u2(this.u6).a;\n      return (Math.round(a * 1000) / 1000).toString();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  BubbleSeries.prototype.forScaleColors = function (a) {\n    for (var b = 0; b < this.vd.count; b++) {\n      if (this.u3 == null || !this.u3.isReady) {\n        return false;\n      }\n\n      var c = NaN;\n\n      if (this.va != null) {\n        c = (this.va.item(b) - this.va.minimum) / (this.va.maximum - this.va.minimum);\n      }\n\n      var d = (this.vd.item(b) - this.vd.minimum) / (this.vd.maximum - this.vd.minimum);\n\n      if (isNaN_(c)) {\n        c = 0;\n      }\n\n      if (isNaN_(d)) {\n        d = c;\n      }\n\n      var e = this.rc;\n      var f = this.ws(b);\n      var g = f != null ? f : e;\n      a(g, d);\n    }\n\n    return true;\n  };\n\n  BubbleSeries.prototype.hw = function (a, b) {\n    var c = this.jq(b);\n\n    if (c == BubbleSeries.$$p[5]) {\n      return this.hx(a, b, this.vw);\n    }\n\n    if (c == BubbleSeries.$$p[11]) {\n      return this.hx(a, b, this.v6);\n    }\n\n    if (c == ScatterBase.$$p[10]) {\n      return this.hx(a, b, this.td);\n    }\n\n    if (c == ScatterBase.$$p[14]) {\n      return this.hx(a, b, this.tl);\n    }\n\n    if (c == BubbleSeries.$$p[2]) {\n      return this.hx(a, b, this.vr);\n    }\n\n    return _super.prototype.hw.call(this, a, b);\n  };\n\n  Object.defineProperty(BubbleSeries.prototype, \"vd\", {\n    get: function get() {\n      return this.u9;\n    },\n    set: function set(a) {\n      if (this.u9 != a) {\n        var b = this.vd;\n        this.u9 = a;\n        this.raisePropertyChanged(\"RadiusColumn\", b, this.vd);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BubbleSeries.prototype, \"vc\", {\n    get: function get() {\n      return this.u8;\n    },\n    set: function set(a) {\n      if (this.u8 != a) {\n        var b = this.vc;\n        this.u8 = a;\n        this.raisePropertyChanged(\"LabelColumn\", b, this.vc);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BubbleSeries.prototype, \"va\", {\n    get: function get() {\n      return this.u7;\n    },\n    set: function set(a) {\n      if (this.u7 != a) {\n        var b = this.va;\n        this.u7 = a;\n        this.raisePropertyChanged(\"FillColumn\", b, this.va);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  BubbleSeries.prototype.to = function (a, b, c, d, e) {\n    if (c <= this.sx) {\n      b.g = new Dictionary$2(Base.$, OwnedPoint.$, 1, c);\n    }\n\n    var f = this.sx;\n    var g = this.ck;\n    var h;\n    var i;\n    var j = this.getEffectiveViewport1(a);\n    var k = new ScalerParams(0, d, e, this.rw.d, j);\n    var l = new ScalerParams(0, d, e, this.rw.e, j);\n    var m = false;\n    var n = 0;\n\n    if (this.cd != null) {\n      if (this.cd.e3()) {\n        var o = this.cd.ku(d, k);\n        m = o.c;\n        n = o.d;\n      }\n    }\n\n    var _loop_1 = function _loop_1(p) {\n      h = this_1.sc.item(p);\n      i = this_1.sd.item(p);\n      var q = {\n        $type: Point_$type,\n        x: this_1.rw.a.ei(h, k),\n        y: this_1.rw.b.ei(i, l)\n      };\n\n      if (m) {\n        if (q.x < e.left || q.x > e.right) {\n          if (q.x + n >= e.left && q.x + n <= e.right) {\n            q = {\n              $type: Point_$type,\n              x: q.x + n,\n              y: i\n            };\n          }\n        }\n      }\n\n      if (!isInfinity(q.x) && !isInfinity(q.y)) {\n        var r_1 = g.item(p);\n\n        if (c <= f) {\n          if (!b.g.containsKey(r_1)) {\n            var s_1 = {\n              $type: Point_$type,\n              x: h,\n              y: i\n            };\n            b.g.addItem(r_1, function () {\n              var $ret = new OwnedPoint();\n              $ret.a = r_1;\n              $ret.b = s_1;\n              $ret.c = q;\n              return $ret;\n            }());\n          }\n        }\n      }\n    };\n\n    var this_1 = this;\n\n    for (var p = 0; p < c; p++) {\n      _loop_1(p);\n    }\n  };\n\n  BubbleSeries.prototype.tw = function (a, b) {\n    var c = typeCast(BubbleSeriesView.$, b);\n    var d = c.cv;\n    d.m = this.vd;\n\n    _super.prototype.tw.call(this, a, b);\n\n    var e = Math.min(this.sc != null ? this.sc.count : 0, this.sd != null ? this.sd.count : 0);\n\n    if (e < 1) {\n      return;\n    }\n\n    c.dh();\n    c.di();\n  };\n\n  BubbleSeries.prototype.wb = function () {\n    if (this.cd == null) {\n      return;\n    }\n\n    if (this.a1 == null) {\n      return;\n    }\n\n    if (this.a1.isItemwise) {\n      var a = this.a1;\n      this.a1.clearLegendItemsForSeries(this);\n      this.wa();\n      a.renderItemwiseContent(this);\n    }\n\n    if (this.a1.isScale) {\n      var b = this.a1;\n      b.restoreOriginalState();\n      b.initializeLegend(this);\n    }\n  };\n\n  BubbleSeries.vi = function (a, b, c, d, e) {\n    if (e <= a || isNaN_(e) || isInfinity(e)) {\n      return c;\n    }\n\n    if (e >= b) {\n      return d;\n    }\n\n    var f = c + (d - c) / (b - a) * (e - a);\n    return f;\n  };\n\n  BubbleSeries.vj = function (a, b, c, d, logBase_, e) {\n    var f = logBase(e, logBase_);\n    var g = logBase(a, logBase_);\n    var h = logBase(b, logBase_);\n    return BubbleSeries.vi(g, h, c, d, f);\n  };\n\n  BubbleSeries.prototype.e9 = function (a, b, c) {\n    var d = _super.prototype.e9.call(this, a, b, c);\n\n    if (this.vd == null || this.ck == null || this.vd.count == 0 || this.ck.count != this.vd.count) {\n      d = false;\n    }\n\n    return d;\n  };\n\n  BubbleSeries.prototype.sl = function (a, b) {\n    if (b != 3) {\n      return true;\n    }\n\n    if (a == null) {\n      return true;\n    }\n\n    if (this.td == a || this.tl == a || this.v6 == a) {\n      return true;\n    }\n\n    return false;\n  };\n\n  BubbleSeries.prototype.wa = function () {\n    var _this = this;\n\n    var a = typeCast(IChartLegend_$type, this.a1);\n\n    if (a == null || this.ck == null) {\n      return;\n    }\n\n    this.vh = new List$1(UIElement.$, 0);\n    var b = typeCast(CustomPaletteBrushScale.$, this.u3);\n    var c = typeCast(ValueBrushScale.$, this.u3);\n    var d = this.u3;\n    var e = this.u1();\n    var f = e.b;\n    var g = e.a;\n    var h = this.ck;\n\n    var _loop_2 = function _loop_2(i) {\n      var j = null;\n\n      if (c != null && this_2.va != null) {\n        var k = this_2.va.item(i);\n        j = c.getBrushByRange(k, f, g);\n      } else if (b != null) {\n        j = b.getBrush1(i, h.count);\n      } else if (d != null) {\n        j = d.getBrush(i);\n      }\n\n      var l = new ContentControl();\n      var m = this_2.vc != null && this_2.vc.item(i) != null ? this_2.vc.item(i).toString() : \"\";\n\n      l.content = function () {\n        var $ret = new DataContext();\n        $ret.series = _this;\n        $ret.item = h.item(i);\n        $ret.itemBrush = j;\n        $ret.itemLabel = m;\n        return $ret;\n      }();\n\n      var n = this_2.nb;\n\n      if (n == null) {\n        n = this_2.b0.bl(this_2.b5);\n      }\n\n      l.ah = n;\n      this_2.vh.add(l);\n    };\n\n    var this_2 = this;\n\n    for (var i = 0; i < h.count; i++) {\n      _loop_2(i);\n    }\n  };\n\n  BubbleSeries.prototype.k0 = function (a, b, c, d) {\n    _super.prototype.k0.call(this, a, b, c, d);\n\n    if (this.u6 != null) {\n      this.u6.aa();\n    }\n\n    if (this.u3 != null) {\n      this.u3.x();\n    }\n\n    this.wb();\n  };\n\n  BubbleSeries.prototype.lh = function () {\n    _super.prototype.lh.call(this);\n\n    this.wb();\n  };\n\n  BubbleSeries.prototype.ln = function () {\n    _super.prototype.ln.call(this);\n\n    this.wb();\n  };\n\n  BubbleSeries.prototype.l3 = function (a, b, c, d) {\n    var e_1, _a;\n\n    _super.prototype.l3.call(this, a, b, c, d);\n\n    switch (b) {\n      case \"FastItemsSource\":\n        if (this.u6 != null) {\n          this.u6.aa();\n        }\n\n        if (this.u3 != null) {\n          this.u3.x();\n        }\n\n        if (typeCast(IFastItemsSource_$type, c) != null) {\n          c.deregisterColumn(this.vd);\n          c.deregisterColumn(this.va);\n          c.deregisterColumn(this.vc);\n          this.vd = null;\n          this.va = null;\n          this.vc = null;\n        }\n\n        if (typeCast(IFastItemsSource_$type, d) != null) {\n          this.vd = this.ch(this.v6);\n\n          if (!stringIsNullOrEmpty(this.vr)) {\n            this.va = this.ch(this.vr);\n          }\n\n          this.vc = this.cj(this.vw);\n        }\n\n        this.mh(false);\n        this.wb();\n        break;\n\n      case BubbleSeries.$$p[11]:\n        if (this.u6 != null) {\n          this.u6.aa();\n        }\n\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.vd);\n          this.vd = this.ch(this.v6);\n          this.wb();\n        }\n\n        break;\n\n      case \"RadiusColumn\":\n        if (this.u6 != null) {\n          this.u6.aa();\n        }\n\n        this.rx.cx.g$i();\n        this.mh(false);\n        this.lp();\n        break;\n\n      case BubbleSeries.$$p[12]:\n        if (c != null) {\n          c.l.remove(this);\n          c.aa();\n        }\n\n        if (d != null) {\n          d.l.add(this);\n          d.aa();\n        }\n\n        this.mh(false);\n        this.lo();\n        break;\n\n      case BubbleSeries.$$p[13]:\n        this.mh(false);\n        this.lo();\n        break;\n\n      case \"DiscreteLegendItemTemplate\":\n        this.wb();\n        break;\n\n      case BubbleSeries.$$p[3]:\n        if (c != null) {\n          c.o.remove(this);\n          c.x();\n        }\n\n        if (d != null) {\n          d.o.add(this);\n          d.x();\n        }\n\n        this.mh(false);\n        this.wb();\n        this.lo();\n        break;\n\n      case BubbleSeries.$$p[4]:\n      case BubbleSeries.$$p[8]:\n      case BubbleSeries.$$p[7]:\n      case BubbleSeries.$$p[6]:\n        this.mh(false);\n        this.wb();\n        this.lo();\n        break;\n\n      case \"FillColumn\":\n        this.mh(false);\n        this.lo();\n        break;\n\n      case BubbleSeries.$$p[2]:\n        if (this.u3 != null) {\n          this.u3.x();\n        }\n\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.va);\n          this.va = this.ch(this.vr);\n          this.wb();\n        }\n\n        break;\n\n      case BubbleSeries.$$p[5]:\n        if (this.ck != null) {\n          this.ck.deregisterColumn(this.vc);\n          this.vc = this.cj(this.vw);\n          this.wb();\n        }\n\n        break;\n\n      case \"ActualLegend\":\n        var e = typeCast(IChartLegend_$type, c);\n\n        if (e != null && e.isItemwise) {\n          var f = typeCast(IChartItemLegend_$type, e);\n          f.clearLegendItemsForSeries(this);\n        }\n\n        if (e != null && e.isScale) {\n          var g = typeCast(IChartScaleLegend_$type, e);\n          var h = true;\n          var i = null;\n\n          if (this.cd != null) {\n            try {\n              for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var j = _c.value;\n\n                if (j.legend == g) {\n                  i = j;\n                  h = false;\n                }\n              }\n            } catch (e_1_1) {\n              e_1 = {\n                error: e_1_1\n              };\n            } finally {\n              try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n              } finally {\n                if (e_1) throw e_1.error;\n              }\n            }\n          }\n\n          if (h) {\n            g.restoreOriginalState();\n          } else {\n            g.initializeLegend(typeCast(IScaleLegendSeries_$type, i));\n          }\n        }\n\n        this.wb();\n        break;\n\n      case \"SeriesViewer\":\n        this.wb();\n        break;\n    }\n  };\n\n  BubbleSeries.prototype.updateSizeScaleGlobals = function () {\n    var a = new ActualRange();\n    a.b = NaN;\n    a.a = NaN;\n\n    if (this.vd != null) {\n      a.b = this.vd.minimum;\n      a.a = this.vd.maximum;\n    }\n\n    if (this.u6 != null) {\n      this.u6.ab(a.b, a.a);\n    }\n  };\n\n  BubbleSeries.prototype.updateFillScaleGlobals = function () {\n    var a = new ActualRange();\n    a.b = NaN;\n    a.a = NaN;\n\n    if (this.va != null) {\n      a.b = this.va.minimum;\n      a.a = this.va.maximum;\n    }\n\n    if (this.u3 != null) {\n      this.u3.z(a.b, a.a);\n    }\n  };\n\n  BubbleSeries.prototype.u2 = function (a) {\n    var b = new ActualRange();\n    b.b = NaN;\n    b.a = NaN;\n\n    if (this.vd != null) {\n      b.b = this.vd.minimum;\n      b.a = this.vd.maximum;\n    }\n\n    if (a != null) {\n      a.x();\n\n      if (this.vg) {\n        b.b = a.globalMinimum;\n        b.a = a.globalMaximum;\n      }\n    }\n\n    return b;\n  };\n\n  BubbleSeries.prototype.u1 = function () {\n    var a = new ActualRange();\n    a.b = NaN;\n    a.a = NaN;\n\n    if (this.va != null) {\n      a.b = this.va.minimum;\n      a.a = this.va.maximum;\n    }\n\n    var b = typeCast(ValueBrushScale.$, this.u3);\n\n    if (b != null) {\n      b.s();\n\n      if (this.ve && this.u3.o.count > 1) {\n        a.b = b.q;\n        a.a = b.p;\n      }\n    }\n\n    return a;\n  };\n\n  BubbleSeries.prototype.wd = function (a, b, c, d) {\n    var e = c.width;\n\n    if (!this.b0.bu.isEmpty) {\n      e = this.b0.bu.width;\n    } else if (this.cd != null && !this.cd.su.isEmpty) {\n      e = this.cd.su.width;\n    }\n\n    var f = DeviceUtils.c(e);\n\n    this.u5 = this.u6 || function () {\n      var $ret = new SizeScale();\n      $ret.minimumValue = f / 10;\n      $ret.maximumValue = f / 5;\n      return $ret;\n    }();\n\n    if (this.u5 != null) {\n      var g = this.u5.minimumValue;\n      var h = this.u5.maximumValue;\n      var i = this.u5.logarithmBase;\n      var j = this.u2(this.u5);\n      var k = j.b;\n      var l = j.a;\n\n      if (this.u5.isLogarithmic) {\n        for (var m = 0; m < b.count; m++) {\n          b._inner[m] = BubbleSeries.vj(k, l, g, h, i, b._inner[m]);\n        }\n      } else {\n        for (var n = 0; n < b.count; n++) {\n          b._inner[n] = BubbleSeries.vi(k, l, g, h, b._inner[n]);\n        }\n      }\n    }\n\n    var o = 1;\n    o = DeviceUtils.d();\n    var p = this.u6 == null;\n\n    if (d) {\n      var q = c.width / e;\n\n      for (var r = 0; r < b.count; r++) {\n        if (p) {\n          b._inner[r] = b._inner[r] / o;\n        }\n\n        b._inner[r] = b._inner[r] * q;\n      }\n    }\n\n    for (var s = 0; s < a.count; s++) {\n      var t = a._inner[s];\n\n      if (p && !d) {\n        t.width = Math.max(0, b._inner[s] / o);\n        t.height = Math.max(0, b._inner[s] / o);\n      } else {\n        t.width = Math.max(0, b._inner[s]);\n        t.height = Math.max(0, b._inner[s]);\n      }\n    }\n  };\n\n  BubbleSeries.prototype.wc = function (a) {\n    var b = typeCast(BubbleSeriesView.$, this.bz);\n    this.u4.b3 = false;\n\n    if (b != null) {\n      b.b3 = false;\n    }\n\n    var c = typeCast(CustomPaletteBrushScale.$, this.u3);\n    var d = typeCast(ValueBrushScale.$, this.u3);\n    var e = this.u3;\n    var f = this.u1();\n    var g = f.b;\n    var h = f.a;\n    var i = this.u3 == null || !this.u3.isReady || d != null && this.vr == null;\n\n    if (i) {\n      this.u4.dg();\n\n      if (b != null) {\n        b.dg();\n      }\n\n      return;\n    }\n\n    this.u4.b3 = true;\n\n    if (b != null) {\n      b.b3 = true;\n    }\n\n    var j = a.count;\n    var k = this.ck;\n\n    for (var l = 0; l < j; l++) {\n      var m = a._inner[l];\n      var n = typeCast(DataContext.$, m.content);\n\n      if (n != null) {\n        var o = null;\n        var p = k.indexOf(n.item);\n\n        if (c != null) {\n          o = c.getBrush1(p, k.count);\n        } else if (d != null && this.va != null) {\n          var q = this.va.item(p);\n          o = d.getBrushByRange(q, g, h);\n        } else if (e != null) {\n          o = e.getBrush(p);\n        } else {\n          if (this.re == null) {\n            o = this.rc;\n          } else {\n            o = this.re;\n          }\n        }\n\n        var r = null;\n\n        if (this.rf == null) {\n          r = this.rd;\n        } else {\n          r = this.rf;\n        }\n\n        if (this.vf && o != null) {\n          r = o;\n        }\n\n        if (r != null && !isNaN_(this.vl)) {\n          r = BrushUtil.l(r, this.vl);\n        }\n\n        if (o != null && !isNaN_(this.vk)) {\n          o = BrushUtil.l(o, this.vk);\n        }\n\n        n.itemBrush = o;\n        n.actualItemBrush = o;\n        n.outline = r;\n      }\n    }\n  };\n\n  BubbleSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n    var c = {\n      $type: Point_$type,\n      x: a,\n      y: b\n    };\n    var d = this.ht(c);\n    var e = d == null ? NaN : this.gb(d, \"XMemberPath\");\n    var f = d == null ? NaN : this.gb(d, \"YMemberPath\");\n    var g = new DataLegendSeriesValueInfo();\n    g.a = 13;\n    g.l = e;\n    g.p = this.td != null ? this.td : \"X\";\n    g.q = this.s9 != null ? this.s9 : \"X:\";\n    g.r = this.tb != null ? this.tb : \"\";\n    var h = new DataLegendSeriesValueInfo();\n    h.l = f;\n    h.a = 14;\n    h.p = this.tl != null ? this.tl : \"Y\";\n    h.q = this.th != null ? this.th : \"Y:\";\n    h.r = this.tj != null ? this.tj : \"\";\n    var i = new DataLegendSeriesContext();\n\n    i.f = function () {\n      var $ret = new List$1(DataLegendSeriesValueInfo.$, 0);\n      $ret.add(g);\n      $ret.add(h);\n      return $ret;\n    }();\n\n    i.b = this.av();\n\n    if (!stringIsNullOrEmpty(this.v6)) {\n      var j = d == null ? NaN : this.gb(d, \"RadiusMemberPath\");\n      var k = new DataLegendSeriesValueInfo();\n      k.l = j;\n      k.a = 11;\n      k.p = this.v6 != null ? this.v6 : \"Radius\";\n      k.q = this.v2 != null ? this.v2 : \"R:\";\n      k.r = this.v4 != null ? this.v4 : \"\";\n      i.f.add(k);\n    } else if (this.u5 != null) {\n      var l = new DataLegendSeriesValueInfo();\n      l.l = this.u5.maximumValue;\n      l.a = 11;\n      l.p = this.v6 != null ? this.v6 : \"Radius\";\n      l.q = this.v2 != null ? this.v2 : \"R:\";\n      l.r = this.v4 != null ? this.v4 : \"\";\n      i.f.add(l);\n    }\n\n    if (!stringIsNullOrEmpty(this.vr)) {\n      var m = d == null ? NaN : this.gb(d, \"FillMemberPath\");\n      var n = new DataLegendSeriesValueInfo();\n      n.l = m;\n      n.a = 12;\n      n.p = this.vr != null ? this.vr : \"Fill\";\n      n.q = this.vn != null ? this.vn : \"F:\";\n      n.r = this.vp != null ? this.vp : \"\";\n      i.f.add(n);\n    }\n\n    return i;\n  };\n\n  Object.defineProperty(BubbleSeries.prototype, \"actualMarkerBrush\", {\n    get: function get() {\n      return this.rc;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  BubbleSeries.$t = markType(BubbleSeries, 'BubbleSeries', ScatterBase.$, [IScaleLegendSeries_$type, ISupportsSizeScale_$type, ISupportsFillScale_$type]);\n  BubbleSeries.$$p = markDep(DependencyProperty, PropertyMetadata, BubbleSeries, 'raisePropertyChanged', ['FillMemberAsLegendLabel:vn:we', [2, null], 'FillMemberAsLegendUnit:vp:wf', [2, null], 'FillMemberPath:vr:wg', [2], 'FillScale:u3:wh', [BrushScale.$], 'FillScaleUseGlobalValues:ve:wi', [0, false], 'LabelMemberPath:vw:wj', [2], 'MarkerBrushBrightness:vk:wk', [1, NaN], 'MarkerOutlineBrightness:vl:wl', [1, NaN], 'MarkerOutlineUsesFillScale:vf:wm', [0, false], 'RadiusMemberAsLegendLabel:v2:wn', [2, null], 'RadiusMemberAsLegendUnit:v4:wo', [2, null], 'RadiusMemberPath:v6:wp', [2, null], 'RadiusScale:u6:wq', [SizeScale.$], 'RadiusScaleUseGlobalValues:vg:wr', [0, false]]);\n  return BubbleSeries;\n}(ScatterBase);\n\nexport { BubbleSeries };\n/**\n * @hidden\n */\n\nvar CustomPaletteBrushScale =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(CustomPaletteBrushScale, _super);\n\n  function CustomPaletteBrushScale() {\n    return _super.call(this) || this;\n  }\n\n  CustomPaletteBrushScale.prototype.getBrush1 = function (a, b) {\n    if (this.brushes == null || this.brushes.count == 0) {\n      return null;\n    }\n\n    if (this.brushSelectionMode == 0) {\n      return _super.prototype.getBrush.call(this, a % this.brushes.count);\n    }\n\n    var c = BubbleSeries.vi(0, b - 1, 0, this.brushes.count - 1, a);\n    return this.ab(c);\n  };\n\n  CustomPaletteBrushScale.prototype.get_isReady = function () {\n    return this.brushes != null && this.brushes.count > 0;\n  };\n\n  CustomPaletteBrushScale.$t = markType(CustomPaletteBrushScale, 'CustomPaletteBrushScale', BrushScale.$);\n  CustomPaletteBrushScale.$$p = markDep(DependencyProperty, PropertyMetadata, CustomPaletteBrushScale, 'v', ['BrushSelectionMode', [BrushSelectionMode_$type, enumGetBox(BrushSelectionMode_$type, 0)]]);\n  return CustomPaletteBrushScale;\n}(BrushScale);\n\nexport { CustomPaletteBrushScale };\n/**\n * @hidden\n */\n\nvar BubbleSeriesView =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(BubbleSeriesView, _super);\n\n  function BubbleSeriesView(a) {\n    var _this = _super.call(this, a) || this;\n\n    _this.df = null;\n    _this.df = a;\n    _this.cx = new ScatterTrendLineManager();\n    return _this;\n  }\n\n  BubbleSeriesView.prototype.as = function () {\n    _super.prototype.as.call(this);\n\n    if (!this.q) {\n      this.b1.qc = Defaults.e;\n    }\n  };\n\n  BubbleSeriesView.prototype.cu = function () {\n    var _this = this;\n\n    return new BubbleMarkerManager(function (a) {\n      return _this.cy.item(a);\n    }, function (a) {\n      return _this.cw.rw.c.item(a);\n    }, runOn(this, this.c9), runOn(this, this.cr), runOn(this, this.cz));\n  };\n\n  BubbleSeriesView.prototype.dh = function () {\n    var a = this.cv;\n    this.df.wd(a.n, a.o, this.bu, this == this.e.bz);\n    this.aq();\n  };\n\n  BubbleSeriesView.prototype.di = function () {\n    var a = this.cv;\n    this.df.wc(a.n);\n  };\n\n  BubbleSeriesView.prototype.dg = function () {\n    var e_2, _a;\n\n    var a = this.cv;\n\n    try {\n      for (var _b = __values(fromEnum(a.n)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var b = _c.value;\n        var c = typeCast(DataContext.$, b.content);\n\n        if (c != null) {\n          c.itemBrush = null;\n          c.outline = null;\n        }\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n\n  BubbleSeriesView.prototype.getDefaultTooltipTemplate = function () {\n    var a = \"<div class='ui-chart-default-tooltip-content'><span\";\n    var b = this.e.a6.a$r(this.e);\n\n    if (!stringIsNullOrEmpty(b)) {\n      a += \" style='color:\" + b + \"'\";\n    }\n\n    a += \">\" + this.df.title + \"</span><br/><span>\" + \"(${item.\" + this.df.td + \"}, ${item.\" + this.df.tl + \"})</span>\";\n\n    if (!stringIsNullOrEmpty(this.df.v6)) {\n      a += \"<span>, Radius: ${item.\" + this.df.v6 + \"}</span>\";\n    }\n\n    a += \"</div>\";\n    return a;\n  };\n\n  BubbleSeriesView.$t = markType(BubbleSeriesView, 'BubbleSeriesView', ScatterBaseView.$);\n  return BubbleSeriesView;\n}(ScatterBaseView);\n\nexport { BubbleSeriesView };","map":{"version":3,"names":["__extends","__values","ScatterBase","IScaleLegendSeries_$type","ISupportsSizeScale_$type","ISupportsFillScale_$type","List$1","UIElement","Base","typeCast","Point_$type","fromEnum","markType","markDep","enumGetBox","runOn","ActualRange","DependencyProperty","SizeScale","BrushScale","ScatterFrame","IChartLegend_$type","ValueBrushScale","IFastItemsSource_$type","ScatterBaseView","ScalerParams","OwnedPoint","Dictionary$2","BubbleMarkerManager","IChartItemLegend_$type","IChartScaleLegend_$type","ContentControl","DataContext","DeviceUtils","BrushUtil","DataLegendSeriesValueInfo","DataLegendSeriesContext","PropertyMetadata","isNaN_","isInfinity","logBase","stringIsNullOrEmpty","BrushSelectionMode_$type","ScatterTrendLineManager","Defaults","BubbleSeries","_super","_this","call","wu","wt","vh","u9","u8","u7","u5","ab","$","r2","r4","r0","prototype","get_c4","bx","BubbleSeriesView","ly","a","u4","gv","p6","p5","isAttachedTo","a1","c3","k9","vc","count","b","_inner","Object","defineProperty","get","vd","enumerable","configurable","ws","CustomPaletteBrushScale","u3","c","d","ck","getBrush1","getBrushByIndex","va","getBrush","u2","u6","Math","round","toString","forScaleColors","isReady","NaN","item","minimum","maximum","e","rc","f","g","hw","jq","$$p","hx","vw","v6","td","tl","vr","set","raisePropertyChanged","to","sx","h","i","j","getEffectiveViewport1","k","rw","l","m","n","cd","e3","o","ku","_loop_1","p","this_1","sc","sd","q","$type","x","ei","y","left","right","r_1","containsKey","s_1","addItem","$ret","tw","cv","min","dh","di","wb","isItemwise","clearLegendItemsForSeries","wa","renderItemwiseContent","isScale","restoreOriginalState","initializeLegend","vi","vj","logBase_","e9","sl","u1","_loop_2","this_2","getBrushByRange","content","series","itemBrush","itemLabel","nb","b0","bl","b5","ah","add","k0","aa","lh","ln","l3","e_1","_a","deregisterColumn","ch","cj","mh","rx","cx","g$i","lp","remove","lo","_b","_c","next","done","value","legend","e_1_1","error","return","updateSizeScaleGlobals","updateFillScaleGlobals","z","vg","globalMinimum","globalMaximum","s","ve","wd","width","bu","isEmpty","su","minimumValue","maximumValue","logarithmBase","isLogarithmic","r","t","max","height","wc","bz","b3","dg","indexOf","re","rf","rd","vf","vl","vk","actualItemBrush","outline","getDataLegendSeriesContextAt","ht","gb","s9","tb","th","tj","av","v2","v4","vn","vp","$t","brushes","brushSelectionMode","get_isReady","df","as","b1","qc","cu","cy","cw","c9","cr","cz","aq","e_2","e_2_1","getDefaultTooltipTemplate","a6","a$r","title"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-charts/esm5/lib/BubbleSeries_combined.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { ScatterBase } from \"./ScatterBase\";\nimport { IScaleLegendSeries_$type } from \"igniteui-react-core\";\nimport { ISupportsSizeScale_$type } from \"./ISupportsSizeScale\";\nimport { ISupportsFillScale_$type } from \"./ISupportsFillScale\";\nimport { List$1 } from \"igniteui-react-core\";\nimport { UIElement } from \"igniteui-react-core\";\nimport { Base, typeCast, Point_$type, fromEnum, markType, markDep, enumGetBox, runOn } from \"igniteui-react-core\";\nimport { ActualRange } from \"./ActualRange\";\nimport { DependencyProperty } from \"igniteui-react-core\";\nimport { SizeScale } from \"./SizeScale\";\nimport { BrushScale } from \"./BrushScale\";\nimport { ScatterFrame } from \"./ScatterFrame\";\nimport { IChartLegend_$type } from \"igniteui-react-core\";\nimport { ValueBrushScale } from \"./ValueBrushScale\";\nimport { IFastItemsSource_$type } from \"igniteui-react-core\";\nimport { ScatterBaseView } from \"./ScatterBaseView\";\nimport { ScalerParams } from \"./ScalerParams\";\nimport { OwnedPoint } from \"./OwnedPoint\";\nimport { Dictionary$2 } from \"igniteui-react-core\";\nimport { BubbleMarkerManager } from \"./BubbleMarkerManager\";\nimport { IChartItemLegend_$type } from \"igniteui-react-core\";\nimport { IChartScaleLegend_$type } from \"igniteui-react-core\";\nimport { ContentControl } from \"igniteui-react-core\";\nimport { DataContext } from \"igniteui-react-core\";\nimport { DeviceUtils } from \"igniteui-react-core\";\nimport { BrushUtil } from \"igniteui-react-core\";\nimport { DataLegendSeriesValueInfo } from \"igniteui-react-core\";\nimport { DataLegendSeriesContext } from \"igniteui-react-core\";\nimport { PropertyMetadata } from \"igniteui-react-core\";\nimport { isNaN_, isInfinity, logBase } from \"igniteui-react-core\";\nimport { stringIsNullOrEmpty } from \"igniteui-react-core\";\nimport { BrushSelectionMode_$type } from \"./BrushSelectionMode\";\nimport { ScatterTrendLineManager } from \"./ScatterTrendLineManager\";\nimport { Defaults } from \"./Defaults\";\n/**\n * @hidden\n */\nvar BubbleSeries = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(BubbleSeries, _super);\n    function BubbleSeries() {\n        var _this = _super.call(this) || this;\n        _this.wu = null;\n        _this.wt = null;\n        _this.vh = null;\n        _this.u9 = null;\n        _this.u8 = null;\n        _this.u7 = null;\n        _this.u5 = null;\n        _this.ab = BubbleSeries.$;\n        _this.r2 = new ScatterFrame();\n        _this.r4 = new ScatterFrame();\n        _this.r0 = new ScatterFrame();\n        return _this;\n    }\n    BubbleSeries.prototype.get_c4 = function () {\n        return true;\n    };\n    BubbleSeries.prototype.bx = function () {\n        return new BubbleSeriesView(this);\n    };\n    BubbleSeries.prototype.ly = function (a) {\n        _super.prototype.ly.call(this, a);\n        this.u4 = a;\n    };\n    BubbleSeries.prototype.gv = function () {\n        return 0.7;\n    };\n    BubbleSeries.prototype.p6 = function () {\n        if (this.p5 == 0) {\n            return 2;\n        }\n        return _super.prototype.p6.call(this);\n    };\n    BubbleSeries.prototype.isAttachedTo = function (a) {\n        return this.a1 == a;\n    };\n    BubbleSeries.prototype.c3 = function () {\n        return true;\n    };\n    BubbleSeries.prototype.k9 = function (a) {\n        _super.prototype.k9.call(this, a);\n        if (this.vc != null && this.vh != null && this.vh.count > 0) {\n            for (var b = 0; b < this.vh.count; b++) {\n                a(this.vh._inner[b]);\n            }\n        }\n    };\n    Object.defineProperty(BubbleSeries.prototype, \"vb\", {\n        get: function () {\n            return this.vd;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BubbleSeries.prototype.ws = function (a) {\n        var b = typeCast(CustomPaletteBrushScale.$, this.u3);\n        var c = typeCast(ValueBrushScale.$, this.u3);\n        var d = this.u3;\n        if (b != null && this.ck != null) {\n            return b.getBrush1(a, this.ck.count);\n        }\n        else if (c != null) {\n            return c.getBrushByIndex(a, this.va);\n        }\n        else if (d != null) {\n            return d.getBrush(a);\n        }\n        return null;\n    };\n    Object.defineProperty(BubbleSeries.prototype, \"legendReady\", {\n        get: function () {\n            return this.vd != null && this.vd.count != 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BubbleSeries.prototype, \"minScaleText\", {\n        get: function () {\n            var a = this.u2(this.u6).b;\n            return (Math.round(a * 1000) / 1000).toString();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BubbleSeries.prototype, \"maxScaleText\", {\n        get: function () {\n            var a = this.u2(this.u6).a;\n            return (Math.round(a * 1000) / 1000).toString();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BubbleSeries.prototype.forScaleColors = function (a) {\n        for (var b = 0; b < this.vd.count; b++) {\n            if (this.u3 == null || !this.u3.isReady) {\n                return false;\n            }\n            var c = NaN;\n            if (this.va != null) {\n                c = (this.va.item(b) - this.va.minimum) / (this.va.maximum - this.va.minimum);\n            }\n            var d = (this.vd.item(b) - this.vd.minimum) / (this.vd.maximum - this.vd.minimum);\n            if (isNaN_(c)) {\n                c = 0;\n            }\n            if (isNaN_(d)) {\n                d = c;\n            }\n            var e = this.rc;\n            var f = this.ws(b);\n            var g = f != null ? f : e;\n            a(g, d);\n        }\n        return true;\n    };\n    BubbleSeries.prototype.hw = function (a, b) {\n        var c = this.jq(b);\n        if (c == BubbleSeries.$$p[5]) {\n            return this.hx(a, b, this.vw);\n        }\n        if (c == BubbleSeries.$$p[11]) {\n            return this.hx(a, b, this.v6);\n        }\n        if (c == ScatterBase.$$p[10]) {\n            return this.hx(a, b, this.td);\n        }\n        if (c == ScatterBase.$$p[14]) {\n            return this.hx(a, b, this.tl);\n        }\n        if (c == BubbleSeries.$$p[2]) {\n            return this.hx(a, b, this.vr);\n        }\n        return _super.prototype.hw.call(this, a, b);\n    };\n    Object.defineProperty(BubbleSeries.prototype, \"vd\", {\n        get: function () {\n            return this.u9;\n        },\n        set: function (a) {\n            if (this.u9 != a) {\n                var b = this.vd;\n                this.u9 = a;\n                this.raisePropertyChanged(\"RadiusColumn\", b, this.vd);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BubbleSeries.prototype, \"vc\", {\n        get: function () {\n            return this.u8;\n        },\n        set: function (a) {\n            if (this.u8 != a) {\n                var b = this.vc;\n                this.u8 = a;\n                this.raisePropertyChanged(\"LabelColumn\", b, this.vc);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BubbleSeries.prototype, \"va\", {\n        get: function () {\n            return this.u7;\n        },\n        set: function (a) {\n            if (this.u7 != a) {\n                var b = this.va;\n                this.u7 = a;\n                this.raisePropertyChanged(\"FillColumn\", b, this.va);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BubbleSeries.prototype.to = function (a, b, c, d, e) {\n        if (c <= this.sx) {\n            b.g = new Dictionary$2(Base.$, OwnedPoint.$, 1, c);\n        }\n        var f = this.sx;\n        var g = this.ck;\n        var h;\n        var i;\n        var j = this.getEffectiveViewport1(a);\n        var k = new ScalerParams(0, d, e, this.rw.d, j);\n        var l = new ScalerParams(0, d, e, this.rw.e, j);\n        var m = false;\n        var n = 0;\n        if (this.cd != null) {\n            if (this.cd.e3()) {\n                var o = this.cd.ku(d, k);\n                m = o.c;\n                n = o.d;\n            }\n        }\n        var _loop_1 = function (p) {\n            h = this_1.sc.item(p);\n            i = this_1.sd.item(p);\n            var q = { $type: Point_$type, x: this_1.rw.a.ei(h, k), y: this_1.rw.b.ei(i, l) };\n            if (m) {\n                if (q.x < e.left || q.x > e.right) {\n                    if (q.x + n >= e.left && q.x + n <= e.right) {\n                        q = { $type: Point_$type, x: q.x + n, y: i };\n                    }\n                }\n            }\n            if (!isInfinity(q.x) && !isInfinity(q.y)) {\n                var r_1 = g.item(p);\n                if (c <= f) {\n                    if (!b.g.containsKey(r_1)) {\n                        var s_1 = { $type: Point_$type, x: h, y: i };\n                        b.g.addItem(r_1, ((function () {\n                            var $ret = new OwnedPoint();\n                            $ret.a = r_1;\n                            $ret.b = s_1;\n                            $ret.c = q;\n                            return $ret;\n                        })()));\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var p = 0; p < c; p++) {\n            _loop_1(p);\n        }\n    };\n    BubbleSeries.prototype.tw = function (a, b) {\n        var c = typeCast(BubbleSeriesView.$, b);\n        var d = c.cv;\n        d.m = this.vd;\n        _super.prototype.tw.call(this, a, b);\n        var e = Math.min(this.sc != null ? this.sc.count : 0, this.sd != null ? this.sd.count : 0);\n        if (e < 1) {\n            return;\n        }\n        c.dh();\n        c.di();\n    };\n    BubbleSeries.prototype.wb = function () {\n        if (this.cd == null) {\n            return;\n        }\n        if (this.a1 == null) {\n            return;\n        }\n        if (this.a1.isItemwise) {\n            var a = this.a1;\n            this.a1.clearLegendItemsForSeries(this);\n            this.wa();\n            a.renderItemwiseContent(this);\n        }\n        if (this.a1.isScale) {\n            var b = this.a1;\n            b.restoreOriginalState();\n            b.initializeLegend(this);\n        }\n    };\n    BubbleSeries.vi = function (a, b, c, d, e) {\n        if (e <= a || isNaN_(e) || isInfinity(e)) {\n            return c;\n        }\n        if (e >= b) {\n            return d;\n        }\n        var f = c + ((d - c) / (b - a)) * (e - a);\n        return f;\n    };\n    BubbleSeries.vj = function (a, b, c, d, logBase_, e) {\n        var f = logBase(e, logBase_);\n        var g = logBase(a, logBase_);\n        var h = logBase(b, logBase_);\n        return BubbleSeries.vi(g, h, c, d, f);\n    };\n    BubbleSeries.prototype.e9 = function (a, b, c) {\n        var d = _super.prototype.e9.call(this, a, b, c);\n        if (this.vd == null || this.ck == null || this.vd.count == 0 || this.ck.count != this.vd.count) {\n            d = false;\n        }\n        return d;\n    };\n    BubbleSeries.prototype.sl = function (a, b) {\n        if (b != 3) {\n            return true;\n        }\n        if (a == null) {\n            return true;\n        }\n        if (this.td == a || this.tl == a || this.v6 == a) {\n            return true;\n        }\n        return false;\n    };\n    BubbleSeries.prototype.wa = function () {\n        var _this = this;\n        var a = typeCast(IChartLegend_$type, this.a1);\n        if (a == null || this.ck == null) {\n            return;\n        }\n        this.vh = new List$1(UIElement.$, 0);\n        var b = typeCast(CustomPaletteBrushScale.$, this.u3);\n        var c = typeCast(ValueBrushScale.$, this.u3);\n        var d = this.u3;\n        var e = this.u1();\n        var f = e.b;\n        var g = e.a;\n        var h = this.ck;\n        var _loop_2 = function (i) {\n            var j = null;\n            if (c != null && this_2.va != null) {\n                var k = this_2.va.item(i);\n                j = c.getBrushByRange(k, f, g);\n            }\n            else if (b != null) {\n                j = b.getBrush1(i, h.count);\n            }\n            else if (d != null) {\n                j = d.getBrush(i);\n            }\n            var l = new ContentControl();\n            var m = this_2.vc != null && this_2.vc.item(i) != null ? this_2.vc.item(i).toString() : \"\";\n            l.content = ((function () {\n                var $ret = new DataContext();\n                $ret.series = _this;\n                $ret.item = h.item(i);\n                $ret.itemBrush = j;\n                $ret.itemLabel = m;\n                return $ret;\n            })());\n            var n = this_2.nb;\n            if (n == null) {\n                n = this_2.b0.bl(this_2.b5);\n            }\n            l.ah = n;\n            this_2.vh.add(l);\n        };\n        var this_2 = this;\n        for (var i = 0; i < h.count; i++) {\n            _loop_2(i);\n        }\n    };\n    BubbleSeries.prototype.k0 = function (a, b, c, d) {\n        _super.prototype.k0.call(this, a, b, c, d);\n        if (this.u6 != null) {\n            this.u6.aa();\n        }\n        if (this.u3 != null) {\n            this.u3.x();\n        }\n        this.wb();\n    };\n    BubbleSeries.prototype.lh = function () {\n        _super.prototype.lh.call(this);\n        this.wb();\n    };\n    BubbleSeries.prototype.ln = function () {\n        _super.prototype.ln.call(this);\n        this.wb();\n    };\n    BubbleSeries.prototype.l3 = function (a, b, c, d) {\n        var e_1, _a;\n        _super.prototype.l3.call(this, a, b, c, d);\n        switch (b) {\n            case \"FastItemsSource\":\n                if (this.u6 != null) {\n                    this.u6.aa();\n                }\n                if (this.u3 != null) {\n                    this.u3.x();\n                }\n                if (typeCast(IFastItemsSource_$type, c) != null) {\n                    c.deregisterColumn(this.vd);\n                    c.deregisterColumn(this.va);\n                    c.deregisterColumn(this.vc);\n                    this.vd = null;\n                    this.va = null;\n                    this.vc = null;\n                }\n                if (typeCast(IFastItemsSource_$type, d) != null) {\n                    this.vd = this.ch(this.v6);\n                    if (!stringIsNullOrEmpty(this.vr)) {\n                        this.va = this.ch(this.vr);\n                    }\n                    this.vc = this.cj(this.vw);\n                }\n                this.mh(false);\n                this.wb();\n                break;\n            case BubbleSeries.$$p[11]:\n                if (this.u6 != null) {\n                    this.u6.aa();\n                }\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.vd);\n                    this.vd = this.ch(this.v6);\n                    this.wb();\n                }\n                break;\n            case \"RadiusColumn\":\n                if (this.u6 != null) {\n                    this.u6.aa();\n                }\n                this.rx.cx.g$i();\n                this.mh(false);\n                this.lp();\n                break;\n            case BubbleSeries.$$p[12]:\n                if (c != null) {\n                    c.l.remove(this);\n                    c.aa();\n                }\n                if (d != null) {\n                    d.l.add(this);\n                    d.aa();\n                }\n                this.mh(false);\n                this.lo();\n                break;\n            case BubbleSeries.$$p[13]:\n                this.mh(false);\n                this.lo();\n                break;\n            case \"DiscreteLegendItemTemplate\":\n                this.wb();\n                break;\n            case BubbleSeries.$$p[3]:\n                if (c != null) {\n                    c.o.remove(this);\n                    c.x();\n                }\n                if (d != null) {\n                    d.o.add(this);\n                    d.x();\n                }\n                this.mh(false);\n                this.wb();\n                this.lo();\n                break;\n            case BubbleSeries.$$p[4]:\n            case BubbleSeries.$$p[8]:\n            case BubbleSeries.$$p[7]:\n            case BubbleSeries.$$p[6]:\n                this.mh(false);\n                this.wb();\n                this.lo();\n                break;\n            case \"FillColumn\":\n                this.mh(false);\n                this.lo();\n                break;\n            case BubbleSeries.$$p[2]:\n                if (this.u3 != null) {\n                    this.u3.x();\n                }\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.va);\n                    this.va = this.ch(this.vr);\n                    this.wb();\n                }\n                break;\n            case BubbleSeries.$$p[5]:\n                if (this.ck != null) {\n                    this.ck.deregisterColumn(this.vc);\n                    this.vc = this.cj(this.vw);\n                    this.wb();\n                }\n                break;\n            case \"ActualLegend\":\n                var e = typeCast(IChartLegend_$type, c);\n                if (e != null && e.isItemwise) {\n                    var f = typeCast(IChartItemLegend_$type, e);\n                    f.clearLegendItemsForSeries(this);\n                }\n                if (e != null && e.isScale) {\n                    var g = typeCast(IChartScaleLegend_$type, e);\n                    var h = true;\n                    var i = null;\n                    if (this.cd != null) {\n                        try {\n                            for (var _b = __values(fromEnum(this.cd.series)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                var j = _c.value;\n                                if (j.legend == g) {\n                                    i = j;\n                                    h = false;\n                                }\n                            }\n                        }\n                        catch (e_1_1) {\n                            e_1 = { error: e_1_1 };\n                        }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_a = _b.return))\n                                    _a.call(_b);\n                            }\n                            finally {\n                                if (e_1)\n                                    throw e_1.error;\n                            }\n                        }\n                    }\n                    if (h) {\n                        g.restoreOriginalState();\n                    }\n                    else {\n                        g.initializeLegend(typeCast(IScaleLegendSeries_$type, i));\n                    }\n                }\n                this.wb();\n                break;\n            case \"SeriesViewer\":\n                this.wb();\n                break;\n        }\n    };\n    BubbleSeries.prototype.updateSizeScaleGlobals = function () {\n        var a = new ActualRange();\n        a.b = NaN;\n        a.a = NaN;\n        if (this.vd != null) {\n            a.b = this.vd.minimum;\n            a.a = this.vd.maximum;\n        }\n        if (this.u6 != null) {\n            this.u6.ab(a.b, a.a);\n        }\n    };\n    BubbleSeries.prototype.updateFillScaleGlobals = function () {\n        var a = new ActualRange();\n        a.b = NaN;\n        a.a = NaN;\n        if (this.va != null) {\n            a.b = this.va.minimum;\n            a.a = this.va.maximum;\n        }\n        if (this.u3 != null) {\n            this.u3.z(a.b, a.a);\n        }\n    };\n    BubbleSeries.prototype.u2 = function (a) {\n        var b = new ActualRange();\n        b.b = NaN;\n        b.a = NaN;\n        if (this.vd != null) {\n            b.b = this.vd.minimum;\n            b.a = this.vd.maximum;\n        }\n        if (a != null) {\n            a.x();\n            if (this.vg) {\n                b.b = a.globalMinimum;\n                b.a = a.globalMaximum;\n            }\n        }\n        return b;\n    };\n    BubbleSeries.prototype.u1 = function () {\n        var a = new ActualRange();\n        a.b = NaN;\n        a.a = NaN;\n        if (this.va != null) {\n            a.b = this.va.minimum;\n            a.a = this.va.maximum;\n        }\n        var b = typeCast(ValueBrushScale.$, this.u3);\n        if (b != null) {\n            b.s();\n            if (this.ve && this.u3.o.count > 1) {\n                a.b = b.q;\n                a.a = b.p;\n            }\n        }\n        return a;\n    };\n    BubbleSeries.prototype.wd = function (a, b, c, d) {\n        var e = c.width;\n        if (!this.b0.bu.isEmpty) {\n            e = this.b0.bu.width;\n        }\n        else if (this.cd != null && !this.cd.su.isEmpty) {\n            e = this.cd.su.width;\n        }\n        var f = DeviceUtils.c(e);\n        this.u5 = this.u6 || ((function () {\n            var $ret = new SizeScale();\n            $ret.minimumValue = f / 10;\n            $ret.maximumValue = f / 5;\n            return $ret;\n        })());\n        if (this.u5 != null) {\n            var g = this.u5.minimumValue;\n            var h = this.u5.maximumValue;\n            var i = this.u5.logarithmBase;\n            var j = this.u2(this.u5);\n            var k = j.b;\n            var l = j.a;\n            if (this.u5.isLogarithmic) {\n                for (var m = 0; m < b.count; m++) {\n                    b._inner[m] = BubbleSeries.vj(k, l, g, h, i, b._inner[m]);\n                }\n            }\n            else {\n                for (var n = 0; n < b.count; n++) {\n                    b._inner[n] = BubbleSeries.vi(k, l, g, h, b._inner[n]);\n                }\n            }\n        }\n        var o = 1;\n        o = DeviceUtils.d();\n        var p = this.u6 == null;\n        if (d) {\n            var q = c.width / e;\n            for (var r = 0; r < b.count; r++) {\n                if (p) {\n                    b._inner[r] = b._inner[r] / o;\n                }\n                b._inner[r] = b._inner[r] * q;\n            }\n        }\n        for (var s = 0; s < a.count; s++) {\n            var t = a._inner[s];\n            if (p && !d) {\n                t.width = Math.max(0, b._inner[s] / o);\n                t.height = Math.max(0, b._inner[s] / o);\n            }\n            else {\n                t.width = Math.max(0, b._inner[s]);\n                t.height = Math.max(0, b._inner[s]);\n            }\n        }\n    };\n    BubbleSeries.prototype.wc = function (a) {\n        var b = typeCast(BubbleSeriesView.$, this.bz);\n        this.u4.b3 = false;\n        if (b != null) {\n            b.b3 = false;\n        }\n        var c = typeCast(CustomPaletteBrushScale.$, this.u3);\n        var d = typeCast(ValueBrushScale.$, this.u3);\n        var e = this.u3;\n        var f = this.u1();\n        var g = f.b;\n        var h = f.a;\n        var i = this.u3 == null || !this.u3.isReady || (d != null && this.vr == null);\n        if (i) {\n            this.u4.dg();\n            if (b != null) {\n                b.dg();\n            }\n            return;\n        }\n        this.u4.b3 = true;\n        if (b != null) {\n            b.b3 = true;\n        }\n        var j = a.count;\n        var k = this.ck;\n        for (var l = 0; l < j; l++) {\n            var m = a._inner[l];\n            var n = typeCast(DataContext.$, m.content);\n            if (n != null) {\n                var o = null;\n                var p = k.indexOf(n.item);\n                if (c != null) {\n                    o = c.getBrush1(p, k.count);\n                }\n                else if (d != null && this.va != null) {\n                    var q = this.va.item(p);\n                    o = d.getBrushByRange(q, g, h);\n                }\n                else if (e != null) {\n                    o = e.getBrush(p);\n                }\n                else {\n                    if (this.re == null) {\n                        o = this.rc;\n                    }\n                    else {\n                        o = this.re;\n                    }\n                }\n                var r = null;\n                if (this.rf == null) {\n                    r = this.rd;\n                }\n                else {\n                    r = this.rf;\n                }\n                if (this.vf && o != null) {\n                    r = o;\n                }\n                if (r != null && !isNaN_(this.vl)) {\n                    r = BrushUtil.l(r, this.vl);\n                }\n                if (o != null && !isNaN_(this.vk)) {\n                    o = BrushUtil.l(o, this.vk);\n                }\n                n.itemBrush = o;\n                n.actualItemBrush = o;\n                n.outline = r;\n            }\n        }\n    };\n    BubbleSeries.prototype.getDataLegendSeriesContextAt = function (a, b) {\n        var c = { $type: Point_$type, x: a, y: b };\n        var d = this.ht(c);\n        var e = d == null ? NaN : this.gb(d, \"XMemberPath\");\n        var f = d == null ? NaN : this.gb(d, \"YMemberPath\");\n        var g = new DataLegendSeriesValueInfo();\n        g.a = 13;\n        g.l = e;\n        g.p = this.td != null ? this.td : \"X\";\n        g.q = this.s9 != null ? this.s9 : \"X:\";\n        g.r = this.tb != null ? this.tb : \"\";\n        var h = new DataLegendSeriesValueInfo();\n        h.l = f;\n        h.a = 14;\n        h.p = this.tl != null ? this.tl : \"Y\";\n        h.q = this.th != null ? this.th : \"Y:\";\n        h.r = this.tj != null ? this.tj : \"\";\n        var i = new DataLegendSeriesContext();\n        i.f = ((function () {\n            var $ret = new List$1(DataLegendSeriesValueInfo.$, 0);\n            $ret.add(g);\n            $ret.add(h);\n            return $ret;\n        })());\n        i.b = this.av();\n        if (!stringIsNullOrEmpty(this.v6)) {\n            var j = d == null ? NaN : this.gb(d, \"RadiusMemberPath\");\n            var k = new DataLegendSeriesValueInfo();\n            k.l = j;\n            k.a = 11;\n            k.p = this.v6 != null ? this.v6 : \"Radius\";\n            k.q = this.v2 != null ? this.v2 : \"R:\";\n            k.r = this.v4 != null ? this.v4 : \"\";\n            i.f.add(k);\n        }\n        else if (this.u5 != null) {\n            var l = new DataLegendSeriesValueInfo();\n            l.l = this.u5.maximumValue;\n            l.a = 11;\n            l.p = this.v6 != null ? this.v6 : \"Radius\";\n            l.q = this.v2 != null ? this.v2 : \"R:\";\n            l.r = this.v4 != null ? this.v4 : \"\";\n            i.f.add(l);\n        }\n        if (!stringIsNullOrEmpty(this.vr)) {\n            var m = d == null ? NaN : this.gb(d, \"FillMemberPath\");\n            var n = new DataLegendSeriesValueInfo();\n            n.l = m;\n            n.a = 12;\n            n.p = this.vr != null ? this.vr : \"Fill\";\n            n.q = this.vn != null ? this.vn : \"F:\";\n            n.r = this.vp != null ? this.vp : \"\";\n            i.f.add(n);\n        }\n        return i;\n    };\n    Object.defineProperty(BubbleSeries.prototype, \"actualMarkerBrush\", {\n        get: function () {\n            return this.rc;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BubbleSeries.$t = markType(BubbleSeries, 'BubbleSeries', ScatterBase.$, [IScaleLegendSeries_$type, ISupportsSizeScale_$type, ISupportsFillScale_$type]);\n    BubbleSeries.$$p = markDep(DependencyProperty, PropertyMetadata, BubbleSeries, 'raisePropertyChanged', ['FillMemberAsLegendLabel:vn:we', [2, null], 'FillMemberAsLegendUnit:vp:wf', [2, null], 'FillMemberPath:vr:wg', [2], 'FillScale:u3:wh', [BrushScale.$], 'FillScaleUseGlobalValues:ve:wi', [0, false], 'LabelMemberPath:vw:wj', [2], 'MarkerBrushBrightness:vk:wk', [1, NaN], 'MarkerOutlineBrightness:vl:wl', [1, NaN], 'MarkerOutlineUsesFillScale:vf:wm', [0, false], 'RadiusMemberAsLegendLabel:v2:wn', [2, null], 'RadiusMemberAsLegendUnit:v4:wo', [2, null], 'RadiusMemberPath:v6:wp', [2, null], 'RadiusScale:u6:wq', [SizeScale.$], 'RadiusScaleUseGlobalValues:vg:wr', [0, false]]);\n    return BubbleSeries;\n}(ScatterBase));\nexport { BubbleSeries };\n/**\n * @hidden\n */\nvar CustomPaletteBrushScale = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(CustomPaletteBrushScale, _super);\n    function CustomPaletteBrushScale() {\n        return _super.call(this) || this;\n    }\n    CustomPaletteBrushScale.prototype.getBrush1 = function (a, b) {\n        if (this.brushes == null || this.brushes.count == 0) {\n            return null;\n        }\n        if (this.brushSelectionMode == 0) {\n            return _super.prototype.getBrush.call(this, a % this.brushes.count);\n        }\n        var c = BubbleSeries.vi(0, b - 1, 0, this.brushes.count - 1, a);\n        return this.ab(c);\n    };\n    CustomPaletteBrushScale.prototype.get_isReady = function () {\n        return this.brushes != null && this.brushes.count > 0;\n    };\n    CustomPaletteBrushScale.$t = markType(CustomPaletteBrushScale, 'CustomPaletteBrushScale', BrushScale.$);\n    CustomPaletteBrushScale.$$p = markDep(DependencyProperty, PropertyMetadata, CustomPaletteBrushScale, 'v', ['BrushSelectionMode', [BrushSelectionMode_$type, enumGetBox(BrushSelectionMode_$type, 0)]]);\n    return CustomPaletteBrushScale;\n}(BrushScale));\nexport { CustomPaletteBrushScale };\n/**\n * @hidden\n */\nvar BubbleSeriesView = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(BubbleSeriesView, _super);\n    function BubbleSeriesView(a) {\n        var _this = _super.call(this, a) || this;\n        _this.df = null;\n        _this.df = a;\n        _this.cx = new ScatterTrendLineManager();\n        return _this;\n    }\n    BubbleSeriesView.prototype.as = function () {\n        _super.prototype.as.call(this);\n        if (!this.q) {\n            this.b1.qc = Defaults.e;\n        }\n    };\n    BubbleSeriesView.prototype.cu = function () {\n        var _this = this;\n        return new BubbleMarkerManager(function (a) { return _this.cy.item(a); }, function (a) { return _this.cw.rw.c.item(a); }, runOn(this, this.c9), runOn(this, this.cr), runOn(this, this.cz));\n    };\n    BubbleSeriesView.prototype.dh = function () {\n        var a = this.cv;\n        this.df.wd(a.n, a.o, this.bu, this == this.e.bz);\n        this.aq();\n    };\n    BubbleSeriesView.prototype.di = function () {\n        var a = this.cv;\n        this.df.wc(a.n);\n    };\n    BubbleSeriesView.prototype.dg = function () {\n        var e_2, _a;\n        var a = this.cv;\n        try {\n            for (var _b = __values(fromEnum(a.n)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var b = _c.value;\n                var c = typeCast(DataContext.$, b.content);\n                if (c != null) {\n                    c.itemBrush = null;\n                    c.outline = null;\n                }\n            }\n        }\n        catch (e_2_1) {\n            e_2 = { error: e_2_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_2)\n                    throw e_2.error;\n            }\n        }\n    };\n    BubbleSeriesView.prototype.getDefaultTooltipTemplate = function () {\n        var a = \"<div class='ui-chart-default-tooltip-content'><span\";\n        var b = this.e.a6.a$r(this.e);\n        if (!stringIsNullOrEmpty(b)) {\n            a += \" style='color:\" + b + \"'\";\n        }\n        a += \">\" + this.df.title + \"</span><br/><span>\" + \"(${item.\" + this.df.td + \"}, ${item.\" + this.df.tl + \"})</span>\";\n        if (!stringIsNullOrEmpty(this.df.v6)) {\n            a += \"<span>, Radius: ${item.\" + this.df.v6 + \"}</span>\";\n        }\n        a += \"</div>\";\n        return a;\n    };\n    BubbleSeriesView.$t = markType(BubbleSeriesView, 'BubbleSeriesView', ScatterBaseView.$);\n    return BubbleSeriesView;\n}(ScatterBaseView));\nexport { BubbleSeriesView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}