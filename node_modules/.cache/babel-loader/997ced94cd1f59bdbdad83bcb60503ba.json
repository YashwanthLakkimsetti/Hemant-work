{"ast":null,"code":"import * as React from \"react\";\n\nvar ContentChildrenManager =\n/** @class */\n\n/*@__PURE__*/\nfunction () {\n  function ContentChildrenManager(getPropsKey, getKey, updateContentChildren) {\n    this._contentChildren = null;\n    this._contentChildrenActual = null;\n    this._contentChildrenMap = null;\n    this._contentChildrenUnresolvedSet = null;\n    this._contentChildrenUnresolved = 0;\n    this.getChildRef = this.getChildRef.bind(this);\n    this._getPropsKey = getPropsKey;\n    this._getKey = getKey;\n    this._updateContentChildren = updateContentChildren;\n    this._contentChildrenUnresolvedSet = new Set();\n  }\n\n  ContentChildrenManager.prototype.getChildren = function (propChildren) {\n    var _this = this;\n\n    var children = [];\n    React.Children.forEach(propChildren, function (ch) {\n      var key = _this._getPropsKey(ch);\n\n      if (key === undefined) {\n        throw new Error(\"each child must have a unique key or name property\");\n      }\n\n      children.push(React.cloneElement(ch, {\n        key: key,\n        ref: _this.getChildRef\n      }));\n    });\n    this._contentChildren = children;\n    var prevActual = this._contentChildrenActual;\n    this._contentChildrenActual = [];\n    var prevMap = this._contentChildrenMap;\n    var prevUnresolved = this._contentChildrenUnresolvedSet;\n    this._contentChildrenUnresolvedSet = new Set();\n    this._contentChildrenMap = new Map();\n    this._contentChildrenUnresolved = 0;\n\n    if (this._contentChildren) {\n      this._contentChildren.map(function (ch, i) {\n        var key = _this._getPropsKey(ch);\n\n        var unresolved = prevUnresolved.has(key);\n\n        if (prevMap && prevMap.has(key) && !unresolved) {\n          _this._contentChildrenActual[i] = prevActual[prevMap.get(key)];\n        } else {\n          _this._contentChildrenActual[i] = null;\n\n          _this._contentChildrenUnresolvedSet.add(key);\n\n          _this._contentChildrenUnresolved++;\n        }\n\n        _this._contentChildrenMap.set(key, i);\n      });\n    }\n\n    return children;\n  };\n\n  ContentChildrenManager.prototype.getChildRef = function (child) {\n    //console.log(child);\n    this.trackChild(child);\n  };\n\n  Object.defineProperty(ContentChildrenManager.prototype, \"contentChildrenActual\", {\n    get: function get() {\n      return this._contentChildrenActual;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ContentChildrenManager.prototype.trackChild = function (child) {\n    if (child === null) {\n      return;\n    }\n\n    var name = this._getKey(child);\n\n    var index = this._contentChildrenMap.get(name);\n\n    if (this._contentChildrenActual[index] === null) {\n      this._contentChildrenActual[index] = child;\n\n      this._contentChildrenUnresolvedSet.delete(name);\n\n      this._contentChildrenUnresolved--;\n\n      if (this._contentChildrenUnresolved <= 0) {\n        this._updateContentChildren();\n      }\n    }\n  };\n\n  return ContentChildrenManager;\n}();\n\nexport { ContentChildrenManager };","map":{"version":3,"names":["React","ContentChildrenManager","getPropsKey","getKey","updateContentChildren","_contentChildren","_contentChildrenActual","_contentChildrenMap","_contentChildrenUnresolvedSet","_contentChildrenUnresolved","getChildRef","bind","_getPropsKey","_getKey","_updateContentChildren","Set","prototype","getChildren","propChildren","_this","children","Children","forEach","ch","key","undefined","Error","push","cloneElement","ref","prevActual","prevMap","prevUnresolved","Map","map","i","unresolved","has","get","add","set","child","trackChild","Object","defineProperty","enumerable","configurable","name","index","delete"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-core/esm5/lib/ContentChildrenManager.js"],"sourcesContent":["import * as React from \"react\";\nvar ContentChildrenManager = /** @class */ /*@__PURE__*/ (function () {\n    function ContentChildrenManager(getPropsKey, getKey, updateContentChildren) {\n        this._contentChildren = null;\n        this._contentChildrenActual = null;\n        this._contentChildrenMap = null;\n        this._contentChildrenUnresolvedSet = null;\n        this._contentChildrenUnresolved = 0;\n        this.getChildRef = this.getChildRef.bind(this);\n        this._getPropsKey = getPropsKey;\n        this._getKey = getKey;\n        this._updateContentChildren = updateContentChildren;\n        this._contentChildrenUnresolvedSet = new Set();\n    }\n    ContentChildrenManager.prototype.getChildren = function (propChildren) {\n        var _this = this;\n        var children = [];\n        React.Children.forEach(propChildren, function (ch) {\n            var key = _this._getPropsKey(ch);\n            if (key === undefined) {\n                throw new Error(\"each child must have a unique key or name property\");\n            }\n            children.push(React.cloneElement(ch, {\n                key: key,\n                ref: _this.getChildRef\n            }));\n        });\n        this._contentChildren = children;\n        var prevActual = this._contentChildrenActual;\n        this._contentChildrenActual = [];\n        var prevMap = this._contentChildrenMap;\n        var prevUnresolved = this._contentChildrenUnresolvedSet;\n        this._contentChildrenUnresolvedSet = new Set();\n        this._contentChildrenMap = new Map();\n        this._contentChildrenUnresolved = 0;\n        if (this._contentChildren) {\n            this._contentChildren.map(function (ch, i) {\n                var key = _this._getPropsKey(ch);\n                var unresolved = prevUnresolved.has(key);\n                if (prevMap && prevMap.has(key) && !unresolved) {\n                    _this._contentChildrenActual[i] = prevActual[prevMap.get(key)];\n                }\n                else {\n                    _this._contentChildrenActual[i] = null;\n                    _this._contentChildrenUnresolvedSet.add(key);\n                    _this._contentChildrenUnresolved++;\n                }\n                _this._contentChildrenMap.set(key, i);\n            });\n        }\n        return children;\n    };\n    ContentChildrenManager.prototype.getChildRef = function (child) {\n        //console.log(child);\n        this.trackChild(child);\n    };\n    Object.defineProperty(ContentChildrenManager.prototype, \"contentChildrenActual\", {\n        get: function () {\n            return this._contentChildrenActual;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ContentChildrenManager.prototype.trackChild = function (child) {\n        if (child === null) {\n            return;\n        }\n        var name = this._getKey(child);\n        var index = this._contentChildrenMap.get(name);\n        if (this._contentChildrenActual[index] === null) {\n            this._contentChildrenActual[index] = child;\n            this._contentChildrenUnresolvedSet.delete(name);\n            this._contentChildrenUnresolved--;\n            if (this._contentChildrenUnresolved <= 0) {\n                this._updateContentChildren();\n            }\n        }\n    };\n    return ContentChildrenManager;\n}());\nexport { ContentChildrenManager };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}