{"ast":null,"code":"/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { DependencyObjectNotifier } from \"./DependencyObjectNotifier\";\nimport { IList$1_$type, BaseError, delegateCombine, Point_$type, fromEnum, markType, markDep } from \"./type\";\nimport { ShapefileRecord } from \"./ShapefileRecord\";\nimport { INotifyCollectionChanged_$type } from \"./INotifyCollectionChanged\";\nimport { Rect } from \"./Rect\";\nimport { DependencyProperty } from \"./DependencyProperty\";\nimport { ObservableCollection$1 } from \"./ObservableCollection$1\";\nimport { List$1 } from \"./List$1\";\nimport { AsyncCompletedEventArgs } from \"./AsyncCompletedEventArgs\";\nimport { BinaryReader } from \"./BinaryReader\";\nimport { BinaryFileDownloader } from \"./BinaryFileDownloader\";\nimport { ShapeFilterRecordEventArgs } from \"./ShapeFilterRecordEventArgs\";\nimport { ShapeFileUtil } from \"./ShapeFileUtil\";\nimport { PropertyMetadata } from \"./PropertyMetadata\";\nimport { isNaN_, isInfinity } from \"./number\";\n/**\n * @hidden\n */\n\nvar ShapefileConverter =\n/** @class */\n\n/*@__PURE__*/\nfunction (_super) {\n  __extends(ShapefileConverter, _super);\n\n  function ShapefileConverter() {\n    var _this = _super.call(this) || this;\n\n    _this._name = null;\n    _this.a8 = null;\n    _this.a7 = Rect.empty;\n    _this._shapeHeader = null;\n    _this.q = false;\n    _this.importPending = null;\n    _this.importCompleted = null;\n    _this.x = null;\n    _this.collectionChanged = null;\n    _this.filter = null;\n    _this.records = new ObservableCollection$1(ShapefileRecord.$, 0);\n    var a = _this.records;\n    a.collectionChanged = delegateCombine(a.collectionChanged, function (a, b) {\n      if (_this.collectionChanged != null) {\n        _this.collectionChanged(_this, b);\n      }\n    });\n    return _this;\n  }\n\n  Object.defineProperty(ShapefileConverter.prototype, \"name\", {\n    get: function get() {\n      return this._name;\n    },\n    set: function set(a) {\n      this._name = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShapefileConverter.prototype, \"worldRect\", {\n    get: function get() {\n      return this.a8;\n    },\n    set: function set(a) {\n      if (Rect.l_op_Inequality(this.a8, a)) {\n        var b = this.a8;\n        this.a8 = a;\n        this.aw(\"WorldRect\", b, this.a8);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShapefileConverter.prototype, \"computedWorldRect\", {\n    get: function get() {\n      return this.a7;\n    },\n    set: function set(a) {\n      if (Rect.l_op_Inequality(this.a7, a)) {\n        var b = this.a7;\n        this.a7 = a;\n        this.aw(\"ComputedWorldRect\", b, this.a7);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ShapefileConverter.prototype.getWorldBounds = function (a) {\n    if (a && this.computedWorldRect.isEmpty == false) {\n      return this.computedWorldRect;\n    }\n\n    return this.worldRect;\n  };\n\n  ShapefileConverter.prototype.setWorldBounds = function (a, b) {\n    if (a) {\n      this.computedWorldRect = b;\n    } else {\n      this.worldRect = b;\n    }\n  };\n\n  Object.defineProperty(ShapefileConverter.prototype, \"shapeType\", {\n    get: function get() {\n      return this.shapeHeader.a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShapefileConverter.prototype, \"shapeHeader\", {\n    get: function get() {\n      return this._shapeHeader;\n    },\n    set: function set(a) {\n      this._shapeHeader = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ShapefileConverter.prototype.aw = function (a, b, c) {\n    switch (a) {\n      case ShapefileConverter.$$p[2]:\n      case ShapefileConverter.$$p[0]:\n        if (this.shapefileSource != null && this.databaseSource != null) {\n          this.at();\n        }\n\n        break;\n    }\n\n    this.j(a);\n  };\n\n  ShapefileConverter.prototype.sendImportCompleted = function () {\n    if (this.deferImportCompleted && this.q) {\n      this.deferImportCompleted = false;\n\n      if (this.importCompleted != null) {\n        this.importCompleted(this, new AsyncCompletedEventArgs(null, false, null));\n      }\n    }\n  };\n\n  ShapefileConverter.prototype.au = function (a) {\n    this.q = true;\n\n    if (this.deferImportCompleted) {\n      if (this.importPending != null) {\n        this.importPending(this, a);\n      }\n\n      return;\n    }\n\n    if (this.importCompleted != null) {\n      this.importCompleted(this, a);\n    }\n  };\n\n  ShapefileConverter.prototype.at = function () {\n    var _this = this;\n\n    this.q = false;\n    var a = null;\n    var b = null;\n\n    var c = function c() {\n      if (a != null && b != null) {\n        _this.av(a, b);\n\n        _this.au(new AsyncCompletedEventArgs(null, false, null));\n      }\n    };\n\n    BinaryFileDownloader.a(this.shapefileSource, function (d) {\n      a = new BinaryReader(0, d, false);\n      c();\n    }, function (d) {\n      throw new BaseError(1, \"shape file download error: \" + d);\n    });\n    BinaryFileDownloader.a(this.databaseSource, function (d) {\n      b = new BinaryReader(0, d, false);\n      c();\n    }, function (d) {\n      throw new BaseError(1, \"dbf file download error: \" + d);\n    });\n  };\n\n  ShapefileConverter.prototype.av = function (a, b) {\n    this.shapeHeader = ShapeFileUtil.a(a, b);\n    this.worldRect = this.shapeHeader.e;\n    var c = a.currentPosition;\n    var d = a.length;\n    var e = Rect.empty;\n\n    while (c < d) {\n      var f = ShapeFileUtil.e(this.shapeHeader, a, b);\n      var record_ = f;\n      var g = true;\n\n      if (this.filter != null) {\n        var h = new ShapeFilterRecordEventArgs();\n        h.b = true;\n        h.a = f;\n        this.filter(this, h);\n\n        if (!h.b) {\n          g = false;\n        }\n      }\n\n      if (g) {\n        this.records.add(f);\n\n        if (e.isEmpty) {\n          e = f.bounds;\n        } else {\n          e.union(f.bounds);\n        }\n      }\n\n      c = a.currentPosition;\n      d = a.length;\n    }\n\n    this.computedWorldRect = e.isEmpty ? this.worldRect : e;\n  };\n\n  Object.defineProperty(ShapefileConverter.prototype, \"records\", {\n    get: function get() {\n      return this.x;\n    },\n    set: function set(a) {\n      this.x = a;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ShapefileConverter.prototype.indexOf = function (a) {\n    return this.x.indexOf(a);\n  };\n\n  ShapefileConverter.prototype.insert = function (a, b) {\n    this.x.insert(a, b);\n  };\n\n  ShapefileConverter.prototype.removeAt = function (a) {\n    this.x.removeAt(a);\n  };\n\n  ShapefileConverter.prototype.item = function (a, b) {\n    if (arguments.length === 2) {\n      this.x.item(a, b);\n      return b;\n    } else {\n      return this.x._inner[a];\n    }\n  };\n\n  ShapefileConverter.prototype.add = function (a) {\n    this.x.add(a);\n  };\n\n  ShapefileConverter.prototype.clear = function () {\n    this.x.clear();\n  };\n\n  ShapefileConverter.prototype.contains = function (a) {\n    return this.x.contains(a);\n  };\n\n  ShapefileConverter.prototype.copyTo = function (a, b) {\n    this.x.copyTo(a, b);\n  };\n\n  Object.defineProperty(ShapefileConverter.prototype, \"count\", {\n    get: function get() {\n      return this.x.count;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ShapefileConverter.prototype, \"isReadOnly\", {\n    get: function get() {\n      return this.x.isReadOnly;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ShapefileConverter.prototype.remove = function (a) {\n    return this.x.remove(a);\n  };\n\n  ShapefileConverter.prototype.getEnumerator = function () {\n    return this.x.getEnumerator();\n  };\n\n  ShapefileConverter.prototype.getEnumeratorObject = function () {\n    return this.getEnumerator();\n  };\n\n  ShapefileConverter.prototype.getPointData = function () {\n    return new List$1(ShapefileRecord.$, 1, this.records);\n  };\n\n  ShapefileConverter.prototype.getRecordsCount = function () {\n    if (this.records == null) {\n      return 0;\n    }\n\n    return this.records.count;\n  };\n\n  ShapefileConverter.prototype.getRecord = function (a) {\n    return this.records._inner[a];\n  };\n\n  ShapefileConverter.prototype.getRecordBounds = function (a) {\n    if (this.records == null) {\n      return Rect.empty;\n    }\n\n    if (a < 0 || a > this.records.count - 1) {\n      return Rect.empty;\n    }\n\n    return this.records._inner[a].bounds;\n  };\n\n  ShapefileConverter.prototype.getRecordFieldNames = function (a) {\n    if (this.records == null) {\n      return null;\n    }\n\n    if (a < 0 || a > this.records.count - 1) {\n      return null;\n    }\n\n    var b = this.records._inner[a];\n\n    if (b == null || b.fieldsNames == null) {\n      return null;\n    }\n\n    return b.fieldsNames.toArray();\n  };\n\n  ShapefileConverter.prototype.getRecordValue = function (a, b) {\n    if (this.records == null) {\n      return null;\n    }\n\n    if (a < 0 || a > this.records.count - 1) {\n      return null;\n    }\n\n    var c = this.records._inner[a];\n\n    if (c == null || c.fieldsNames == null) {\n      return null;\n    }\n\n    return c.getFieldValue(b);\n  };\n\n  ShapefileConverter.prototype.removeRecord = function (a) {\n    if (this.records == null) {\n      return;\n    }\n\n    if (a < 0 || a > this.records.count - 1) {\n      return;\n    }\n\n    this.records.removeAt(a);\n  };\n\n  ShapefileConverter.prototype.shiftAllShapes = function (a, b) {\n    if (this.records == null) {\n      return;\n    }\n\n    for (var c = 0; c < this.records.count; c++) {\n      this.shiftShapes(c, a, b);\n    }\n  };\n\n  ShapefileConverter.prototype.shiftShapes = function (a, b, c) {\n    var e_1, _a, e_2, _b;\n\n    if (this.records == null) {\n      return;\n    }\n\n    if (a < 0 || a > this.records.count - 1) {\n      return;\n    }\n\n    var d = new List$1(List$1.$.specialize(Point_$type), 0);\n    var e = this.records._inner[a].points;\n\n    try {\n      for (var _c = __values(fromEnum(e)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var f = _d.value;\n        var g = ShapefileConverter.w(f, b, c);\n\n        try {\n          for (var _e = (e_2 = void 0, __values(fromEnum(g))), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var h = _f.value;\n            d.add(h);\n          }\n        } catch (e_2_1) {\n          e_2 = {\n            error: e_2_1\n          };\n        } finally {\n          try {\n            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n          } finally {\n            if (e_2) throw e_2.error;\n          }\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    this.records._inner[a].points = d;\n  };\n\n  ShapefileConverter.ai = function (a, b) {\n    return ShapefileConverter.ag(a, b, -180, 180);\n  };\n\n  ShapefileConverter.ah = function (a, b) {\n    return ShapefileConverter.ag(a, b, -85.05112878, 85.05112878);\n  };\n\n  ShapefileConverter.ag = function (a, b, c, d) {\n    var e = a;\n\n    if (isNaN_(b) || b == 0) {\n      return e;\n    }\n\n    if (e + b < c) {\n      e += 2 * d;\n      e += b;\n    } else if (e + b > d) {\n      e -= 2 * d;\n      e += b;\n    } else {\n      e += b;\n    }\n\n    return e;\n  };\n\n  ShapefileConverter.isValidGeoPoint = function (a) {\n    if (a.x < -180 || a.x > 180) {\n      return false;\n    }\n\n    if (a.y < -90 || a.y > 90) {\n      return false;\n    }\n\n    return true;\n  };\n\n  ShapefileConverter.isValidGeoShape = function (a) {\n    var e_3, _a;\n\n    if (a.count < 3) {\n      return false;\n    }\n\n    try {\n      for (var _b = __values(fromEnum(a)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var b = _c.value;\n\n        if (!ShapefileConverter.isValidGeoPoint(b)) {\n          return false;\n        }\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    return true;\n  };\n\n  ShapefileConverter.w = function (a, b, c, d) {\n    var e_4, _a, e_5, _b;\n\n    if (d === void 0) {\n      d = \"\";\n    }\n\n    var e = 1.7976931348623157E+308;\n    var f = -1.7976931348623157E+308;\n    var g = new List$1(Point_$type, 0);\n\n    try {\n      for (var _c = __values(fromEnum(a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var h = _d.value;\n        var i = ShapefileConverter.ag(h.x, b, -180, 180);\n        var j = ShapefileConverter.ag(h.y, c, -85.05112878, 85.05112878);\n        e = Math.min(e, i);\n        f = Math.max(f, i);\n        g.add({\n          $type: Point_$type,\n          x: i,\n          y: j\n        });\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n\n    var k = new List$1(List$1.$.specialize(Point_$type), 0);\n    var l = ShapefileConverter.ba(g);\n    var m = l.width;\n\n    if (l.left >= -180 && l.right <= 180 && l.width > 180) {\n      var n = new List$1(Point_$type, 0);\n      var o = new List$1(Point_$type, 0);\n\n      try {\n        for (var _e = __values(fromEnum(g)), _f = _e.next(); !_f.done; _f = _e.next()) {\n          var p = _f.value;\n\n          if (p.x >= -180 && p.x < 0) {\n            n.add(p);\n          } else {\n            o.add(p);\n          }\n        }\n      } catch (e_5_1) {\n        e_5 = {\n          error: e_5_1\n        };\n      } finally {\n        try {\n          if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n        } finally {\n          if (e_5) throw e_5.error;\n        }\n      }\n\n      var q = ShapefileConverter.ba(n);\n      var r = q.width;\n      var s = ShapefileConverter.ba(o);\n      var t = s.width;\n\n      if (ShapefileConverter.isValidGeoShape(n)) {\n        k.add(n);\n      }\n\n      if (ShapefileConverter.isValidGeoShape(o)) {\n        k.add(o);\n      }\n    } else {\n      if (ShapefileConverter.isValidGeoShape(g)) {\n        k.add(g);\n      }\n    }\n\n    return k;\n  };\n\n  ShapefileConverter.prototype.getMaxLongitude = function (a, b, c, d) {\n    var e_6, _a, e_7, _b, e_8, _c;\n\n    if (this.records == null) {\n      return NaN;\n    }\n\n    if (a < 0 || a > this.records.count - 1) {\n      return NaN;\n    }\n\n    var e = this.records._inner[a].points;\n    var f = c;\n\n    if (b) {\n      var g = ShapefileConverter.v(e);\n\n      try {\n        for (var _d = __values(fromEnum(g)), _e = _d.next(); !_e.done; _e = _d.next()) {\n          var h = _e.value;\n\n          if (h.x < d) {\n            f = Math.max(f, h.x);\n          }\n        }\n      } catch (e_6_1) {\n        e_6 = {\n          error: e_6_1\n        };\n      } finally {\n        try {\n          if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n        } finally {\n          if (e_6) throw e_6.error;\n        }\n      }\n    } else {\n      try {\n        for (var _f = __values(fromEnum(e)), _g = _f.next(); !_g.done; _g = _f.next()) {\n          var i = _g.value;\n\n          try {\n            for (var _h = (e_8 = void 0, __values(fromEnum(i))), _j = _h.next(); !_j.done; _j = _h.next()) {\n              var j = _j.value;\n\n              if (j.x < d) {\n                f = Math.max(f, j.x);\n              }\n            }\n          } catch (e_8_1) {\n            e_8 = {\n              error: e_8_1\n            };\n          } finally {\n            try {\n              if (_j && !_j.done && (_c = _h.return)) _c.call(_h);\n            } finally {\n              if (e_8) throw e_8.error;\n            }\n          }\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n\n    return f;\n  };\n\n  ShapefileConverter.prototype.setRecordValue = function (a, b, c) {\n    if (this.records == null) {\n      return;\n    }\n\n    if (a < 0 || a > this.records.count - 1) {\n      return;\n    }\n\n    var d = this.records._inner[a];\n\n    if (d == null || d.fieldsNames == null) {\n      return;\n    }\n\n    d.setFieldValue(b, c);\n  };\n\n  ShapefileConverter.prototype.getRecordValues = function (a) {\n    if (this.records == null) {\n      return null;\n    }\n\n    var b = new Array(this.records.count);\n\n    for (var c = 0; c < this.records.count; c++) {\n      var d = this.getRecordValue(c, a);\n      b[c] = d;\n    }\n\n    return b;\n  };\n\n  ShapefileConverter.prototype.setRecordValues = function (a, b) {\n    if (this.records == null) {\n      return;\n    }\n\n    var c = Math.min(b.length, this.records.count);\n\n    for (var d = 0; d < c; d++) {\n      this.setRecordValue(d, a, b[d]);\n    }\n  };\n\n  ShapefileConverter.ba = function (a) {\n    var b = Number.POSITIVE_INFINITY;\n    var c = Number.POSITIVE_INFINITY;\n    var d = Number.NEGATIVE_INFINITY;\n    var e = Number.NEGATIVE_INFINITY;\n\n    for (var f = 0; f < a.count; f++) {\n      var g = a._inner[f];\n      b = Math.min(b, g.x);\n      c = Math.min(c, g.y);\n      d = Math.max(d, g.x);\n      e = Math.max(e, g.y);\n    }\n\n    if (isInfinity(b) || isInfinity(c) || isInfinity(c) || isInfinity(e)) {\n      return Rect.empty;\n    }\n\n    return new Rect(0, b, c, d - b, e - c);\n  };\n\n  ShapefileConverter.prototype.getLargestShapeBoundsForRecord = function (a) {\n    if (this.records == null) {\n      return Rect.empty;\n    }\n\n    if (a < 0 || a > this.records.count - 1) {\n      return Rect.empty;\n    }\n\n    var b = this.records._inner[a];\n\n    if (b == null || b.fieldsNames == null) {\n      return Rect.empty;\n    }\n\n    var c = ShapefileConverter.v(b.points);\n    return ShapefileConverter.ba(c);\n  };\n\n  ShapefileConverter.v = function (a) {\n    var e_9, _a, e_10, _b;\n\n    var b = new List$1(Point_$type, 0);\n    var c = -1.7976931348623157E+308;\n\n    try {\n      for (var _c = __values(fromEnum(a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n        var d = _d.value;\n        var e = 1.7976931348623157E+308;\n        var f = -1.7976931348623157E+308;\n        var g = 1.7976931348623157E+308;\n        var h = -1.7976931348623157E+308;\n\n        try {\n          for (var _e = (e_10 = void 0, __values(fromEnum(d))), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var i = _f.value;\n            g = Math.min(g, i.y);\n            h = Math.max(h, i.y);\n            e = Math.min(e, i.x);\n            f = Math.max(f, i.x);\n          }\n        } catch (e_10_1) {\n          e_10 = {\n            error: e_10_1\n          };\n        } finally {\n          try {\n            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n          } finally {\n            if (e_10) throw e_10.error;\n          }\n        }\n\n        var j = f - e;\n        var k = h - g;\n        var l = new Rect(0, e, g, j, k);\n        var m = l.width * l.height;\n\n        if (m > c) {\n          c = m;\n          b = d;\n        }\n      }\n    } catch (e_9_1) {\n      e_9 = {\n        error: e_9_1\n      };\n    } finally {\n      try {\n        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n      } finally {\n        if (e_9) throw e_9.error;\n      }\n    }\n\n    return b;\n  };\n\n  ShapefileConverter.$t = markType(ShapefileConverter, 'ShapefileConverter', DependencyObjectNotifier.$, [IList$1_$type.specialize(ShapefileRecord.$), INotifyCollectionChanged_$type]);\n  ShapefileConverter.minLatitude = -85.05112878;\n  ShapefileConverter.maxLatitude = 85.05112878;\n  ShapefileConverter.minLongitude = -180;\n  ShapefileConverter.maxLongitude = 180;\n  ShapefileConverter.$$p = markDep(DependencyProperty, PropertyMetadata, ShapefileConverter, 'aw', ['DatabaseSource', [2, null], 'DeferImportCompleted', [0, false], 'ShapefileSource', [2, null]]);\n  return ShapefileConverter;\n}(DependencyObjectNotifier);\n\nexport { ShapefileConverter };","map":{"version":3,"names":["__extends","__values","DependencyObjectNotifier","IList$1_$type","BaseError","delegateCombine","Point_$type","fromEnum","markType","markDep","ShapefileRecord","INotifyCollectionChanged_$type","Rect","DependencyProperty","ObservableCollection$1","List$1","AsyncCompletedEventArgs","BinaryReader","BinaryFileDownloader","ShapeFilterRecordEventArgs","ShapeFileUtil","PropertyMetadata","isNaN_","isInfinity","ShapefileConverter","_super","_this","call","_name","a8","a7","empty","_shapeHeader","q","importPending","importCompleted","x","collectionChanged","filter","records","$","a","b","Object","defineProperty","prototype","get","set","enumerable","configurable","l_op_Inequality","aw","getWorldBounds","computedWorldRect","isEmpty","worldRect","setWorldBounds","shapeHeader","c","$$p","shapefileSource","databaseSource","at","j","sendImportCompleted","deferImportCompleted","au","av","d","e","currentPosition","length","f","record_","g","h","add","bounds","union","indexOf","insert","removeAt","item","arguments","_inner","clear","contains","copyTo","count","isReadOnly","remove","getEnumerator","getEnumeratorObject","getPointData","getRecordsCount","getRecord","getRecordBounds","getRecordFieldNames","fieldsNames","toArray","getRecordValue","getFieldValue","removeRecord","shiftAllShapes","shiftShapes","e_1","_a","e_2","_b","specialize","points","_c","_d","next","done","value","w","_e","_f","e_2_1","error","return","e_1_1","ai","ag","ah","isValidGeoPoint","y","isValidGeoShape","e_3","e_3_1","e_4","e_5","i","Math","min","max","$type","e_4_1","k","l","ba","m","width","left","right","n","o","p","e_5_1","r","s","t","getMaxLongitude","e_6","e_7","e_8","NaN","v","e_6_1","_g","_h","_j","e_8_1","e_7_1","setRecordValue","setFieldValue","getRecordValues","Array","setRecordValues","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","getLargestShapeBoundsForRecord","e_9","e_10","e_10_1","height","e_9_1","$t","minLatitude","maxLatitude","minLongitude","maxLongitude"],"sources":["C:/Users/lakki/Downloads/code/node_modules/igniteui-react-core/esm5/lib/ShapefileConverter.js"],"sourcesContent":["/*\nTHIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT (\"AGREEMENT\") LOCATED HERE:\nhttps://www.infragistics.com/legal/license/igultimate-la\nhttps://www.infragistics.com/legal/license/igultimate-eula\nGOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.\n*/\nimport { __extends, __values } from \"tslib\";\nimport { DependencyObjectNotifier } from \"./DependencyObjectNotifier\";\nimport { IList$1_$type, BaseError, delegateCombine, Point_$type, fromEnum, markType, markDep } from \"./type\";\nimport { ShapefileRecord } from \"./ShapefileRecord\";\nimport { INotifyCollectionChanged_$type } from \"./INotifyCollectionChanged\";\nimport { Rect } from \"./Rect\";\nimport { DependencyProperty } from \"./DependencyProperty\";\nimport { ObservableCollection$1 } from \"./ObservableCollection$1\";\nimport { List$1 } from \"./List$1\";\nimport { AsyncCompletedEventArgs } from \"./AsyncCompletedEventArgs\";\nimport { BinaryReader } from \"./BinaryReader\";\nimport { BinaryFileDownloader } from \"./BinaryFileDownloader\";\nimport { ShapeFilterRecordEventArgs } from \"./ShapeFilterRecordEventArgs\";\nimport { ShapeFileUtil } from \"./ShapeFileUtil\";\nimport { PropertyMetadata } from \"./PropertyMetadata\";\nimport { isNaN_, isInfinity } from \"./number\";\n/**\n * @hidden\n */\nvar ShapefileConverter = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(ShapefileConverter, _super);\n    function ShapefileConverter() {\n        var _this = _super.call(this) || this;\n        _this._name = null;\n        _this.a8 = null;\n        _this.a7 = Rect.empty;\n        _this._shapeHeader = null;\n        _this.q = false;\n        _this.importPending = null;\n        _this.importCompleted = null;\n        _this.x = null;\n        _this.collectionChanged = null;\n        _this.filter = null;\n        _this.records = new ObservableCollection$1(ShapefileRecord.$, 0);\n        var a = _this.records;\n        a.collectionChanged = delegateCombine(a.collectionChanged, function (a, b) {\n            if (_this.collectionChanged != null) {\n                _this.collectionChanged(_this, b);\n            }\n        });\n        return _this;\n    }\n    Object.defineProperty(ShapefileConverter.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        set: function (a) {\n            this._name = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ShapefileConverter.prototype, \"worldRect\", {\n        get: function () {\n            return this.a8;\n        },\n        set: function (a) {\n            if (Rect.l_op_Inequality(this.a8, a)) {\n                var b = this.a8;\n                this.a8 = a;\n                this.aw(\"WorldRect\", b, this.a8);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ShapefileConverter.prototype, \"computedWorldRect\", {\n        get: function () {\n            return this.a7;\n        },\n        set: function (a) {\n            if (Rect.l_op_Inequality(this.a7, a)) {\n                var b = this.a7;\n                this.a7 = a;\n                this.aw(\"ComputedWorldRect\", b, this.a7);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ShapefileConverter.prototype.getWorldBounds = function (a) {\n        if (a && this.computedWorldRect.isEmpty == false) {\n            return this.computedWorldRect;\n        }\n        return this.worldRect;\n    };\n    ShapefileConverter.prototype.setWorldBounds = function (a, b) {\n        if (a) {\n            this.computedWorldRect = b;\n        }\n        else {\n            this.worldRect = b;\n        }\n    };\n    Object.defineProperty(ShapefileConverter.prototype, \"shapeType\", {\n        get: function () {\n            return this.shapeHeader.a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ShapefileConverter.prototype, \"shapeHeader\", {\n        get: function () {\n            return this._shapeHeader;\n        },\n        set: function (a) {\n            this._shapeHeader = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ShapefileConverter.prototype.aw = function (a, b, c) {\n        switch (a) {\n            case ShapefileConverter.$$p[2]:\n            case ShapefileConverter.$$p[0]:\n                if (this.shapefileSource != null && this.databaseSource != null) {\n                    this.at();\n                }\n                break;\n        }\n        this.j(a);\n    };\n    ShapefileConverter.prototype.sendImportCompleted = function () {\n        if (this.deferImportCompleted && this.q) {\n            this.deferImportCompleted = false;\n            if (this.importCompleted != null) {\n                this.importCompleted(this, new AsyncCompletedEventArgs(null, false, null));\n            }\n        }\n    };\n    ShapefileConverter.prototype.au = function (a) {\n        this.q = true;\n        if (this.deferImportCompleted) {\n            if (this.importPending != null) {\n                this.importPending(this, a);\n            }\n            return;\n        }\n        if (this.importCompleted != null) {\n            this.importCompleted(this, a);\n        }\n    };\n    ShapefileConverter.prototype.at = function () {\n        var _this = this;\n        this.q = false;\n        var a = null;\n        var b = null;\n        var c = function () {\n            if (a != null && b != null) {\n                _this.av(a, b);\n                _this.au(new AsyncCompletedEventArgs(null, false, null));\n            }\n        };\n        BinaryFileDownloader.a(this.shapefileSource, function (d) {\n            a = new BinaryReader(0, d, false);\n            c();\n        }, function (d) {\n            throw new BaseError(1, \"shape file download error: \" + d);\n        });\n        BinaryFileDownloader.a(this.databaseSource, function (d) {\n            b = new BinaryReader(0, d, false);\n            c();\n        }, function (d) {\n            throw new BaseError(1, \"dbf file download error: \" + d);\n        });\n    };\n    ShapefileConverter.prototype.av = function (a, b) {\n        this.shapeHeader = ShapeFileUtil.a(a, b);\n        this.worldRect = this.shapeHeader.e;\n        var c = a.currentPosition;\n        var d = a.length;\n        var e = Rect.empty;\n        while (c < d) {\n            var f = ShapeFileUtil.e(this.shapeHeader, a, b);\n            var record_ = f;\n            var g = true;\n            if (this.filter != null) {\n                var h = new ShapeFilterRecordEventArgs();\n                h.b = true;\n                h.a = f;\n                this.filter(this, h);\n                if (!h.b) {\n                    g = false;\n                }\n            }\n            if (g) {\n                this.records.add(f);\n                if (e.isEmpty) {\n                    e = f.bounds;\n                }\n                else {\n                    e.union(f.bounds);\n                }\n            }\n            c = a.currentPosition;\n            d = a.length;\n        }\n        this.computedWorldRect = e.isEmpty ? this.worldRect : e;\n    };\n    Object.defineProperty(ShapefileConverter.prototype, \"records\", {\n        get: function () {\n            return this.x;\n        },\n        set: function (a) {\n            this.x = a;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ShapefileConverter.prototype.indexOf = function (a) {\n        return this.x.indexOf(a);\n    };\n    ShapefileConverter.prototype.insert = function (a, b) {\n        this.x.insert(a, b);\n    };\n    ShapefileConverter.prototype.removeAt = function (a) {\n        this.x.removeAt(a);\n    };\n    ShapefileConverter.prototype.item = function (a, b) {\n        if (arguments.length === 2) {\n            this.x.item(a, b);\n            return b;\n        }\n        else {\n            return this.x._inner[a];\n        }\n    };\n    ShapefileConverter.prototype.add = function (a) {\n        this.x.add(a);\n    };\n    ShapefileConverter.prototype.clear = function () {\n        this.x.clear();\n    };\n    ShapefileConverter.prototype.contains = function (a) {\n        return this.x.contains(a);\n    };\n    ShapefileConverter.prototype.copyTo = function (a, b) {\n        this.x.copyTo(a, b);\n    };\n    Object.defineProperty(ShapefileConverter.prototype, \"count\", {\n        get: function () {\n            return this.x.count;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ShapefileConverter.prototype, \"isReadOnly\", {\n        get: function () {\n            return this.x.isReadOnly;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ShapefileConverter.prototype.remove = function (a) {\n        return this.x.remove(a);\n    };\n    ShapefileConverter.prototype.getEnumerator = function () {\n        return this.x.getEnumerator();\n    };\n    ShapefileConverter.prototype.getEnumeratorObject = function () {\n        return this.getEnumerator();\n    };\n    ShapefileConverter.prototype.getPointData = function () {\n        return new List$1(ShapefileRecord.$, 1, this.records);\n    };\n    ShapefileConverter.prototype.getRecordsCount = function () {\n        if (this.records == null) {\n            return 0;\n        }\n        return this.records.count;\n    };\n    ShapefileConverter.prototype.getRecord = function (a) {\n        return this.records._inner[a];\n    };\n    ShapefileConverter.prototype.getRecordBounds = function (a) {\n        if (this.records == null) {\n            return Rect.empty;\n        }\n        if (a < 0 || a > this.records.count - 1) {\n            return Rect.empty;\n        }\n        return this.records._inner[a].bounds;\n    };\n    ShapefileConverter.prototype.getRecordFieldNames = function (a) {\n        if (this.records == null) {\n            return null;\n        }\n        if (a < 0 || a > this.records.count - 1) {\n            return null;\n        }\n        var b = this.records._inner[a];\n        if (b == null || b.fieldsNames == null) {\n            return null;\n        }\n        return b.fieldsNames.toArray();\n    };\n    ShapefileConverter.prototype.getRecordValue = function (a, b) {\n        if (this.records == null) {\n            return null;\n        }\n        if (a < 0 || a > this.records.count - 1) {\n            return null;\n        }\n        var c = this.records._inner[a];\n        if (c == null || c.fieldsNames == null) {\n            return null;\n        }\n        return c.getFieldValue(b);\n    };\n    ShapefileConverter.prototype.removeRecord = function (a) {\n        if (this.records == null) {\n            return;\n        }\n        if (a < 0 || a > this.records.count - 1) {\n            return;\n        }\n        this.records.removeAt(a);\n    };\n    ShapefileConverter.prototype.shiftAllShapes = function (a, b) {\n        if (this.records == null) {\n            return;\n        }\n        for (var c = 0; c < this.records.count; c++) {\n            this.shiftShapes(c, a, b);\n        }\n    };\n    ShapefileConverter.prototype.shiftShapes = function (a, b, c) {\n        var e_1, _a, e_2, _b;\n        if (this.records == null) {\n            return;\n        }\n        if (a < 0 || a > this.records.count - 1) {\n            return;\n        }\n        var d = new List$1(List$1.$.specialize(Point_$type), 0);\n        var e = this.records._inner[a].points;\n        try {\n            for (var _c = __values(fromEnum(e)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var f = _d.value;\n                var g = ShapefileConverter.w(f, b, c);\n                try {\n                    for (var _e = (e_2 = void 0, __values(fromEnum(g))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var h = _f.value;\n                        d.add(h);\n                    }\n                }\n                catch (e_2_1) {\n                    e_2 = { error: e_2_1 };\n                }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return))\n                            _b.call(_e);\n                    }\n                    finally {\n                        if (e_2)\n                            throw e_2.error;\n                    }\n                }\n            }\n        }\n        catch (e_1_1) {\n            e_1 = { error: e_1_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_1)\n                    throw e_1.error;\n            }\n        }\n        this.records._inner[a].points = d;\n    };\n    ShapefileConverter.ai = function (a, b) {\n        return ShapefileConverter.ag(a, b, -180, 180);\n    };\n    ShapefileConverter.ah = function (a, b) {\n        return ShapefileConverter.ag(a, b, -85.05112878, 85.05112878);\n    };\n    ShapefileConverter.ag = function (a, b, c, d) {\n        var e = a;\n        if (isNaN_(b) || b == 0) {\n            return e;\n        }\n        if (e + b < c) {\n            e += 2 * d;\n            e += b;\n        }\n        else if (e + b > d) {\n            e -= 2 * d;\n            e += b;\n        }\n        else {\n            e += b;\n        }\n        return e;\n    };\n    ShapefileConverter.isValidGeoPoint = function (a) {\n        if (a.x < -180 || a.x > 180) {\n            return false;\n        }\n        if (a.y < -90 || a.y > 90) {\n            return false;\n        }\n        return true;\n    };\n    ShapefileConverter.isValidGeoShape = function (a) {\n        var e_3, _a;\n        if (a.count < 3) {\n            return false;\n        }\n        try {\n            for (var _b = __values(fromEnum(a)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var b = _c.value;\n                if (!ShapefileConverter.isValidGeoPoint(b)) {\n                    return false;\n                }\n            }\n        }\n        catch (e_3_1) {\n            e_3 = { error: e_3_1 };\n        }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return))\n                    _a.call(_b);\n            }\n            finally {\n                if (e_3)\n                    throw e_3.error;\n            }\n        }\n        return true;\n    };\n    ShapefileConverter.w = function (a, b, c, d) {\n        var e_4, _a, e_5, _b;\n        if (d === void 0) {\n            d = \"\";\n        }\n        var e = 1.7976931348623157E+308;\n        var f = -1.7976931348623157E+308;\n        var g = new List$1(Point_$type, 0);\n        try {\n            for (var _c = __values(fromEnum(a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var h = _d.value;\n                var i = ShapefileConverter.ag(h.x, b, -180, 180);\n                var j = ShapefileConverter.ag(h.y, c, -85.05112878, 85.05112878);\n                e = Math.min(e, i);\n                f = Math.max(f, i);\n                g.add({ $type: Point_$type, x: i, y: j });\n            }\n        }\n        catch (e_4_1) {\n            e_4 = { error: e_4_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_4)\n                    throw e_4.error;\n            }\n        }\n        var k = new List$1(List$1.$.specialize(Point_$type), 0);\n        var l = ShapefileConverter.ba(g);\n        var m = l.width;\n        if (l.left >= -180 && l.right <= 180 && l.width > 180) {\n            var n = new List$1(Point_$type, 0);\n            var o = new List$1(Point_$type, 0);\n            try {\n                for (var _e = __values(fromEnum(g)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var p = _f.value;\n                    if (p.x >= -180 && p.x < 0) {\n                        n.add(p);\n                    }\n                    else {\n                        o.add(p);\n                    }\n                }\n            }\n            catch (e_5_1) {\n                e_5 = { error: e_5_1 };\n            }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return))\n                        _b.call(_e);\n                }\n                finally {\n                    if (e_5)\n                        throw e_5.error;\n                }\n            }\n            var q = ShapefileConverter.ba(n);\n            var r = q.width;\n            var s = ShapefileConverter.ba(o);\n            var t = s.width;\n            if (ShapefileConverter.isValidGeoShape(n)) {\n                k.add(n);\n            }\n            if (ShapefileConverter.isValidGeoShape(o)) {\n                k.add(o);\n            }\n        }\n        else {\n            if (ShapefileConverter.isValidGeoShape(g)) {\n                k.add(g);\n            }\n        }\n        return k;\n    };\n    ShapefileConverter.prototype.getMaxLongitude = function (a, b, c, d) {\n        var e_6, _a, e_7, _b, e_8, _c;\n        if (this.records == null) {\n            return NaN;\n        }\n        if (a < 0 || a > this.records.count - 1) {\n            return NaN;\n        }\n        var e = this.records._inner[a].points;\n        var f = c;\n        if (b) {\n            var g = ShapefileConverter.v(e);\n            try {\n                for (var _d = __values(fromEnum(g)), _e = _d.next(); !_e.done; _e = _d.next()) {\n                    var h = _e.value;\n                    if (h.x < d) {\n                        f = Math.max(f, h.x);\n                    }\n                }\n            }\n            catch (e_6_1) {\n                e_6 = { error: e_6_1 };\n            }\n            finally {\n                try {\n                    if (_e && !_e.done && (_a = _d.return))\n                        _a.call(_d);\n                }\n                finally {\n                    if (e_6)\n                        throw e_6.error;\n                }\n            }\n        }\n        else {\n            try {\n                for (var _f = __values(fromEnum(e)), _g = _f.next(); !_g.done; _g = _f.next()) {\n                    var i = _g.value;\n                    try {\n                        for (var _h = (e_8 = void 0, __values(fromEnum(i))), _j = _h.next(); !_j.done; _j = _h.next()) {\n                            var j = _j.value;\n                            if (j.x < d) {\n                                f = Math.max(f, j.x);\n                            }\n                        }\n                    }\n                    catch (e_8_1) {\n                        e_8 = { error: e_8_1 };\n                    }\n                    finally {\n                        try {\n                            if (_j && !_j.done && (_c = _h.return))\n                                _c.call(_h);\n                        }\n                        finally {\n                            if (e_8)\n                                throw e_8.error;\n                        }\n                    }\n                }\n            }\n            catch (e_7_1) {\n                e_7 = { error: e_7_1 };\n            }\n            finally {\n                try {\n                    if (_g && !_g.done && (_b = _f.return))\n                        _b.call(_f);\n                }\n                finally {\n                    if (e_7)\n                        throw e_7.error;\n                }\n            }\n        }\n        return f;\n    };\n    ShapefileConverter.prototype.setRecordValue = function (a, b, c) {\n        if (this.records == null) {\n            return;\n        }\n        if (a < 0 || a > this.records.count - 1) {\n            return;\n        }\n        var d = this.records._inner[a];\n        if (d == null || d.fieldsNames == null) {\n            return;\n        }\n        d.setFieldValue(b, c);\n    };\n    ShapefileConverter.prototype.getRecordValues = function (a) {\n        if (this.records == null) {\n            return null;\n        }\n        var b = new Array(this.records.count);\n        for (var c = 0; c < this.records.count; c++) {\n            var d = this.getRecordValue(c, a);\n            b[c] = d;\n        }\n        return b;\n    };\n    ShapefileConverter.prototype.setRecordValues = function (a, b) {\n        if (this.records == null) {\n            return;\n        }\n        var c = Math.min(b.length, this.records.count);\n        for (var d = 0; d < c; d++) {\n            this.setRecordValue(d, a, b[d]);\n        }\n    };\n    ShapefileConverter.ba = function (a) {\n        var b = Number.POSITIVE_INFINITY;\n        var c = Number.POSITIVE_INFINITY;\n        var d = Number.NEGATIVE_INFINITY;\n        var e = Number.NEGATIVE_INFINITY;\n        for (var f = 0; f < a.count; f++) {\n            var g = a._inner[f];\n            b = Math.min(b, g.x);\n            c = Math.min(c, g.y);\n            d = Math.max(d, g.x);\n            e = Math.max(e, g.y);\n        }\n        if (isInfinity(b) || isInfinity(c) || isInfinity(c) || isInfinity(e)) {\n            return Rect.empty;\n        }\n        return new Rect(0, b, c, d - b, e - c);\n    };\n    ShapefileConverter.prototype.getLargestShapeBoundsForRecord = function (a) {\n        if (this.records == null) {\n            return Rect.empty;\n        }\n        if (a < 0 || a > this.records.count - 1) {\n            return Rect.empty;\n        }\n        var b = this.records._inner[a];\n        if (b == null || b.fieldsNames == null) {\n            return Rect.empty;\n        }\n        var c = ShapefileConverter.v(b.points);\n        return ShapefileConverter.ba(c);\n    };\n    ShapefileConverter.v = function (a) {\n        var e_9, _a, e_10, _b;\n        var b = new List$1(Point_$type, 0);\n        var c = -1.7976931348623157E+308;\n        try {\n            for (var _c = __values(fromEnum(a)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var d = _d.value;\n                var e = 1.7976931348623157E+308;\n                var f = -1.7976931348623157E+308;\n                var g = 1.7976931348623157E+308;\n                var h = -1.7976931348623157E+308;\n                try {\n                    for (var _e = (e_10 = void 0, __values(fromEnum(d))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var i = _f.value;\n                        g = Math.min(g, i.y);\n                        h = Math.max(h, i.y);\n                        e = Math.min(e, i.x);\n                        f = Math.max(f, i.x);\n                    }\n                }\n                catch (e_10_1) {\n                    e_10 = { error: e_10_1 };\n                }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return))\n                            _b.call(_e);\n                    }\n                    finally {\n                        if (e_10)\n                            throw e_10.error;\n                    }\n                }\n                var j = f - e;\n                var k = h - g;\n                var l = new Rect(0, e, g, j, k);\n                var m = l.width * l.height;\n                if (m > c) {\n                    c = m;\n                    b = d;\n                }\n            }\n        }\n        catch (e_9_1) {\n            e_9 = { error: e_9_1 };\n        }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return))\n                    _a.call(_c);\n            }\n            finally {\n                if (e_9)\n                    throw e_9.error;\n            }\n        }\n        return b;\n    };\n    ShapefileConverter.$t = markType(ShapefileConverter, 'ShapefileConverter', DependencyObjectNotifier.$, [IList$1_$type.specialize(ShapefileRecord.$), INotifyCollectionChanged_$type]);\n    ShapefileConverter.minLatitude = -85.05112878;\n    ShapefileConverter.maxLatitude = 85.05112878;\n    ShapefileConverter.minLongitude = -180;\n    ShapefileConverter.maxLongitude = 180;\n    ShapefileConverter.$$p = markDep(DependencyProperty, PropertyMetadata, ShapefileConverter, 'aw', ['DatabaseSource', [2, null], 'DeferImportCompleted', [0, false], 'ShapefileSource', [2, null]]);\n    return ShapefileConverter;\n}(DependencyObjectNotifier));\nexport { ShapefileConverter };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}